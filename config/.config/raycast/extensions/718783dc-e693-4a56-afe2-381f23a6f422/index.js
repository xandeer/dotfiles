var Is=Object.create;var vr=Object.defineProperty;var Ws=Object.getOwnPropertyDescriptor;var xs=Object.getOwnPropertyNames;var $s=Object.getPrototypeOf,qs=Object.prototype.hasOwnProperty;var Zo=n=>vr(n,"__esModule",{value:!0});var We=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Fs=(n,r)=>{for(var o in r)vr(n,o,{get:r[o],enumerable:!0})},ei=(n,r,o,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of xs(r))!qs.call(n,s)&&(o||s!=="default")&&vr(n,s,{get:()=>r[s],enumerable:!(a=Ws(r,s))||a.enumerable});return n},be=(n,r)=>ei(Zo(vr(n!=null?Is($s(n)):{},"default",!r&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),zs=(n=>(r,o)=>n&&n.get(r)||(o=ei(Zo({}),r,1),n&&n.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var ti=(n,r,o)=>{if(!r.has(n))throw TypeError("Cannot "+o)};var Se=(n,r,o)=>(ti(n,r,"read from private field"),o?o.call(n):r.get(n)),wr=(n,r,o)=>{if(r.has(n))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(n):r.set(n,o)},It=(n,r,o,a)=>(ti(n,r,"write to private field"),a?a.call(n,o):r.set(n,o),o);var Si=We((ol,_i)=>{"use strict";function Rr(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Rr=function(r){return typeof r}:Rr=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Rr(n)}function K(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function ri(n,r){for(var o=0;o<r.length;o++){var a=r[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}function X(n,r,o){return r&&ri(n.prototype,r),o&&ri(n,o),n}function bn(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}function ni(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),o.push.apply(o,a)}return o}function oi(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?ni(Object(o),!0).forEach(function(a){bn(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ni(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}function xe(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&yn(n,r)}function Cr(n){return Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Cr(n)}function yn(n,r){return yn=Object.setPrototypeOf||function(a,s){return a.__proto__=s,a},yn(n,r)}function Ds(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function js(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Ns(n,r){return r&&(typeof r=="object"||typeof r=="function")?r:js(n)}function $e(n){var r=Ds();return function(){var a=Cr(n),s;if(r){var l=Cr(this).constructor;s=Reflect.construct(a,arguments,l)}else s=a.apply(this,arguments);return Ns(this,s)}}function qe(n){return Us(n)||Hs(n)||Vs(n)||Qs()}function Us(n){if(Array.isArray(n))return _n(n)}function Hs(n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(n))return Array.from(n)}function Vs(n,r){if(!!n){if(typeof n=="string")return _n(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _n(n,r)}}function _n(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,a=new Array(r);o<r;o++)a[o]=n[o];return a}function Qs(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ve(n){return Array.isArray?Array.isArray(n):si(n)==="[object Array]"}var Ys=1/0;function Gs(n){if(typeof n=="string")return n;var r=n+"";return r=="0"&&1/n==-Ys?"-0":r}function Ks(n){return n==null?"":Gs(n)}function we(n){return typeof n=="string"}function ii(n){return typeof n=="number"}function Xs(n){return n===!0||n===!1||Js(n)&&si(n)=="[object Boolean]"}function ai(n){return Rr(n)==="object"}function Js(n){return ai(n)&&n!==null}function te(n){return n!=null}function Sn(n){return!n.trim().length}function si(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}var Zs="Incorrect 'index' type",eu=function(r){return"Invalid value for key ".concat(r)},tu=function(r){return"Pattern length exceeds max of ".concat(r,".")},ru=function(r){return"Missing ".concat(r," property in key")},nu=function(r){return"Property 'weight' in key '".concat(r,"' must be a positive integer")},ui=Object.prototype.hasOwnProperty,ou=function(){function n(r){var o=this;K(this,n),this._keys=[],this._keyMap={};var a=0;r.forEach(function(s){var l=li(s);a+=l.weight,o._keys.push(l),o._keyMap[l.id]=l,a+=l.weight}),this._keys.forEach(function(s){s.weight/=a})}return X(n,[{key:"get",value:function(o){return this._keyMap[o]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),n}();function li(n){var r=null,o=null,a=null,s=1;if(we(n)||ve(n))a=n,r=ci(n),o=vn(n);else{if(!ui.call(n,"name"))throw new Error(ru("name"));var l=n.name;if(a=l,ui.call(n,"weight")&&(s=n.weight,s<=0))throw new Error(nu(l));r=ci(l),o=vn(l)}return{path:r,id:o,weight:s,src:a}}function ci(n){return ve(n)?n:n.split(".")}function vn(n){return ve(n)?n.join("."):n}function iu(n,r){var o=[],a=!1,s=function l(d,f,m){if(!!te(d))if(!f[m])o.push(d);else{var S=f[m],y=d[S];if(!te(y))return;if(m===f.length-1&&(we(y)||ii(y)||Xs(y)))o.push(Ks(y));else if(ve(y)){a=!0;for(var _=0,g=y.length;_<g;_+=1)l(y[_],f,m+1)}else f.length&&l(y,f,m+1)}};return s(n,we(r)?r.split("."):r,0),a?o:o[0]}var au={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},su={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(r,o){return r.score===o.score?r.idx<o.idx?-1:1:r.score<o.score?-1:1}},uu={location:0,threshold:.6,distance:100},lu={useExtendedSearch:!1,getFn:iu,ignoreLocation:!1,ignoreFieldNorm:!1},P=oi({},su,{},au,{},uu,{},lu),cu=/[^ ]+/g;function fu(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,r=new Map,o=Math.pow(10,n);return{get:function(s){var l=s.match(cu).length;if(r.has(l))return r.get(l);var d=1/Math.sqrt(l),f=parseFloat(Math.round(d*o)/o);return r.set(l,f),f},clear:function(){r.clear()}}}var wn=function(){function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=r.getFn,a=o===void 0?P.getFn:o;K(this,n),this.norm=fu(3),this.getFn=a,this.isCreated=!1,this.setIndexRecords()}return X(n,[{key:"setSources",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.docs=o}},{key:"setIndexRecords",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.records=o}},{key:"setKeys",value:function(){var o=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.keys=a,this._keysMap={},a.forEach(function(s,l){o._keysMap[s.id]=l})}},{key:"create",value:function(){var o=this;this.isCreated||!this.docs.length||(this.isCreated=!0,we(this.docs[0])?this.docs.forEach(function(a,s){o._addString(a,s)}):this.docs.forEach(function(a,s){o._addObject(a,s)}),this.norm.clear())}},{key:"add",value:function(o){var a=this.size();we(o)?this._addString(o,a):this._addObject(o,a)}},{key:"removeAt",value:function(o){this.records.splice(o,1);for(var a=o,s=this.size();a<s;a+=1)this.records[a].i-=1}},{key:"getValueForItemAtKeyId",value:function(o,a){return o[this._keysMap[a]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(o,a){if(!(!te(o)||Sn(o))){var s={v:o,i:a,n:this.norm.get(o)};this.records.push(s)}}},{key:"_addObject",value:function(o,a){var s=this,l={i:a,$:{}};this.keys.forEach(function(d,f){var m=s.getFn(o,d.path);if(!!te(m)){if(ve(m))(function(){for(var y=[],_=[{nestedArrIndex:-1,value:m}];_.length;){var g=_.pop(),h=g.nestedArrIndex,w=g.value;if(!!te(w))if(we(w)&&!Sn(w)){var R={v:w,i:h,n:s.norm.get(w)};y.push(R)}else ve(w)&&w.forEach(function(T,O){_.push({nestedArrIndex:O,value:T})})}l.$[f]=y})();else if(!Sn(m)){var S={v:m,n:s.norm.get(m)};l.$[f]=S}}}),this.records.push(l)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),n}();function fi(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.getFn,s=a===void 0?P.getFn:a,l=new wn({getFn:s});return l.setKeys(n.map(li)),l.setSources(r),l.create(),l}function du(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.getFn,a=o===void 0?P.getFn:o,s=n.keys,l=n.records,d=new wn({getFn:a});return d.setKeys(s),d.setIndexRecords(l),d}function Er(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.errors,a=o===void 0?0:o,s=r.currentLocation,l=s===void 0?0:s,d=r.expectedLocation,f=d===void 0?0:d,m=r.distance,S=m===void 0?P.distance:m,y=r.ignoreLocation,_=y===void 0?P.ignoreLocation:y,g=a/n.length;if(_)return g;var h=Math.abs(f-l);return S?g+h/S:h?1:g}function hu(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.minMatchCharLength,o=[],a=-1,s=-1,l=0,d=n.length;l<d;l+=1){var f=n[l];f&&a===-1?a=l:!f&&a!==-1&&(s=l-1,s-a+1>=r&&o.push([a,s]),a=-1)}return n[l-1]&&l-a>=r&&o.push([a,l-1]),o}var Ke=32;function mu(n,r,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a.location,l=s===void 0?P.location:s,d=a.distance,f=d===void 0?P.distance:d,m=a.threshold,S=m===void 0?P.threshold:m,y=a.findAllMatches,_=y===void 0?P.findAllMatches:y,g=a.minMatchCharLength,h=g===void 0?P.minMatchCharLength:g,w=a.includeMatches,R=w===void 0?P.includeMatches:w,T=a.ignoreLocation,O=T===void 0?P.ignoreLocation:T;if(r.length>Ke)throw new Error(tu(Ke));for(var L=r.length,W=n.length,k=Math.max(0,Math.min(l,W)),B=S,I=k,V=h>1||R,D=V?Array(W):[],U;(U=n.indexOf(r,I))>-1;){var tt=Er(r,{currentLocation:U,expectedLocation:k,distance:f,ignoreLocation:O});if(B=Math.min(tt,B),I=U+L,V)for(var H=0;H<L;)D[U+H]=1,H+=1}I=-1;for(var Z=[],Ee=1,je=L+W,Dr=1<<L-1,se=0;se<L;se+=1){for(var rt=0,ue=je;rt<ue;){var Dt=Er(r,{errors:se,currentLocation:k+ue,expectedLocation:k,distance:f,ignoreLocation:O});Dt<=B?rt=ue:je=ue,ue=Math.floor((je-rt)/2+rt)}je=ue;var gt=Math.max(1,k-ue+1),Ne=_?W:Math.min(k+ue,W)+L,me=Array(Ne+2);me[Ne+1]=(1<<se)-1;for(var ee=Ne;ee>=gt;ee-=1){var nt=ee-1,jt=o[n.charAt(nt)];if(V&&(D[nt]=+!!jt),me[ee]=(me[ee+1]<<1|1)&jt,se&&(me[ee]|=(Z[ee+1]|Z[ee])<<1|1|Z[ee+1]),me[ee]&Dr&&(Ee=Er(r,{errors:se,currentLocation:nt,expectedLocation:k,distance:f,ignoreLocation:O}),Ee<=B)){if(B=Ee,I=nt,I<=k)break;gt=Math.max(1,2*k-I)}}var le=Er(r,{errors:se+1,currentLocation:k,expectedLocation:k,distance:f,ignoreLocation:O});if(le>B)break;Z=me}var Q={isMatch:I>=0,score:Math.max(.001,Ee)};if(V){var Nt=hu(D,h);Nt.length?R&&(Q.indices=Nt):Q.isMatch=!1}return Q}function pu(n){for(var r={},o=0,a=n.length;o<a;o+=1){var s=n.charAt(o);r[s]=(r[s]||0)|1<<a-o-1}return r}var di=function(){function n(r){var o=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.location,l=s===void 0?P.location:s,d=a.threshold,f=d===void 0?P.threshold:d,m=a.distance,S=m===void 0?P.distance:m,y=a.includeMatches,_=y===void 0?P.includeMatches:y,g=a.findAllMatches,h=g===void 0?P.findAllMatches:g,w=a.minMatchCharLength,R=w===void 0?P.minMatchCharLength:w,T=a.isCaseSensitive,O=T===void 0?P.isCaseSensitive:T,L=a.ignoreLocation,W=L===void 0?P.ignoreLocation:L;if(K(this,n),this.options={location:l,threshold:f,distance:S,includeMatches:_,findAllMatches:h,minMatchCharLength:R,isCaseSensitive:O,ignoreLocation:W},this.pattern=O?r:r.toLowerCase(),this.chunks=[],!!this.pattern.length){var k=function(H,Z){o.chunks.push({pattern:H,alphabet:pu(H),startIndex:Z})},B=this.pattern.length;if(B>Ke){for(var I=0,V=B%Ke,D=B-V;I<D;)k(this.pattern.substr(I,Ke),I),I+=Ke;if(V){var U=B-Ke;k(this.pattern.substr(U),U)}}else k(this.pattern,0)}}return X(n,[{key:"searchIn",value:function(o){var a=this.options,s=a.isCaseSensitive,l=a.includeMatches;if(s||(o=o.toLowerCase()),this.pattern===o){var d={isMatch:!0,score:0};return l&&(d.indices=[[0,o.length-1]]),d}var f=this.options,m=f.location,S=f.distance,y=f.threshold,_=f.findAllMatches,g=f.minMatchCharLength,h=f.ignoreLocation,w=[],R=0,T=!1;this.chunks.forEach(function(L){var W=L.pattern,k=L.alphabet,B=L.startIndex,I=mu(o,W,k,{location:m+B,distance:S,threshold:y,findAllMatches:_,minMatchCharLength:g,includeMatches:l,ignoreLocation:h}),V=I.isMatch,D=I.score,U=I.indices;V&&(T=!0),R+=D,V&&U&&(w=[].concat(qe(w),qe(U)))});var O={isMatch:T,score:T?R/this.chunks.length:1};return T&&l&&(O.indices=w),O}}]),n}(),Fe=function(){function n(r){K(this,n),this.pattern=r}return X(n,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(o){return hi(o,this.multiRegex)}},{key:"isSingleMatch",value:function(o){return hi(o,this.singleRegex)}}]),n}();function hi(n,r){var o=n.match(r);return o?o[1]:null}var gu=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){var l=s===this.pattern;return{isMatch:l,score:l?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),o}(Fe),bu=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){var l=s.indexOf(this.pattern),d=l===-1;return{isMatch:d,score:d?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),o}(Fe),yu=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){var l=s.startsWith(this.pattern);return{isMatch:l,score:l?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),o}(Fe),_u=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){var l=!s.startsWith(this.pattern);return{isMatch:l,score:l?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),o}(Fe),Su=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){var l=s.endsWith(this.pattern);return{isMatch:l,score:l?0:1,indices:[s.length-this.pattern.length,s.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),o}(Fe),vu=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){var l=!s.endsWith(this.pattern);return{isMatch:l,score:l?0:1,indices:[0,s.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),o}(Fe),mi=function(n){xe(o,n);var r=$e(o);function o(a){var s,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=l.location,f=d===void 0?P.location:d,m=l.threshold,S=m===void 0?P.threshold:m,y=l.distance,_=y===void 0?P.distance:y,g=l.includeMatches,h=g===void 0?P.includeMatches:g,w=l.findAllMatches,R=w===void 0?P.findAllMatches:w,T=l.minMatchCharLength,O=T===void 0?P.minMatchCharLength:T,L=l.isCaseSensitive,W=L===void 0?P.isCaseSensitive:L,k=l.ignoreLocation,B=k===void 0?P.ignoreLocation:k;return K(this,o),s=r.call(this,a),s._bitapSearch=new di(a,{location:f,threshold:S,distance:_,includeMatches:h,findAllMatches:R,minMatchCharLength:O,isCaseSensitive:W,ignoreLocation:B}),s}return X(o,[{key:"search",value:function(s){return this._bitapSearch.searchIn(s)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),o}(Fe),pi=function(n){xe(o,n);var r=$e(o);function o(a){return K(this,o),r.call(this,a)}return X(o,[{key:"search",value:function(s){for(var l=0,d,f=[],m=this.pattern.length;(d=s.indexOf(this.pattern,l))>-1;)l=d+m,f.push([d,l-1]);var S=!!f.length;return{isMatch:S,score:S?0:1,indices:f}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),o}(Fe),Rn=[gu,pi,yu,_u,vu,Su,bu,mi],gi=Rn.length,wu=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,Ru="|";function Cu(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.split(Ru).map(function(o){for(var a=o.trim().split(wu).filter(function(w){return w&&!!w.trim()}),s=[],l=0,d=a.length;l<d;l+=1){for(var f=a[l],m=!1,S=-1;!m&&++S<gi;){var y=Rn[S],_=y.isMultiMatch(f);_&&(s.push(new y(_,r)),m=!0)}if(!m)for(S=-1;++S<gi;){var g=Rn[S],h=g.isSingleMatch(f);if(h){s.push(new g(h,r));break}}}return s})}var Eu=new Set([mi.type,pi.type]),Tu=function(){function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.isCaseSensitive,s=a===void 0?P.isCaseSensitive:a,l=o.includeMatches,d=l===void 0?P.includeMatches:l,f=o.minMatchCharLength,m=f===void 0?P.minMatchCharLength:f,S=o.ignoreLocation,y=S===void 0?P.ignoreLocation:S,_=o.findAllMatches,g=_===void 0?P.findAllMatches:_,h=o.location,w=h===void 0?P.location:h,R=o.threshold,T=R===void 0?P.threshold:R,O=o.distance,L=O===void 0?P.distance:O;K(this,n),this.query=null,this.options={isCaseSensitive:s,includeMatches:d,minMatchCharLength:m,findAllMatches:g,ignoreLocation:y,location:w,threshold:T,distance:L},this.pattern=s?r:r.toLowerCase(),this.query=Cu(this.pattern,this.options)}return X(n,[{key:"searchIn",value:function(o){var a=this.query;if(!a)return{isMatch:!1,score:1};var s=this.options,l=s.includeMatches,d=s.isCaseSensitive;o=d?o:o.toLowerCase();for(var f=0,m=[],S=0,y=0,_=a.length;y<_;y+=1){var g=a[y];m.length=0,f=0;for(var h=0,w=g.length;h<w;h+=1){var R=g[h],T=R.search(o),O=T.isMatch,L=T.indices,W=T.score;if(O){if(f+=1,S+=W,l){var k=R.constructor.type;Eu.has(k)?m=[].concat(qe(m),qe(L)):m.push(L)}}else{S=0,f=0,m.length=0;break}}if(f){var B={isMatch:!0,score:S/f};return l&&(B.indices=m),B}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(o,a){return a.useExtendedSearch}}]),n}(),Tr=[];function Pu(){Tr.push.apply(Tr,arguments)}function Cn(n,r){for(var o=0,a=Tr.length;o<a;o+=1){var s=Tr[o];if(s.condition(n,r))return new s(n,r)}return new di(n,r)}var Wt={AND:"$and",OR:"$or"},En={PATH:"$path",PATTERN:"$val"},Tn=function(r){return!!(r[Wt.AND]||r[Wt.OR])},Au=function(r){return!!r[En.PATH]},ku=function(r){return!ve(r)&&ai(r)&&!Tn(r)},bi=function(r){return bn({},Wt.AND,Object.keys(r).map(function(o){return bn({},o,r[o])}))};function yi(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.auto,s=a===void 0?!0:a,l=function d(f){var m=Object.keys(f),S=Au(f);if(!S&&m.length>1&&!Tn(f))return d(bi(f));if(ku(f)){var y=S?f[En.PATH]:m[0],_=S?f[En.PATTERN]:f[y];if(!we(_))throw new Error(eu(y));var g={keyId:vn(y),pattern:_};return s&&(g.searcher=Cn(_,r)),g}var h={children:[],operator:m[0]};return m.forEach(function(w){var R=f[w];ve(R)&&R.forEach(function(T){h.children.push(d(T))})}),h};return Tn(n)||(n=bi(n)),l(n)}function Ou(n,r){var o=r.ignoreFieldNorm,a=o===void 0?P.ignoreFieldNorm:o;n.forEach(function(s){var l=1;s.matches.forEach(function(d){var f=d.key,m=d.norm,S=d.score,y=f?f.weight:null;l*=Math.pow(S===0&&y?Number.EPSILON:S,(y||1)*(a?1:m))}),s.score=l})}function Lu(n,r){var o=n.matches;r.matches=[],!!te(o)&&o.forEach(function(a){if(!(!te(a.indices)||!a.indices.length)){var s=a.indices,l=a.value,d={indices:s,value:l};a.key&&(d.key=a.key.src),a.idx>-1&&(d.refIndex=a.idx),r.matches.push(d)}})}function Bu(n,r){r.score=n.score}function Mu(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.includeMatches,s=a===void 0?P.includeMatches:a,l=o.includeScore,d=l===void 0?P.includeScore:l,f=[];return s&&f.push(Lu),d&&f.push(Bu),n.map(function(m){var S=m.idx,y={item:r[S],refIndex:S};return f.length&&f.forEach(function(_){_(m,y)}),y})}var ft=function(){function n(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;K(this,n),this.options=oi({},P,{},o),this.options.useExtendedSearch,this._keyStore=new ou(this.options.keys),this.setCollection(r,a)}return X(n,[{key:"setCollection",value:function(o,a){if(this._docs=o,a&&!(a instanceof wn))throw new Error(Zs);this._myIndex=a||fi(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(o){!te(o)||(this._docs.push(o),this._myIndex.add(o))}},{key:"remove",value:function(){for(var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){return!1},a=[],s=0,l=this._docs.length;s<l;s+=1){var d=this._docs[s];o(d,s)&&(this.removeAt(s),s-=1,l-=1,a.push(d))}return a}},{key:"removeAt",value:function(o){this._docs.splice(o,1),this._myIndex.removeAt(o)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.limit,l=s===void 0?-1:s,d=this.options,f=d.includeMatches,m=d.includeScore,S=d.shouldSort,y=d.sortFn,_=d.ignoreFieldNorm,g=we(o)?we(this._docs[0])?this._searchStringList(o):this._searchObjectList(o):this._searchLogical(o);return Ou(g,{ignoreFieldNorm:_}),S&&g.sort(y),ii(l)&&l>-1&&(g=g.slice(0,l)),Mu(g,this._docs,{includeMatches:f,includeScore:m})}},{key:"_searchStringList",value:function(o){var a=Cn(o,this.options),s=this._myIndex.records,l=[];return s.forEach(function(d){var f=d.v,m=d.i,S=d.n;if(!!te(f)){var y=a.searchIn(f),_=y.isMatch,g=y.score,h=y.indices;_&&l.push({item:f,idx:m,matches:[{score:g,value:f,norm:S,indices:h}]})}}),l}},{key:"_searchLogical",value:function(o){var a=this,s=yi(o,this.options),l=function S(y,_,g){if(!y.children){var h=y.keyId,w=y.searcher,R=a._findMatches({key:a._keyStore.get(h),value:a._myIndex.getValueForItemAtKeyId(_,h),searcher:w});return R&&R.length?[{idx:g,item:_,matches:R}]:[]}switch(y.operator){case Wt.AND:{for(var T=[],O=0,L=y.children.length;O<L;O+=1){var W=y.children[O],k=S(W,_,g);if(k.length)T.push.apply(T,qe(k));else return[]}return T}case Wt.OR:{for(var B=[],I=0,V=y.children.length;I<V;I+=1){var D=y.children[I],U=S(D,_,g);if(U.length){B.push.apply(B,qe(U));break}}return B}}},d=this._myIndex.records,f={},m=[];return d.forEach(function(S){var y=S.$,_=S.i;if(te(y)){var g=l(s,y,_);g.length&&(f[_]||(f[_]={idx:_,item:y,matches:[]},m.push(f[_])),g.forEach(function(h){var w,R=h.matches;(w=f[_].matches).push.apply(w,qe(R))}))}}),m}},{key:"_searchObjectList",value:function(o){var a=this,s=Cn(o,this.options),l=this._myIndex,d=l.keys,f=l.records,m=[];return f.forEach(function(S){var y=S.$,_=S.i;if(!!te(y)){var g=[];d.forEach(function(h,w){g.push.apply(g,qe(a._findMatches({key:h,value:y[w],searcher:s})))}),g.length&&m.push({idx:_,item:y,matches:g})}}),m}},{key:"_findMatches",value:function(o){var a=o.key,s=o.value,l=o.searcher;if(!te(s))return[];var d=[];if(ve(s))s.forEach(function(h){var w=h.v,R=h.i,T=h.n;if(!!te(w)){var O=l.searchIn(w),L=O.isMatch,W=O.score,k=O.indices;L&&d.push({score:W,key:a,value:w,idx:R,norm:T,indices:k})}});else{var f=s.v,m=s.n,S=l.searchIn(f),y=S.isMatch,_=S.score,g=S.indices;y&&d.push({score:_,key:a,value:f,norm:m,indices:g})}return d}}]),n}();ft.version="6.4.6";ft.createIndex=fi;ft.parseIndex=du;ft.config=P;ft.parseQuery=yi;Pu(Tu);_i.exports=ft});var wi=We((il,vi)=>{"use strict";function Iu(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),a="",s=!1,l=o[0]||"text/plain",d=l;for(let y=1;y<o.length;y++)o[y]==="base64"?s=!0:(d+=`;${o[y]}`,o[y].indexOf("charset=")===0&&(a=o[y].substring(8)));!o[0]&&!a.length&&(d+=";charset=US-ASCII",a="US-ASCII");let f=s?"base64":"ascii",m=unescape(n.substring(r+1)),S=Buffer.from(m,f);return S.type=l,S.typeFull=d,S.charset=a,S}vi.exports=Iu});var Ci=We((Pr,Ri)=>{(function(n,r){typeof Pr=="object"&&typeof Ri!="undefined"?r(Pr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis!="undefined"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(Pr,function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function a(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global}let s=a();function l(e){return typeof e=="object"&&e!==null||typeof e=="function"}let d=o,f=Promise,m=Promise.prototype.then,S=Promise.resolve.bind(f),y=Promise.reject.bind(f);function _(e){return new f(e)}function g(e){return S(e)}function h(e){return y(e)}function w(e,t,i){return m.call(e,t,i)}function R(e,t,i){w(w(e,t,i),void 0,d)}function T(e,t){R(e,t)}function O(e,t){R(e,void 0,t)}function L(e,t,i){return w(e,t,i)}function W(e){w(e,void 0,d)}let k=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=g(void 0);return i=>w(t,i)})();function B(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function I(e,t,i){try{return g(B(e,t,i))}catch(u){return h(u)}}let V=16384;class D{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let i=this._back,u=i;i._elements.length===V-1&&(u={_elements:[],_next:void 0}),i._elements.push(t),u!==i&&(this._back=u,i._next=u),++this._size}shift(){let t=this._front,i=t,u=this._cursor,c=u+1,p=t._elements,b=p[u];return c===V&&(i=t._next,c=0),--this._size,this._cursor=c,t!==i&&(this._front=i),p[u]=void 0,b}forEach(t){let i=this._cursor,u=this._front,c=u._elements;for(;(i!==c.length||u._next!==void 0)&&!(i===c.length&&(u=u._next,c=u._elements,i=0,c.length===0));)t(c[i]),++i}peek(){let t=this._front,i=this._cursor;return t._elements[i]}}function U(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Ee(e):t._state==="closed"?Dr(e):je(e,t._storedError)}function tt(e,t){let i=e._ownerReadableStream;return fe(i,t)}function H(e){e._ownerReadableStream._state==="readable"?se(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):rt(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Z(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Ee(e){e._closedPromise=_((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function je(e,t){Ee(e),se(e,t)}function Dr(e){Ee(e),ue(e)}function se(e,t){e._closedPromise_reject!==void 0&&(W(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function rt(e,t){je(e,t)}function ue(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let Dt=r("[[AbortSteps]]"),gt=r("[[ErrorSteps]]"),Ne=r("[[CancelSteps]]"),me=r("[[PullSteps]]"),ee=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},nt=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function jt(e){return typeof e=="object"||typeof e=="function"}function le(e,t){if(e!==void 0&&!jt(e))throw new TypeError(`${t} is not an object.`)}function Q(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function Nt(e){return typeof e=="object"&&e!==null||typeof e=="function"}function Nn(e,t){if(!Nt(e))throw new TypeError(`${t} is not an object.`)}function _e(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function jr(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function Nr(e){return Number(e)}function Un(e){return e===0?0:e}function ma(e){return Un(nt(e))}function Hn(e,t){let i=0,u=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=Un(c),!ee(c))throw new TypeError(`${t} is not a finite number`);if(c=ma(c),c<i||c>u)throw new TypeError(`${t} is outside the accepted range of ${i} to ${u}, inclusive`);return!ee(c)||c===0?0:c}function Ur(e,t){if(!Oe(e))throw new TypeError(`${t} is not a ReadableStream.`)}function ot(e){return new bt(e)}function Vn(e,t){e._reader._readRequests.push(t)}function Hr(e,t,i){let c=e._reader._readRequests.shift();i?c._closeSteps():c._chunkSteps(t)}function Ut(e){return e._reader._readRequests.length}function Qn(e){let t=e._reader;return!(t===void 0||!Te(t))}class bt{constructor(t){if(_e(t,1,"ReadableStreamDefaultReader"),Ur(t,"First parameter"),Le(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");U(this,t),this._readRequests=new D}get closed(){return Te(this)?this._closedPromise:h(Ht("closed"))}cancel(t=void 0){return Te(this)?this._ownerReadableStream===void 0?h(Z("cancel")):tt(this,t):h(Ht("cancel"))}read(){if(!Te(this))return h(Ht("read"));if(this._ownerReadableStream===void 0)return h(Z("read from"));let t,i,u=_((p,b)=>{t=p,i=b});return yt(this,{_chunkSteps:p=>t({value:p,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:p=>i(p)}),u}releaseLock(){if(!Te(this))throw Ht("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");H(this)}}}Object.defineProperties(bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Te(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof bt}function yt(e,t){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[me](t)}function Ht(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Yn=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Gn{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?L(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let i=()=>this._returnSteps(t);return this._ongoingPromise?L(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return h(Z("iterate"));let i,u,c=_((b,v)=>{i=b,u=v});return yt(t,{_chunkSteps:b=>{this._ongoingPromise=void 0,k(()=>i({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,H(t),i({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,H(t),u(b)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let i=this._reader;if(i._ownerReadableStream===void 0)return h(Z("finish iterating"));if(!this._preventCancel){let u=tt(i,t);return H(i),L(u,()=>({value:t,done:!0}))}return H(i),g({value:t,done:!0})}}let Kn={next(){return Xn(this)?this._asyncIteratorImpl.next():h(Jn("next"))},return(e){return Xn(this)?this._asyncIteratorImpl.return(e):h(Jn("return"))}};Yn!==void 0&&Object.setPrototypeOf(Kn,Yn);function pa(e,t){let i=ot(e),u=new Gn(i,t),c=Object.create(Kn);return c._asyncIteratorImpl=u,c}function Xn(e){if(!l(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Gn}catch{return!1}}function Jn(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Zn=Number.isNaN||function(e){return e!==e};function _t(e){return e.slice()}function eo(e,t,i,u,c){new Uint8Array(e).set(new Uint8Array(i,u,c),t)}function St(e){return e}function Vt(e){return!1}function to(e,t,i){if(e.slice)return e.slice(t,i);let u=i-t,c=new ArrayBuffer(u);return eo(c,0,e,t,u),c}function ga(e){return!(typeof e!="number"||Zn(e)||e<0)}function ro(e){let t=to(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Vr(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Qr(e,t,i){if(!ga(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function ba(e){return e._queue.peek().value}function Pe(e){e._queue=new D,e._queueTotalSize=0}class vt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Yr(this))throw Zr("view");return this._view}respond(t){if(!Yr(this))throw Zr("respond");if(_e(t,1,"respond"),t=Hn(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(this._view.buffer),Kt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Yr(this))throw Zr("respondWithNewView");if(_e(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(t.buffer),Xt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(vt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(vt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class it{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ue(this))throw Rt("byobRequest");return Jr(this)}get desiredSize(){if(!Ue(this))throw Rt("desiredSize");return co(this)}close(){if(!Ue(this))throw Rt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);wt(this)}enqueue(t){if(!Ue(this))throw Rt("enqueue");if(_e(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);Gt(this,t)}error(t=void 0){if(!Ue(this))throw Rt("error");ce(this,t)}[Ne](t){no(this),Pe(this);let i=this._cancelAlgorithm(t);return Yt(this),i}[me](t){let i=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,so(this);let p=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(p);return}let u=this._autoAllocateChunkSize;if(u!==void 0){let c;try{c=new ArrayBuffer(u)}catch(b){t._errorSteps(b);return}let p={buffer:c,bufferByteLength:u,byteOffset:0,byteLength:u,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}Vn(i,t),He(this)}}Object.defineProperties(it.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(it.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Ue(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof it}function Yr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof vt}function He(e){if(!va(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();R(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,He(e))},u=>{ce(e,u)})}function no(e){Kr(e),e._pendingPullIntos=new D}function Gr(e,t){let i=!1;e._state==="closed"&&(i=!0);let u=oo(t);t.readerType==="default"?Hr(e,u,i):Ca(e,u,i)}function oo(e){let t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function Qt(e,t,i,u){e._queue.push({buffer:t,byteOffset:i,byteLength:u}),e._queueTotalSize+=u}function io(e,t){let i=t.elementSize,u=t.bytesFilled-t.bytesFilled%i,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),p=t.bytesFilled+c,b=p-p%i,v=c,C=!1;b>u&&(v=b-t.bytesFilled,C=!0);let M=e._queue;for(;v>0;){let F=M.peek(),$=Math.min(v,F.byteLength),j=t.byteOffset+t.bytesFilled;eo(t.buffer,j,F.buffer,F.byteOffset,$),F.byteLength===$?M.shift():(F.byteOffset+=$,F.byteLength-=$),e._queueTotalSize-=$,ao(e,$,t),v-=$}return C}function ao(e,t,i){i.bytesFilled+=t}function so(e){e._queueTotalSize===0&&e._closeRequested?(Yt(e),Lt(e._controlledReadableByteStream)):He(e)}function Kr(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function uo(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();io(e,t)&&(Xr(e),Gr(e._controlledReadableByteStream,t))}}function ya(e,t,i){let u=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let p=t.constructor,b=St(t.buffer),v={buffer:b,bufferByteLength:b.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),mo(u,i);return}if(u._state==="closed"){let C=new p(v.buffer,v.byteOffset,0);i._closeSteps(C);return}if(e._queueTotalSize>0){if(io(e,v)){let C=oo(v);so(e),i._chunkSteps(C);return}if(e._closeRequested){let C=new TypeError("Insufficient bytes to fill elements in the given buffer");ce(e,C),i._errorSteps(C);return}}e._pendingPullIntos.push(v),mo(u,i),He(e)}function _a(e,t){let i=e._controlledReadableByteStream;if(en(i))for(;po(i)>0;){let u=Xr(e);Gr(i,u)}}function Sa(e,t,i){if(ao(e,t,i),i.bytesFilled<i.elementSize)return;Xr(e);let u=i.bytesFilled%i.elementSize;if(u>0){let c=i.byteOffset+i.bytesFilled,p=to(i.buffer,c-u,c);Qt(e,p,0,p.byteLength)}i.bytesFilled-=u,Gr(e._controlledReadableByteStream,i),uo(e)}function lo(e,t){let i=e._pendingPullIntos.peek();Kr(e),e._controlledReadableByteStream._state==="closed"?_a(e):Sa(e,t,i),He(e)}function Xr(e){return e._pendingPullIntos.shift()}function va(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(Qn(t)&&Ut(t)>0||en(t)&&po(t)>0||co(e)>0)}function Yt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function wt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let u=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ce(e,u),u}Yt(e),Lt(t)}}function Gt(e,t){let i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;let u=t.buffer,c=t.byteOffset,p=t.byteLength,b=St(u);if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();Vt(v.buffer),v.buffer=St(v.buffer)}if(Kr(e),Qn(i))if(Ut(i)===0)Qt(e,b,c,p);else{let v=new Uint8Array(b,c,p);Hr(i,v,!1)}else en(i)?(Qt(e,b,c,p),uo(e)):Qt(e,b,c,p);He(e)}function ce(e,t){let i=e._controlledReadableByteStream;i._state==="readable"&&(no(e),Pe(e),Yt(e),Fo(i,t))}function Jr(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),u=Object.create(vt.prototype);Ra(u,e,i),e._byobRequest=u}return e._byobRequest}function co(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Kt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=St(i.buffer),lo(e,t)}function Xt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");i.buffer=St(t.buffer),lo(e,t.byteLength)}function fo(e,t,i,u,c,p,b){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Pe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=p,t._pullAlgorithm=u,t._cancelAlgorithm=c,t._autoAllocateChunkSize=b,t._pendingPullIntos=new D,e._readableStreamController=t;let v=i();R(g(v),()=>{t._started=!0,He(t)},C=>{ce(t,C)})}function wa(e,t,i){let u=Object.create(it.prototype),c=()=>{},p=()=>g(void 0),b=()=>g(void 0);t.start!==void 0&&(c=()=>t.start(u)),t.pull!==void 0&&(p=()=>t.pull(u)),t.cancel!==void 0&&(b=C=>t.cancel(C));let v=t.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");fo(e,u,c,p,b,i,v)}function Ra(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function Zr(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Rt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function ho(e){return new Ct(e)}function mo(e,t){e._reader._readIntoRequests.push(t)}function Ca(e,t,i){let c=e._reader._readIntoRequests.shift();i?c._closeSteps(t):c._chunkSteps(t)}function po(e){return e._reader._readIntoRequests.length}function en(e){let t=e._reader;return!(t===void 0||!Ve(t))}class Ct{constructor(t){if(_e(t,1,"ReadableStreamBYOBReader"),Ur(t,"First parameter"),Le(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ue(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");U(this,t),this._readIntoRequests=new D}get closed(){return Ve(this)?this._closedPromise:h(Jt("closed"))}cancel(t=void 0){return Ve(this)?this._ownerReadableStream===void 0?h(Z("cancel")):tt(this,t):h(Jt("cancel"))}read(t){if(!Ve(this))return h(Jt("read"));if(!ArrayBuffer.isView(t))return h(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return h(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return h(new TypeError("view's buffer must have non-zero byteLength"));if(Vt(t.buffer),this._ownerReadableStream===void 0)return h(Z("read from"));let i,u,c=_((b,v)=>{i=b,u=v});return go(this,t,{_chunkSteps:b=>i({value:b,done:!1}),_closeSteps:b=>i({value:b,done:!0}),_errorSteps:b=>u(b)}),c}releaseLock(){if(!Ve(this))throw Jt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");H(this)}}}Object.defineProperties(Ct.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Ve(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Ct}function go(e,t,i){let u=e._ownerReadableStream;u._disturbed=!0,u._state==="errored"?i._errorSteps(u._storedError):ya(u._readableStreamController,t,i)}function Jt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Et(e,t){let{highWaterMark:i}=e;if(i===void 0)return t;if(Zn(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function Zt(e){let{size:t}=e;return t||(()=>1)}function er(e,t){le(e,t);let i=e==null?void 0:e.highWaterMark,u=e==null?void 0:e.size;return{highWaterMark:i===void 0?void 0:Nr(i),size:u===void 0?void 0:Ea(u,`${t} has member 'size' that`)}}function Ea(e,t){return Q(e,t),i=>Nr(e(i))}function Ta(e,t){le(e,t);let i=e==null?void 0:e.abort,u=e==null?void 0:e.close,c=e==null?void 0:e.start,p=e==null?void 0:e.type,b=e==null?void 0:e.write;return{abort:i===void 0?void 0:Pa(i,e,`${t} has member 'abort' that`),close:u===void 0?void 0:Aa(u,e,`${t} has member 'close' that`),start:c===void 0?void 0:ka(c,e,`${t} has member 'start' that`),write:b===void 0?void 0:Oa(b,e,`${t} has member 'write' that`),type:p}}function Pa(e,t,i){return Q(e,i),u=>I(e,t,[u])}function Aa(e,t,i){return Q(e,i),()=>I(e,t,[])}function ka(e,t,i){return Q(e,i),u=>B(e,t,[u])}function Oa(e,t,i){return Q(e,i),(u,c)=>I(e,t,[u,c])}function bo(e,t){if(!at(e))throw new TypeError(`${t} is not a WritableStream.`)}function La(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let Ba=typeof AbortController=="function";function Ma(){if(Ba)return new AbortController}class Tt{constructor(t={},i={}){t===void 0?t=null:Nn(t,"First parameter");let u=er(i,"Second parameter"),c=Ta(t,"First parameter");if(_o(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let b=Zt(u),v=Et(u,1);Qa(this,c,v,b)}get locked(){if(!at(this))throw ir("locked");return st(this)}abort(t=void 0){return at(this)?st(this)?h(new TypeError("Cannot abort a stream that already has a writer")):tr(this,t):h(ir("abort"))}close(){return at(this)?st(this)?h(new TypeError("Cannot close a stream that already has a writer")):pe(this)?h(new TypeError("Cannot close an already-closing stream")):So(this):h(ir("close"))}getWriter(){if(!at(this))throw ir("getWriter");return yo(this)}}Object.defineProperties(Tt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Tt.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function yo(e){return new Pt(e)}function Ia(e,t,i,u,c=1,p=()=>1){let b=Object.create(Tt.prototype);_o(b);let v=Object.create(ut.prototype);return To(b,v,e,t,i,u,c,p),b}function _o(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new D,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function at(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Tt}function st(e){return e._writer!==void 0}function tr(e,t){var i;if(e._state==="closed"||e._state==="errored")return g(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();let u=e._state;if(u==="closed"||u==="errored")return g(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;u==="erroring"&&(c=!0,t=void 0);let p=_((b,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:v,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=p,c||rn(e,t),p}function So(e){let t=e._state;if(t==="closed"||t==="errored")return h(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let i=_((c,p)=>{let b={_resolve:c,_reject:p};e._closeRequest=b}),u=e._writer;return u!==void 0&&e._backpressure&&t==="writable"&&dn(u),Ya(e._writableStreamController),i}function Wa(e){return _((i,u)=>{let c={_resolve:i,_reject:u};e._writeRequests.push(c)})}function tn(e,t){if(e._state==="writable"){rn(e,t);return}nn(e)}function rn(e,t){let i=e._writableStreamController;e._state="erroring",e._storedError=t;let u=e._writer;u!==void 0&&wo(u,t),!za(e)&&i._started&&nn(e)}function nn(e){e._state="errored",e._writableStreamController[gt]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new D,e._pendingAbortRequest===void 0){rr(e);return}let i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),rr(e);return}let u=e._writableStreamController[Dt](i._reason);R(u,()=>{i._resolve(),rr(e)},c=>{i._reject(c),rr(e)})}function xa(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function $a(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,tn(e,t)}function qa(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let i=e._writer;i!==void 0&&Oo(i)}function Fa(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),tn(e,t)}function pe(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function za(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Da(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function ja(e){e._inFlightWriteRequest=e._writeRequests.shift()}function rr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&cn(t,e._storedError)}function on(e,t){let i=e._writer;i!==void 0&&t!==e._backpressure&&(t?ts(i):dn(i)),e._backpressure=t}class Pt{constructor(t){if(_e(t,1,"WritableStreamDefaultWriter"),bo(t,"First parameter"),st(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let i=t._state;if(i==="writable")!pe(t)&&t._backpressure?sr(this):Lo(this),ar(this);else if(i==="erroring")fn(this,t._storedError),ar(this);else if(i==="closed")Lo(this),Za(this);else{let u=t._storedError;fn(this,u),ko(this,u)}}get closed(){return Qe(this)?this._closedPromise:h(Ye("closed"))}get desiredSize(){if(!Qe(this))throw Ye("desiredSize");if(this._ownerWritableStream===void 0)throw At("desiredSize");return Va(this)}get ready(){return Qe(this)?this._readyPromise:h(Ye("ready"))}abort(t=void 0){return Qe(this)?this._ownerWritableStream===void 0?h(At("abort")):Na(this,t):h(Ye("abort"))}close(){if(!Qe(this))return h(Ye("close"));let t=this._ownerWritableStream;return t===void 0?h(At("close")):pe(t)?h(new TypeError("Cannot close an already-closing stream")):vo(this)}releaseLock(){if(!Qe(this))throw Ye("releaseLock");this._ownerWritableStream!==void 0&&Ro(this)}write(t=void 0){return Qe(this)?this._ownerWritableStream===void 0?h(At("write to")):Co(this,t):h(Ye("write"))}}Object.defineProperties(Pt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Qe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Pt}function Na(e,t){let i=e._ownerWritableStream;return tr(i,t)}function vo(e){let t=e._ownerWritableStream;return So(t)}function Ua(e){let t=e._ownerWritableStream,i=t._state;return pe(t)||i==="closed"?g(void 0):i==="errored"?h(t._storedError):vo(e)}function Ha(e,t){e._closedPromiseState==="pending"?cn(e,t):es(e,t)}function wo(e,t){e._readyPromiseState==="pending"?Bo(e,t):rs(e,t)}function Va(e){let t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:Po(t._writableStreamController)}function Ro(e){let t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");wo(e,i),Ha(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function Co(e,t){let i=e._ownerWritableStream,u=i._writableStreamController,c=Ga(u,t);if(i!==e._ownerWritableStream)return h(At("write to"));let p=i._state;if(p==="errored")return h(i._storedError);if(pe(i)||p==="closed")return h(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return h(i._storedError);let b=Wa(i);return Ka(u,t,c),b}let Eo={};class ut{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!an(this))throw ln("abortReason");return this._abortReason}get signal(){if(!an(this))throw ln("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!an(this))throw ln("error");this._controlledWritableStream._state==="writable"&&Ao(this,t)}[Dt](t){let i=this._abortAlgorithm(t);return nr(this),i}[gt](){Pe(this)}}Object.defineProperties(ut.prototype,{error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ut.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function an(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof ut}function To(e,t,i,u,c,p,b,v){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Pe(t),t._abortReason=void 0,t._abortController=Ma(),t._started=!1,t._strategySizeAlgorithm=v,t._strategyHWM=b,t._writeAlgorithm=u,t._closeAlgorithm=c,t._abortAlgorithm=p;let C=un(t);on(e,C);let M=i(),F=g(M);R(F,()=>{t._started=!0,or(t)},$=>{t._started=!0,tn(e,$)})}function Qa(e,t,i,u){let c=Object.create(ut.prototype),p=()=>{},b=()=>g(void 0),v=()=>g(void 0),C=()=>g(void 0);t.start!==void 0&&(p=()=>t.start(c)),t.write!==void 0&&(b=M=>t.write(M,c)),t.close!==void 0&&(v=()=>t.close()),t.abort!==void 0&&(C=M=>t.abort(M)),To(e,c,p,b,v,C,i,u)}function nr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ya(e){Qr(e,Eo,0),or(e)}function Ga(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return sn(e,i),1}}function Po(e){return e._strategyHWM-e._queueTotalSize}function Ka(e,t,i){try{Qr(e,t,i)}catch(c){sn(e,c);return}let u=e._controlledWritableStream;if(!pe(u)&&u._state==="writable"){let c=un(e);on(u,c)}or(e)}function or(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){nn(t);return}if(e._queue.length===0)return;let u=ba(e);u===Eo?Xa(e):Ja(e,u)}function sn(e,t){e._controlledWritableStream._state==="writable"&&Ao(e,t)}function Xa(e){let t=e._controlledWritableStream;Da(t),Vr(e);let i=e._closeAlgorithm();nr(e),R(i,()=>{qa(t)},u=>{Fa(t,u)})}function Ja(e,t){let i=e._controlledWritableStream;ja(i);let u=e._writeAlgorithm(t);R(u,()=>{xa(i);let c=i._state;if(Vr(e),!pe(i)&&c==="writable"){let p=un(e);on(i,p)}or(e)},c=>{i._state==="writable"&&nr(e),$a(i,c)})}function un(e){return Po(e)<=0}function Ao(e,t){let i=e._controlledWritableStream;nr(e),rn(i,t)}function ir(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function ln(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ye(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function At(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function ar(e){e._closedPromise=_((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function ko(e,t){ar(e),cn(e,t)}function Za(e){ar(e),Oo(e)}function cn(e,t){e._closedPromise_reject!==void 0&&(W(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function es(e,t){ko(e,t)}function Oo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function sr(e){e._readyPromise=_((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function fn(e,t){sr(e),Bo(e,t)}function Lo(e){sr(e),dn(e)}function Bo(e,t){e._readyPromise_reject!==void 0&&(W(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function ts(e){sr(e)}function rs(e,t){fn(e,t)}function dn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let Mo=typeof DOMException!="undefined"?DOMException:void 0;function ns(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function os(){let e=function(i,u){this.message=i||"",this.name=u||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let is=ns(Mo)?Mo:os();function Io(e,t,i,u,c,p){let b=ot(e),v=yo(t);e._disturbed=!0;let C=!1,M=g(void 0);return _((F,$)=>{let j;if(p!==void 0){if(j=()=>{let E=new is("Aborted","AbortError"),x=[];u||x.push(()=>t._state==="writable"?tr(t,E):g(void 0)),c||x.push(()=>e._state==="readable"?fe(e,E):g(void 0)),G(()=>Promise.all(x.map(N=>N())),!0,E)},p.aborted){j();return}p.addEventListener("abort",j)}function Be(){return _((E,x)=>{function N(de){de?E():w(Mt(),N,x)}N(!1)})}function Mt(){return C?g(!0):w(v._readyPromise,()=>_((E,x)=>{yt(b,{_chunkSteps:N=>{M=w(Co(v,N),void 0,o),E(!1)},_closeSteps:()=>E(!0),_errorSteps:x})}))}if(Y(e,b._closedPromise,E=>{u?q(!0,E):G(()=>tr(t,E),!0,E)}),Y(t,v._closedPromise,E=>{c?q(!0,E):G(()=>fe(e,E),!0,E)}),ge(e,b._closedPromise,()=>{i?q():G(()=>Ua(v))}),pe(t)||t._state==="closed"){let E=new TypeError("the destination writable stream closed before all data could be piped to it");c?q(!0,E):G(()=>fe(e,E),!0,E)}W(Be());function Me(){let E=M;return w(M,()=>E!==M?Me():void 0)}function Y(E,x,N){E._state==="errored"?N(E._storedError):O(x,N)}function ge(E,x,N){E._state==="closed"?N():T(x,N)}function G(E,x,N){if(C)return;C=!0,t._state==="writable"&&!pe(t)?T(Me(),de):de();function de(){R(E(),()=>z(x,N),Ie=>z(!0,Ie))}}function q(E,x){C||(C=!0,t._state==="writable"&&!pe(t)?T(Me(),()=>z(E,x)):z(E,x))}function z(E,x){Ro(v),H(b),p!==void 0&&p.removeEventListener("abort",j),E?$(x):F(void 0)}})}class lt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ur(this))throw fr("desiredSize");return hn(this)}close(){if(!ur(this))throw fr("close");if(!ct(this))throw new TypeError("The stream is not in a state that permits close");Ot(this)}enqueue(t=void 0){if(!ur(this))throw fr("enqueue");if(!ct(this))throw new TypeError("The stream is not in a state that permits enqueue");return cr(this,t)}error(t=void 0){if(!ur(this))throw fr("error");Ae(this,t)}[Ne](t){Pe(this);let i=this._cancelAlgorithm(t);return lr(this),i}[me](t){let i=this._controlledReadableStream;if(this._queue.length>0){let u=Vr(this);this._closeRequested&&this._queue.length===0?(lr(this),Lt(i)):kt(this),t._chunkSteps(u)}else Vn(i,t),kt(this)}}Object.defineProperties(lt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(lt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function ur(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof lt}function kt(e){if(!Wo(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();R(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,kt(e))},u=>{Ae(e,u)})}function Wo(e){let t=e._controlledReadableStream;return!ct(e)||!e._started?!1:!!(Le(t)&&Ut(t)>0||hn(e)>0)}function lr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ot(e){if(!ct(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(lr(e),Lt(t))}function cr(e,t){if(!ct(e))return;let i=e._controlledReadableStream;if(Le(i)&&Ut(i)>0)Hr(i,t,!1);else{let u;try{u=e._strategySizeAlgorithm(t)}catch(c){throw Ae(e,c),c}try{Qr(e,t,u)}catch(c){throw Ae(e,c),c}}kt(e)}function Ae(e,t){let i=e._controlledReadableStream;i._state==="readable"&&(Pe(e),lr(e),Fo(i,t))}function hn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function as(e){return!Wo(e)}function ct(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function xo(e,t,i,u,c,p,b){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Pe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=b,t._strategyHWM=p,t._pullAlgorithm=u,t._cancelAlgorithm=c,e._readableStreamController=t;let v=i();R(g(v),()=>{t._started=!0,kt(t)},C=>{Ae(t,C)})}function ss(e,t,i,u){let c=Object.create(lt.prototype),p=()=>{},b=()=>g(void 0),v=()=>g(void 0);t.start!==void 0&&(p=()=>t.start(c)),t.pull!==void 0&&(b=()=>t.pull(c)),t.cancel!==void 0&&(v=C=>t.cancel(C)),xo(e,c,p,b,v,i,u)}function fr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function us(e,t){return Ue(e._readableStreamController)?cs(e):ls(e)}function ls(e,t){let i=ot(e),u=!1,c=!1,p=!1,b,v,C,M,F,$=_(Y=>{F=Y});function j(){return u||(u=!0,yt(i,{_chunkSteps:ge=>{k(()=>{u=!1;let G=ge,q=ge;c||cr(C._readableStreamController,G),p||cr(M._readableStreamController,q)})},_closeSteps:()=>{u=!1,c||Ot(C._readableStreamController),p||Ot(M._readableStreamController),(!c||!p)&&F(void 0)},_errorSteps:()=>{u=!1}})),g(void 0)}function Be(Y){if(c=!0,b=Y,p){let ge=_t([b,v]),G=fe(e,ge);F(G)}return $}function Mt(Y){if(p=!0,v=Y,c){let ge=_t([b,v]),G=fe(e,ge);F(G)}return $}function Me(){}return C=mn(Me,j,Be),M=mn(Me,j,Mt),O(i._closedPromise,Y=>{Ae(C._readableStreamController,Y),Ae(M._readableStreamController,Y),(!c||!p)&&F(void 0)}),[C,M]}function cs(e){let t=ot(e),i=!1,u=!1,c=!1,p,b,v,C,M,F=_(q=>{M=q});function $(q){O(q._closedPromise,z=>{q===t&&(ce(v._readableStreamController,z),ce(C._readableStreamController,z),(!u||!c)&&M(void 0))})}function j(){Ve(t)&&(H(t),t=ot(e),$(t)),yt(t,{_chunkSteps:z=>{k(()=>{i=!1;let E=z,x=z;if(!u&&!c)try{x=ro(z)}catch(N){ce(v._readableStreamController,N),ce(C._readableStreamController,N),M(fe(e,N));return}u||Gt(v._readableStreamController,E),c||Gt(C._readableStreamController,x)})},_closeSteps:()=>{i=!1,u||wt(v._readableStreamController),c||wt(C._readableStreamController),v._readableStreamController._pendingPullIntos.length>0&&Kt(v._readableStreamController,0),C._readableStreamController._pendingPullIntos.length>0&&Kt(C._readableStreamController,0),(!u||!c)&&M(void 0)},_errorSteps:()=>{i=!1}})}function Be(q,z){Te(t)&&(H(t),t=ho(e),$(t));let E=z?C:v,x=z?v:C;go(t,q,{_chunkSteps:de=>{k(()=>{i=!1;let Ie=z?c:u;if(z?u:c)Ie||Xt(E._readableStreamController,de);else{let Jo;try{Jo=ro(de)}catch(gn){ce(E._readableStreamController,gn),ce(x._readableStreamController,gn),M(fe(e,gn));return}Ie||Xt(E._readableStreamController,de),Gt(x._readableStreamController,Jo)}})},_closeSteps:de=>{i=!1;let Ie=z?c:u,Sr=z?u:c;Ie||wt(E._readableStreamController),Sr||wt(x._readableStreamController),de!==void 0&&(Ie||Xt(E._readableStreamController,de),!Sr&&x._readableStreamController._pendingPullIntos.length>0&&Kt(x._readableStreamController,0)),(!Ie||!Sr)&&M(void 0)},_errorSteps:()=>{i=!1}})}function Mt(){if(i)return g(void 0);i=!0;let q=Jr(v._readableStreamController);return q===null?j():Be(q._view,!1),g(void 0)}function Me(){if(i)return g(void 0);i=!0;let q=Jr(C._readableStreamController);return q===null?j():Be(q._view,!0),g(void 0)}function Y(q){if(u=!0,p=q,c){let z=_t([p,b]),E=fe(e,z);M(E)}return F}function ge(q){if(c=!0,b=q,u){let z=_t([p,b]),E=fe(e,z);M(E)}return F}function G(){}return v=qo(G,Mt,Y),C=qo(G,Me,ge),$(t),[v,C]}function fs(e,t){le(e,t);let i=e,u=i==null?void 0:i.autoAllocateChunkSize,c=i==null?void 0:i.cancel,p=i==null?void 0:i.pull,b=i==null?void 0:i.start,v=i==null?void 0:i.type;return{autoAllocateChunkSize:u===void 0?void 0:Hn(u,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:ds(c,i,`${t} has member 'cancel' that`),pull:p===void 0?void 0:hs(p,i,`${t} has member 'pull' that`),start:b===void 0?void 0:ms(b,i,`${t} has member 'start' that`),type:v===void 0?void 0:ps(v,`${t} has member 'type' that`)}}function ds(e,t,i){return Q(e,i),u=>I(e,t,[u])}function hs(e,t,i){return Q(e,i),u=>I(e,t,[u])}function ms(e,t,i){return Q(e,i),u=>B(e,t,[u])}function ps(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function gs(e,t){le(e,t);let i=e==null?void 0:e.mode;return{mode:i===void 0?void 0:bs(i,`${t} has member 'mode' that`)}}function bs(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ys(e,t){le(e,t);let i=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(i)}}function $o(e,t){le(e,t);let i=e==null?void 0:e.preventAbort,u=e==null?void 0:e.preventCancel,c=e==null?void 0:e.preventClose,p=e==null?void 0:e.signal;return p!==void 0&&_s(p,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(u),preventClose:Boolean(c),signal:p}}function _s(e,t){if(!La(e))throw new TypeError(`${t} is not an AbortSignal.`)}function Ss(e,t){le(e,t);let i=e==null?void 0:e.readable;jr(i,"readable","ReadableWritablePair"),Ur(i,`${t} has member 'readable' that`);let u=e==null?void 0:e.writable;return jr(u,"writable","ReadableWritablePair"),bo(u,`${t} has member 'writable' that`),{readable:i,writable:u}}class ke{constructor(t={},i={}){t===void 0?t=null:Nn(t,"First parameter");let u=er(i,"Second parameter"),c=fs(t,"First parameter");if(pn(this),c.type==="bytes"){if(u.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=Et(u,0);wa(this,c,p)}else{let p=Zt(u),b=Et(u,1);ss(this,c,b,p)}}get locked(){if(!Oe(this))throw Ge("locked");return Le(this)}cancel(t=void 0){return Oe(this)?Le(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):fe(this,t):h(Ge("cancel"))}getReader(t=void 0){if(!Oe(this))throw Ge("getReader");return gs(t,"First parameter").mode===void 0?ot(this):ho(this)}pipeThrough(t,i={}){if(!Oe(this))throw Ge("pipeThrough");_e(t,1,"pipeThrough");let u=Ss(t,"First parameter"),c=$o(i,"Second parameter");if(Le(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(st(u.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=Io(this,u.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return W(p),u.readable}pipeTo(t,i={}){if(!Oe(this))return h(Ge("pipeTo"));if(t===void 0)return h("Parameter 1 is required in 'pipeTo'.");if(!at(t))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let u;try{u=$o(i,"Second parameter")}catch(c){return h(c)}return Le(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):st(t)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Io(this,t,u.preventClose,u.preventAbort,u.preventCancel,u.signal)}tee(){if(!Oe(this))throw Ge("tee");let t=us(this);return _t(t)}values(t=void 0){if(!Oe(this))throw Ge("values");let i=ys(t,"First parameter");return pa(this,i.preventCancel)}}Object.defineProperties(ke.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ke.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(ke.prototype,r.asyncIterator,{value:ke.prototype.values,writable:!0,configurable:!0});function mn(e,t,i,u=1,c=()=>1){let p=Object.create(ke.prototype);pn(p);let b=Object.create(lt.prototype);return xo(p,b,e,t,i,u,c),p}function qo(e,t,i){let u=Object.create(ke.prototype);pn(u);let c=Object.create(it.prototype);return fo(u,c,e,t,i,0,void 0),u}function pn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Oe(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof ke}function Le(e){return e._reader!==void 0}function fe(e,t){if(e._disturbed=!0,e._state==="closed")return g(void 0);if(e._state==="errored")return h(e._storedError);Lt(e);let i=e._reader;i!==void 0&&Ve(i)&&(i._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),i._readIntoRequests=new D);let u=e._readableStreamController[Ne](t);return L(u,o)}function Lt(e){e._state="closed";let t=e._reader;t!==void 0&&(ue(t),Te(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new D))}function Fo(e,t){e._state="errored",e._storedError=t;let i=e._reader;i!==void 0&&(se(i,t),Te(i)?(i._readRequests.forEach(u=>{u._errorSteps(t)}),i._readRequests=new D):(i._readIntoRequests.forEach(u=>{u._errorSteps(t)}),i._readIntoRequests=new D))}function Ge(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function zo(e,t){le(e,t);let i=e==null?void 0:e.highWaterMark;return jr(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Nr(i)}}let Do=e=>e.byteLength;Object.defineProperty(Do,"name",{value:"size",configurable:!0});class dr{constructor(t){_e(t,1,"ByteLengthQueuingStrategy"),t=zo(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!No(this))throw jo("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!No(this))throw jo("size");return Do}}Object.defineProperties(dr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(dr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function jo(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function No(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof dr}let Uo=()=>1;Object.defineProperty(Uo,"name",{value:"size",configurable:!0});class hr{constructor(t){_e(t,1,"CountQueuingStrategy"),t=zo(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Vo(this))throw Ho("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Vo(this))throw Ho("size");return Uo}}Object.defineProperties(hr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Ho(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Vo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof hr}function vs(e,t){le(e,t);let i=e==null?void 0:e.flush,u=e==null?void 0:e.readableType,c=e==null?void 0:e.start,p=e==null?void 0:e.transform,b=e==null?void 0:e.writableType;return{flush:i===void 0?void 0:ws(i,e,`${t} has member 'flush' that`),readableType:u,start:c===void 0?void 0:Rs(c,e,`${t} has member 'start' that`),transform:p===void 0?void 0:Cs(p,e,`${t} has member 'transform' that`),writableType:b}}function ws(e,t,i){return Q(e,i),u=>I(e,t,[u])}function Rs(e,t,i){return Q(e,i),u=>B(e,t,[u])}function Cs(e,t,i){return Q(e,i),(u,c)=>I(e,t,[u,c])}class mr{constructor(t={},i={},u={}){t===void 0&&(t=null);let c=er(i,"Second parameter"),p=er(u,"Third parameter"),b=vs(t,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=Et(p,0),C=Zt(p),M=Et(c,1),F=Zt(c),$,j=_(Be=>{$=Be});Es(this,j,M,F,v,C),Ps(this,b),b.start!==void 0?$(b.start(this._transformStreamController)):$(void 0)}get readable(){if(!Qo(this))throw Xo("readable");return this._readable}get writable(){if(!Qo(this))throw Xo("writable");return this._writable}}Object.defineProperties(mr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(mr.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function Es(e,t,i,u,c,p){function b(){return t}function v(j){return Os(e,j)}function C(j){return Ls(e,j)}function M(){return Bs(e)}e._writable=Ia(b,v,M,C,i,u);function F(){return Ms(e)}function $(j){return gr(e,j),g(void 0)}e._readable=mn(b,F,$,c,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,br(e,!0),e._transformStreamController=void 0}function Qo(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof mr}function pr(e,t){Ae(e._readable._readableStreamController,t),gr(e,t)}function gr(e,t){Yo(e._transformStreamController),sn(e._writable._writableStreamController,t),e._backpressure&&br(e,!1)}function br(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=_(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class Bt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!yr(this))throw _r("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return hn(t)}enqueue(t=void 0){if(!yr(this))throw _r("enqueue");Go(this,t)}error(t=void 0){if(!yr(this))throw _r("error");As(this,t)}terminate(){if(!yr(this))throw _r("terminate");ks(this)}}Object.defineProperties(Bt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Bt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function yr(e){return!l(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof Bt}function Ts(e,t,i,u){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=u}function Ps(e,t){let i=Object.create(Bt.prototype),u=p=>{try{return Go(i,p),g(void 0)}catch(b){return h(b)}},c=()=>g(void 0);t.transform!==void 0&&(u=p=>t.transform(p,i)),t.flush!==void 0&&(c=()=>t.flush(i)),Ts(e,i,u,c)}function Yo(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Go(e,t){let i=e._controlledTransformStream,u=i._readable._readableStreamController;if(!ct(u))throw new TypeError("Readable side is not in a state that permits enqueue");try{cr(u,t)}catch(p){throw gr(i,p),i._readable._storedError}as(u)!==i._backpressure&&br(i,!0)}function As(e,t){pr(e._controlledTransformStream,t)}function Ko(e,t){let i=e._transformAlgorithm(t);return L(i,void 0,u=>{throw pr(e._controlledTransformStream,u),u})}function ks(e){let t=e._controlledTransformStream,i=t._readable._readableStreamController;Ot(i);let u=new TypeError("TransformStream terminated");gr(t,u)}function Os(e,t){let i=e._transformStreamController;if(e._backpressure){let u=e._backpressureChangePromise;return L(u,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return Ko(i,t)})}return Ko(i,t)}function Ls(e,t){return pr(e,t),g(void 0)}function Bs(e){let t=e._readable,i=e._transformStreamController,u=i._flushAlgorithm();return Yo(i),L(u,()=>{if(t._state==="errored")throw t._storedError;Ot(t._readableStreamController)},c=>{throw pr(e,c),t._storedError})}function Ms(e){return br(e,!1),e._backpressureChangePromise}function _r(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Xo(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=dr,n.CountQueuingStrategy=hr,n.ReadableByteStreamController=it,n.ReadableStream=ke,n.ReadableStreamBYOBReader=Ct,n.ReadableStreamBYOBRequest=vt,n.ReadableStreamDefaultController=lt,n.ReadableStreamDefaultReader=bt,n.TransformStream=mr,n.TransformStreamDefaultController=Bt,n.WritableStream=Tt,n.WritableStreamDefaultController=ut,n.WritableStreamDefaultWriter=Pt,Object.defineProperty(n,"__esModule",{value:!0})})});var Ei=We(()=>{var Wu=65536;if(!globalThis.ReadableStream)try{let n=require("process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,Ci())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let a=0,s=this;return new ReadableStream({type:"bytes",async pull(l){let f=await s.slice(a,Math.min(s.size,a+Wu)).arrayBuffer();a+=f.byteLength,l.enqueue(new Uint8Array(f)),a===s.size&&l.close()}})})}catch{}});var Wn=We((Ul,Vi)=>{"use strict";var Hi=require("fs"),In;function Du(){try{return Hi.statSync("/.dockerenv"),!0}catch{return!1}}function ju(){try{return Hi.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}Vi.exports=()=>(In===void 0&&(In=Du()||ju()),In)});var Gi=We((Hl,xn)=>{"use strict";var Nu=require("os"),Uu=require("fs"),Qi=Wn(),Yi=()=>{if(process.platform!=="linux")return!1;if(Nu.release().toLowerCase().includes("microsoft"))return!Qi();try{return Uu.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Qi():!1}catch{return!1}};process.env.__IS_WSL_TEST__?xn.exports=Yi:xn.exports=Yi()});var Xi=We((Vl,Ki)=>{"use strict";Ki.exports=(n,r,o)=>{let a=s=>Object.defineProperty(n,r,{value:s,enumerable:!0,writable:!0});return Object.defineProperty(n,r,{configurable:!0,enumerable:!0,get(){let s=o();return a(s),s},set(s){a(s)}}),n}});var oa=We((Ql,na)=>{var Hu=require("path"),Vu=require("child_process"),{promises:$n,constants:Ji}=require("fs"),xr=Gi(),Qu=Wn(),qn=Xi(),Zi=Hu.join(__dirname,"xdg-open"),{platform:pt,arch:ea}=process,Yu=(()=>{let n="/mnt/",r;return async function(){if(r)return r;let o="/etc/wsl.conf",a=!1;try{await $n.access(o,Ji.F_OK),a=!0}catch{}if(!a)return n;let s=await $n.readFile(o,{encoding:"utf8"}),l=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return l?(r=l.groups.mountPoint.trim(),r=r.endsWith("/")?r:`${r}/`,r):n}})(),ta=async(n,r)=>{let o;for(let a of n)try{return await r(a)}catch(s){o=s}throw o},$r=async n=>{if(n={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...n},Array.isArray(n.app))return ta(n.app,f=>$r({...n,app:f}));let{name:r,arguments:o=[]}=n.app||{};if(o=[...o],Array.isArray(r))return ta(r,f=>$r({...n,app:{name:f,arguments:o}}));let a,s=[],l={};if(pt==="darwin")a="open",n.wait&&s.push("--wait-apps"),n.background&&s.push("--background"),n.newInstance&&s.push("--new"),r&&s.push("-a",r);else if(pt==="win32"||xr&&!Qu()){let f=await Yu();a=xr?`${f}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),xr||(l.windowsVerbatimArguments=!0);let m=["Start"];n.wait&&m.push("-Wait"),r?(m.push(`"\`"${r}\`""`,"-ArgumentList"),n.target&&o.unshift(n.target)):n.target&&m.push(`"${n.target}"`),o.length>0&&(o=o.map(S=>`"\`"${S}\`""`),m.push(o.join(","))),n.target=Buffer.from(m.join(" "),"utf16le").toString("base64")}else{if(r)a=r;else{let f=!__dirname||__dirname==="/",m=!1;try{await $n.access(Zi,Ji.X_OK),m=!0}catch{}a=process.versions.electron||pt==="android"||f||!m?"xdg-open":Zi}o.length>0&&s.push(...o),n.wait||(l.stdio="ignore",l.detached=!0)}n.target&&s.push(n.target),pt==="darwin"&&o.length>0&&s.push("--args",...o);let d=Vu.spawn(a,s,l);return n.wait?new Promise((f,m)=>{d.once("error",m),d.once("close",S=>{if(n.allowNonzeroExitCode&&S>0){m(new Error(`Exited with code ${S}`));return}f(d)})}):(d.unref(),d)},Fn=(n,r)=>{if(typeof n!="string")throw new TypeError("Expected a `target`");return $r({...r,target:n})},Gu=(n,r)=>{if(typeof n!="string")throw new TypeError("Expected a `name`");let{arguments:o=[]}=r||{};if(o!=null&&!Array.isArray(o))throw new TypeError("Expected `appArguments` as Array type");return $r({...r,app:{name:n,arguments:o}})};function ra(n){if(typeof n=="string"||Array.isArray(n))return n;let{[ea]:r}=n;if(!r)throw new Error(`${ea} is not supported`);return r}function zn({[pt]:n},{wsl:r}){if(r&&xr)return ra(r);if(!n)throw new Error(`${pt} is not supported`);return ra(n)}var qr={};qn(qr,"chrome",()=>zn({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));qn(qr,"firefox",()=>zn({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));qn(qr,"edge",()=>zn({darwin:"microsoft edge",win32:"msedge",linux:"microsoft-edge"},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));Fn.apps=qr;Fn.openApp=Gu;na.exports=Fn});var rl={};Fs(rl,{DEVDOCS_BASE_URL:()=>et,default:()=>fa,faviconUrl:()=>ca,useFetchWithCache:()=>jn});var A=require("@raycast/api"),zt=require("fs"),zr=require("fs/promises"),sa=be(Si());var ji=be(require("http"),1),Ni=be(require("https"),1),Je=be(require("zlib"),1),oe=be(require("stream"),1),Ui=be(wi(),1);var ae=be(require("stream"),1),On=require("util");var ul=be(Ei(),1);var Ti=65536;async function*Pn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let a=o.byteOffset,s=o.byteOffset+o.byteLength;for(;a!==s;){let l=Math.min(s-a,Ti),d=o.buffer.slice(a,a+l);a+=d.byteLength,yield new Uint8Array(d)}}else yield o;else{let a=0;for(;a!==o.size;){let l=await o.slice(a,Math.min(o.size,a+Ti)).arrayBuffer();a+=l.byteLength,yield new Uint8Array(l)}}}var Re,xt,dt,ht,Pi=(ht=class{constructor(r=[],o={}){wr(this,Re,[]);wr(this,xt,"");wr(this,dt,0);if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let a=new TextEncoder;for(let l of r){let d;ArrayBuffer.isView(l)?d=new Uint8Array(l.buffer.slice(l.byteOffset,l.byteOffset+l.byteLength)):l instanceof ArrayBuffer?d=new Uint8Array(l.slice(0)):l instanceof ht?d=l:d=a.encode(l),It(this,dt,Se(this,dt)+(ArrayBuffer.isView(d)?d.byteLength:d.size)),Se(this,Re).push(d)}let s=o.type===void 0?"":String(o.type);It(this,xt,/^[\x20-\x7E]*$/.test(s)?s:"")}get size(){return Se(this,dt)}get type(){return Se(this,xt)}async text(){let r=new TextDecoder,o="";for await(let a of Pn(Se(this,Re),!1))o+=r.decode(a,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let a of Pn(Se(this,Re),!1))r.set(a,o),o+=a.length;return r.buffer}stream(){let r=Pn(Se(this,Re),!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let a=await r.next();a.done?o.close():o.enqueue(a.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,a=""){let{size:s}=this,l=r<0?Math.max(s+r,0):Math.min(r,s),d=o<0?Math.max(s+o,0):Math.min(o,s),f=Math.max(d-l,0),m=Se(this,Re),S=[],y=0;for(let g of m){if(y>=f)break;let h=ArrayBuffer.isView(g)?g.byteLength:g.size;if(l&&h<=l)l-=h,d-=h;else{let w;ArrayBuffer.isView(g)?(w=g.subarray(l,Math.min(h,d)),y+=w.byteLength):(w=g.slice(l,Math.min(h,d)),y+=w.size),d-=h,S.push(w),l=0}}let _=new ht([],{type:String(a).toLowerCase()});return It(_,dt,f),It(_,Re,S),_}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}},Re=new WeakMap,xt=new WeakMap,dt=new WeakMap,ht);Object.defineProperties(Pi.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});var xu=Pi,Ai=xu;var ze=class extends Error{constructor(r,o){super(r);Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var ie=class extends ze{constructor(r,o,a){super(r,o);a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};var Oi=require("crypto");var $t=Symbol.toStringTag,An=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[$t]==="URLSearchParams",ye=n=>typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[$t]);function Ar(n){return typeof n=="object"&&typeof n.append=="function"&&typeof n.set=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.delete=="function"&&typeof n.keys=="function"&&typeof n.values=="function"&&typeof n.entries=="function"&&typeof n.constructor=="function"&&n[$t]==="FormData"}var ki=n=>typeof n=="object"&&(n[$t]==="AbortSignal"||n[$t]==="EventTarget");var mt=`\r
`,kn="-".repeat(2),$u=Buffer.byteLength(mt),Li=n=>`${kn}${n}${kn}${mt.repeat(2)}`;function Bi(n,r,o){let a="";return a+=`${kn}${n}${mt}`,a+=`Content-Disposition: form-data; name="${r}"`,ye(o)&&(a+=`; filename="${o.name}"${mt}`,a+=`Content-Type: ${o.type||"application/octet-stream"}`),`${a}${mt.repeat(2)}`}var Mi=()=>(0,Oi.randomBytes)(8).toString("hex");async function*Ii(n,r){for(let[o,a]of n)yield Bi(r,o,a),ye(a)?yield*a.stream():yield a,yield mt;yield Li(r)}function Wi(n,r){let o=0;for(let[a,s]of n)o+=Buffer.byteLength(Bi(r,a,s)),o+=ye(s)?s.size:Buffer.byteLength(String(s)),o+=$u;return o+=Buffer.byteLength(Li(r)),o}var re=Symbol("Body internals"),Xe=class{constructor(r,{size:o=0}={}){let a=null;r===null?r=null:An(r)?r=Buffer.from(r.toString()):ye(r)||Buffer.isBuffer(r)||(On.types.isAnyArrayBuffer(r)?r=Buffer.from(r):ArrayBuffer.isView(r)?r=Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ae.default||(Ar(r)?(a=`NodeFetchFormDataBoundary${Mi()}`,r=ae.default.Readable.from(Ii(r,a))):r=Buffer.from(String(r)))),this[re]={body:r,boundary:a,disturbed:!1,error:null},this.size=o,r instanceof ae.default&&r.on("error",s=>{let l=s instanceof ze?s:new ie(`Invalid response body while trying to fetch ${this.url}: ${s.message}`,"system",s);this[re].error=l})}get body(){return this[re].body}get bodyUsed(){return this[re].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:a}=await kr(this);return r.slice(o,o+a)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[re].body&&this[re].body.type||"",o=await this.buffer();return new Ai([o],{type:r})}async json(){let r=await kr(this);return JSON.parse(r.toString())}async text(){return(await kr(this)).toString()}buffer(){return kr(this)}};Object.defineProperties(Xe.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});async function kr(n){if(n[re].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[re].disturbed=!0,n[re].error)throw n[re].error;let{body:r}=n;if(r===null)return Buffer.alloc(0);if(ye(r)&&(r=ae.default.Readable.from(r.stream())),Buffer.isBuffer(r))return r;if(!(r instanceof ae.default))return Buffer.alloc(0);let o=[],a=0;try{for await(let s of r){if(n.size>0&&a+s.length>n.size){let l=new ie(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(l),l}a+=s.length,o.push(s)}}catch(s){throw s instanceof ze?s:new ie(`Invalid response body while trying to fetch ${n.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?Buffer.from(o.join("")):Buffer.concat(o,a)}catch(s){throw new ie(`Could not create Buffer from response body for ${n.url}: ${s.message}`,"system",s)}else throw new ie(`Premature close of server response while trying to fetch ${n.url}`)}var Or=(n,r)=>{let o,a,{body:s}=n;if(n.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ae.default&&typeof s.getBoundary!="function"&&(o=new ae.PassThrough({highWaterMark:r}),a=new ae.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(a),n[re].body=o,s=a),s},Lr=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":An(n)?"application/x-www-form-urlencoded;charset=UTF-8":ye(n)?n.type||null:Buffer.isBuffer(n)||On.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${n.getBoundary()}`:Ar(n)?`multipart/form-data; boundary=${r[re].boundary}`:n instanceof ae.default?null:"text/plain;charset=UTF-8",xi=n=>{let{body:r}=n;return r===null?0:ye(r)?r.size:Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"?r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null:Ar(r)?Wi(n[re].boundary):null},$i=(n,{body:r})=>{r===null?n.end():ye(r)?ae.default.Readable.from(r.stream()).pipe(n):Buffer.isBuffer(r)?(n.write(r),n.end()):r.pipe(n)};var Ln=require("util"),qt=be(require("http"),1),Br=typeof qt.default.validateHeaderName=="function"?qt.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},Bn=typeof qt.default.validateHeaderValue=="function"?qt.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},ne=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof ne){let a=r.raw();for(let[s,l]of Object.entries(a))o.push(...l.map(d=>[s,d]))}else if(r!=null)if(typeof r=="object"&&!Ln.types.isBoxedPrimitive(r)){let a=r[Symbol.iterator];if(a==null)o.push(...Object.entries(r));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||Ln.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");o=o.length>0?o.map(([a,s])=>(Br(a),Bn(a,String(s)),[String(a).toLowerCase(),String(s)])):void 0;super(o);return new Proxy(this,{get(a,s,l){switch(s){case"append":case"set":return(d,f)=>(Br(d),Bn(d,String(f)),URLSearchParams.prototype[s].call(a,String(d).toLowerCase(),String(f)));case"delete":case"has":case"getAll":return d=>(Br(d),URLSearchParams.prototype[s].call(a,String(d).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,s,l)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let a=o.join(", ");return/^content-encoding$/i.test(r)&&(a=a.toLowerCase()),a}forEach(r,o=void 0){for(let a of this.keys())Reflect.apply(r,o,[this.get(a),a,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let a=this.getAll(o);return o==="host"?r[o]=a[0]:r[o]=a.length>1?a:a[0],r},{})}};Object.defineProperties(ne.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function qi(n=[]){return new ne(n.reduce((r,o,a,s)=>(a%2===0&&r.push(s.slice(a,a+2)),r),[]).filter(([r,o])=>{try{return Br(r),Bn(r,String(o)),!0}catch{return!1}}))}var qu=new Set([301,302,303,307,308]),Mr=n=>qu.has(n);var he=Symbol("Response internals"),J=class extends Xe{constructor(r=null,o={}){super(r,o);let a=o.status!=null?o.status:200,s=new ne(o.headers);if(r!==null&&!s.has("Content-Type")){let l=Lr(r);l&&s.append("Content-Type",l)}this[he]={type:"default",url:o.url,status:a,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[he].type}get url(){return this[he].url||""}get status(){return this[he].status}get ok(){return this[he].status>=200&&this[he].status<300}get redirected(){return this[he].counter>0}get statusText(){return this[he].statusText}get headers(){return this[he].headers}get highWaterMark(){return this[he].highWaterMark}clone(){return new J(Or(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size})}static redirect(r,o=302){if(!Mr(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new J(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new J(null,{status:0,statusText:""});return r[he].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(J.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var zi=require("url");var Fi=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var Ce=Symbol("Request internals"),Ir=n=>typeof n=="object"&&typeof n[Ce]=="object",De=class extends Xe{constructor(r,o={}){let a;Ir(r)?a=new URL(r.url):(a=new URL(r),r={});let s=o.method||r.method||"GET";if(s=s.toUpperCase(),(o.body!=null||Ir(r))&&r.body!==null&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let l=o.body?o.body:Ir(r)&&r.body!==null?Or(r):null;super(l,{size:o.size||r.size||0});let d=new ne(o.headers||r.headers||{});if(l!==null&&!d.has("Content-Type")){let m=Lr(l,this);m&&d.append("Content-Type",m)}let f=Ir(r)?r.signal:null;if("signal"in o&&(f=o.signal),f!=null&&!ki(f))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");this[Ce]={method:s,redirect:o.redirect||r.redirect||"follow",headers:d,parsedURL:a,signal:f},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1}get method(){return this[Ce].method}get url(){return(0,zi.format)(this[Ce].parsedURL)}get headers(){return this[Ce].headers}get redirect(){return this[Ce].redirect}get signal(){return this[Ce].signal}clone(){return new De(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(De.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});var Di=n=>{let{parsedURL:r}=n[Ce],o=new ne(n[Ce].headers);o.has("Accept")||o.set("Accept","*/*");let a=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(a="0"),n.body!==null){let f=xi(n);typeof f=="number"&&!Number.isNaN(f)&&(a=String(f))}a&&o.set("Content-Length",a),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=n;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let l=Fi(r);return{path:r.pathname+l,pathname:r.pathname,hostname:r.hostname,protocol:r.protocol,port:r.port,hash:r.hash,search:r.search,query:r.query,href:r.href,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:s}};var Mn=class extends ze{constructor(r,o="aborted"){super(r,o)}};var Fu=new Set(["data:","http:","https:"]);async function Wr(n,r){return new Promise((o,a)=>{let s=new De(n,r),l=Di(s);if(!Fu.has(l.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${l.protocol.replace(/:$/,"")}" is not supported.`);if(l.protocol==="data:"){let h=(0,Ui.default)(s.url),w=new J(h,{headers:{"Content-Type":h.typeFull}});o(w);return}let d=(l.protocol==="https:"?Ni.default:ji.default).request,{signal:f}=s,m=null,S=()=>{let h=new Mn("The operation was aborted.");a(h),s.body&&s.body instanceof oe.default.Readable&&s.body.destroy(h),!(!m||!m.body)&&m.body.emit("error",h)};if(f&&f.aborted){S();return}let y=()=>{S(),g()},_=d(l);f&&f.addEventListener("abort",y);let g=()=>{_.abort(),f&&f.removeEventListener("abort",y)};_.on("error",h=>{a(new ie(`request to ${s.url} failed, reason: ${h.message}`,"system",h)),g()}),zu(_,h=>{m.body.destroy(h)}),process.version<"v14"&&_.on("socket",h=>{let w;h.prependListener("end",()=>{w=h._eventsCount}),h.prependListener("close",R=>{if(m&&w<h._eventsCount&&!R){let T=new Error("Premature close");T.code="ERR_STREAM_PREMATURE_CLOSE",m.body.emit("error",T)}})}),_.on("response",h=>{_.setTimeout(0);let w=qi(h.rawHeaders);if(Mr(h.statusCode)){let W=w.get("Location"),k=W===null?null:new URL(W,s.url);switch(s.redirect){case"error":a(new ie(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":k!==null&&w.set("Location",k);break;case"follow":{if(k===null)break;if(s.counter>=s.follow){a(new ie(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let B={headers:new ne(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:s.body,signal:s.signal,size:s.size};if(h.statusCode!==303&&s.body&&r.body instanceof oe.default.Readable){a(new ie("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(h.statusCode===303||(h.statusCode===301||h.statusCode===302)&&s.method==="POST")&&(B.method="GET",B.body=void 0,B.headers.delete("content-length")),o(Wr(new De(k,B))),g();return}default:return a(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}f&&h.once("end",()=>{f.removeEventListener("abort",y)});let R=(0,oe.pipeline)(h,new oe.PassThrough,a);process.version<"v12.10"&&h.on("aborted",y);let T={url:s.url,status:h.statusCode,statusText:h.statusMessage,headers:w,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},O=w.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||O===null||h.statusCode===204||h.statusCode===304){m=new J(R,T),o(m);return}let L={flush:Je.default.Z_SYNC_FLUSH,finishFlush:Je.default.Z_SYNC_FLUSH};if(O==="gzip"||O==="x-gzip"){R=(0,oe.pipeline)(R,Je.default.createGunzip(L),a),m=new J(R,T),o(m);return}if(O==="deflate"||O==="x-deflate"){(0,oe.pipeline)(h,new oe.PassThrough,a).once("data",k=>{R=(k[0]&15)===8?(0,oe.pipeline)(R,Je.default.createInflate(),a):(0,oe.pipeline)(R,Je.default.createInflateRaw(),a),m=new J(R,T),o(m)});return}if(O==="br"){R=(0,oe.pipeline)(R,Je.default.createBrotliDecompress(),a),m=new J(R,T),o(m);return}m=new J(R,T),o(m)}),$i(_,s)})}function zu(n,r){let o=Buffer.from(`0\r
\r
`),a=!1,s=!1,l;n.on("response",d=>{let{headers:f}=d;a=f["transfer-encoding"]==="chunked"&&!f["content-length"]}),n.on("socket",d=>{let f=()=>{if(a&&!s){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}};d.prependListener("close",f),n.on("abort",()=>{d.removeListener("close",f)}),d.on("data",m=>{s=Buffer.compare(m.slice(-5),o)===0,!s&&l&&(s=Buffer.compare(l.slice(-3),o.slice(0,3))===0&&Buffer.compare(m.slice(-2),o.slice(3))===0),l=m})})}var Dn=be(oa()),ua=require("path"),Ze=require("react"),la=require("url");var Ft=require("@raycast/api"),Fr=require("react"),ia="VISITED_DOCS",Ku=25;async function Xu(){let n=await(0,Ft.getLocalStorageItem)(ia);return n?JSON.parse(n):[]}async function Ju(n){let r=JSON.stringify(n);await(0,Ft.setLocalStorageItem)(ia,r)}function aa(){let[n,r]=(0,Fr.useState)();(0,Fr.useEffect)(()=>{Xu().then(r)},[]);function o(a){let s=[a,...n?.filter(l=>l.slug!==a.slug)??[]].slice(0,Ku);r(s),Ju(s)}return{docs:n,visitDoc:o,isLoading:!n}}var et="https://devdocs.io";(0,zt.existsSync)(A.environment.supportPath)||(0,zt.mkdirSync)(A.environment.supportPath,{recursive:!0});function ca(n,r){try{let o=new la.URL(r).hostname;return`https://www.google.com/s2/favicons?sz=${n}&domain=${o}`}catch{return A.Icon.Globe}}function jn(n,r){let o=(0,ua.resolve)(A.environment.supportPath,r),[a,s]=(0,Ze.useState)({isLoading:!0});return(0,Ze.useEffect)(()=>{async function l(){if((0,zt.existsSync)(o)){let d=await(0,zr.readFile)(o).then(f=>f.toString());await s({data:JSON.parse(d.toString()),isLoading:!0})}try{let d=await Wr(n).then(f=>f.json());await s({data:d,isLoading:!1}),await(0,zr.writeFile)(o,JSON.stringify(d))}catch(d){console.error(d),(0,A.showToast)(A.ToastStyle.Failure,"Could not refresh cache!","Please Check your connexion")}}l()},[n]),a}function fa(){let{data:n,isLoading:r}=jn(`${et}/docs/docs.json`,"index.json"),{docs:o,visitDoc:a}=aa();return _jsx(A.List,{isLoading:!n&&!n||r},_jsx(A.List.Section,{title:"Last Visited"},o?.map(s=>_jsx(ha,{key:s.slug,doc:s,onVisit:()=>a(s)}))),_jsx(A.List.Section,{title:"All"},n?.map(s=>_jsx(ha,{key:s.slug,doc:s,onVisit:()=>a(s)}))))}function Zu(n,r,o){let[a,s]=(0,Ze.useState)(""),l=(0,Ze.useMemo)(()=>new sa.default(n||[],r),[n]);return a?[l.search(a,{limit:o}).map(f=>f.item),s]:[(n||[]).slice(0,o),s]}function el(n){let{doc:r,icon:o}=n,{data:a,isLoading:s}=jn(`${et}/docs/${r.slug}/index.json`,`${r.slug}.json`),[l,d]=Zu(a?.entries,{keys:["name","type"]},500);return _jsx(A.List,{isLoading:s,onSearchTextChange:f=>{d(f)}},l.map(f=>_jsx(tl,{entry:f,icon:o,key:f.name+f.path+f.type,doc:r})))}function tl(n){let{entry:r,doc:o,icon:a}=n;return _jsx(A.List.Item,{title:r.name,icon:a,key:r.name+r.path,accessoryTitle:r.type,keywords:[r.type].concat(r.name.split(".")),actions:_jsx(A.ActionPanel,null,_jsx(A.OpenInBrowserAction,{url:`${et}/${o.slug}/${r.path}`,onOpen:()=>(0,A.popToRoot)()}),_jsx(da,{url:`${et}/${o.slug}/${r.path}`,onOpen:()=>(0,A.popToRoot)()}))})}function da(n){return _jsx(A.ActionPanelItem,{title:"Open in Devdocs",icon:"devdocs.png",onAction:async()=>{let{exitCode:r}=await(0,Dn.default)(n.url,{app:{name:"DevDocs"},wait:!0});r!==0&&(await(0,Dn.default)("https://github.com/dteoh/devdocs-macos"),(0,A.showHUD)("Devdocs app is not installed!")),n.onOpen&&n.onOpen()}})}function ha(n){let{doc:r,onVisit:o}=n,{name:a,slug:s,links:l,version:d,release:f}=r,m=l?.home?ca(64,l.home):A.Icon.Dot;return _jsx(A.List.Item,{key:s,title:a,icon:m,subtitle:d,keywords:[f],accessoryTitle:f,actions:_jsx(A.ActionPanel,null,_jsx(A.ActionPanel.Section,null,_jsx(A.PushAction,{title:"Browse Entries",icon:A.Icon.ArrowRight,target:_jsx(el,{doc:r,icon:m}),onPush:o})),_jsx(A.ActionPanel.Section,null,_jsx(A.OpenInBrowserAction,{url:`${et}/${s}`,onOpen:()=>(0,A.popToRoot)()}),_jsx(da,{url:`${et}/${s}`,onOpen:()=>(0,A.popToRoot)()}),l?.home?_jsx(A.OpenInBrowserAction,{title:"Open Project Homepage",url:l.home,onOpen:()=>(0,A.popToRoot)()}):null,l?.code?_jsx(A.OpenInBrowserAction,{title:"Open Code Repository",url:l.code,onOpen:()=>(0,A.popToRoot)()}):null))})}module.exports=zs(rl);0&&(module.exports={DEVDOCS_BASE_URL,faviconUrl,useFetchWithCache});
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
