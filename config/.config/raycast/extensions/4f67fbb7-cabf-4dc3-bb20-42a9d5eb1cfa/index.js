var pp=Object.create;var Ir=Object.defineProperty,mp=Object.defineProperties,gp=Object.getOwnPropertyDescriptor,yp=Object.getOwnPropertyDescriptors,_p=Object.getOwnPropertyNames,Ka=Object.getOwnPropertySymbols,vp=Object.getPrototypeOf,Xa=Object.prototype.hasOwnProperty,Ep=Object.prototype.propertyIsEnumerable;var Za=(t,e,r)=>e in t?Ir(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,z=(t,e)=>{for(var r in e||(e={}))Xa.call(e,r)&&Za(t,r,e[r]);if(Ka)for(var r of Ka(e))Ep.call(e,r)&&Za(t,r,e[r]);return t},ne=(t,e)=>mp(t,yp(e)),Qa=t=>Ir(t,"__esModule",{value:!0});var A=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Sp=(t,e)=>{for(var r in e)Ir(t,r,{get:e[r],enumerable:!0})},Ja=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _p(e))!Xa.call(t,i)&&(r||i!=="default")&&Ir(t,i,{get:()=>e[i],enumerable:!(n=gp(e,i))||n.enumerable});return t},Ie=(t,e)=>Ja(Qa(Ir(t!=null?pp(vp(t)):{},"default",!e&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),bp=(t=>(e,r)=>t&&t.get(e)||(r=Ja(Qa({}),e,1),t&&t.set(e,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var Ru=A(wr=>{"use strict";var wp=require("fs"),Rp=require("path"),Ap=require("events"),Op=require("stream"),Cp=require("string_decoder"),Tp=require("assert"),Pp=require("buffer"),xp=require("zlib"),kp=require("util"),Lp=require("crypto"),Np=require("os"),Dp=require("tty"),Ip=require("constants"),Fp=require("https"),Mp=require("child_process"),$p=require("url"),Bp=require("net"),Hp=require("tls");function le(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var g=le(wp),b=le(Rp),gr=le(Ap),Ss=le(Op),qp=le(Cp),B=le(Tp),jp=le(Pp),bs=le(xp),qe=le(kp),Yc=le(Lp),ws=le(Np),Rs=le(Dp),ft=le(Ip),Up=le(Fp),Gp=le(Mp),Vc=le($p),zp=le(Bp),Wp=le(Hp),Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Me(t){var e={exports:{}};return t(e,e.exports),e.exports}var ec=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]),sn=t=>t?Object.keys(t).map(e=>[ec.has(e)?ec.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{},Yp=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}},It=Y;Y.Node=Mt;Y.create=Y;function Y(t){var e=this;if(e instanceof Y||(e=new Y),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Y.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Y.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Y.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Y.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Kp(this,arguments[t]);return this.length};Y.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)Zp(this,arguments[t]);return this.length};Y.prototype.pop=function(){if(!!this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Y.prototype.shift=function(){if(!!this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Y.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Y.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Y.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Y.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Y.prototype.map=function(t,e){e=e||this;for(var r=new Y,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Y.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Y,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Y.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Y.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Y.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Y.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Y.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Y;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Y.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Y;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Y.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Vp(this,i,r[n]);return s};Y.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Vp(t,e,r){var n=e===t.head?new Mt(r,null,e,t):new Mt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Kp(t,e){t.tail=new Mt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function Zp(t,e){t.head=new Mt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Mt(t,e,r,n){if(!(this instanceof Mt))return new Mt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Yp(Y)}catch{}var tc=qp.default.StringDecoder,Ye=Symbol("EOF"),Fr=Symbol("maybeEmitEnd"),ot=Symbol("emittedEnd"),En=Symbol("emittingEnd"),Sn=Symbol("closed"),rc=Symbol("read"),zi=Symbol("flush"),nc=Symbol("flushChunk"),_e=Symbol("encoding"),Ve=Symbol("decoder"),bn=Symbol("flowing"),Mr=Symbol("paused"),$r=Symbol("resume"),me=Symbol("bufferLength"),ic=Symbol("bufferPush"),Wi=Symbol("bufferShift"),ue=Symbol("objectMode"),he=Symbol("destroyed"),Kc=Le._MP_NO_ITERATOR_SYMBOLS_!=="1",Xp=Kc&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Qp=Kc&&Symbol.iterator||Symbol("iterator not implemented"),sc=t=>t==="end"||t==="finish"||t==="prefinish",Jp=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,em=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),yr=class Zc extends Ss.default{constructor(e){super();this[bn]=!1,this[Mr]=!1,this.pipes=new It,this.buffer=new It,this[ue]=e&&e.objectMode||!1,this[ue]?this[_e]=null:this[_e]=e&&e.encoding||null,this[_e]==="buffer"&&(this[_e]=null),this[Ve]=this[_e]?new tc(this[_e]):null,this[Ye]=!1,this[ot]=!1,this[En]=!1,this[Sn]=!1,this.writable=!0,this.readable=!0,this[me]=0,this[he]=!1}get bufferLength(){return this[me]}get encoding(){return this[_e]}set encoding(e){if(this[ue])throw new Error("cannot set encoding in objectMode");if(this[_e]&&e!==this[_e]&&(this[Ve]&&this[Ve].lastNeed||this[me]))throw new Error("cannot change encoding");this[_e]!==e&&(this[Ve]=e?new tc(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[Ve].write(r)))),this[_e]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ue]}set objectMode(e){this[ue]=this[ue]||!!e}write(e,r,n){if(this[Ye])throw new Error("write after end");return this[he]?(this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0):(typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8"),!this[ue]&&!Buffer.isBuffer(e)&&(em(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Jp(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),!this.objectMode&&!e.length?(this[me]!==0&&this.emit("readable"),n&&n(),this.flowing):(typeof e=="string"&&!this[ue]&&!(r===this[_e]&&!this[Ve].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[_e]&&(e=this[Ve].write(e)),this.flowing?(this[me]!==0&&this[zi](!0),this.emit("data",e)):this[ic](e),this[me]!==0&&this.emit("readable"),n&&n(),this.flowing))}read(e){if(this[he])return null;try{return this[me]===0||e===0||e>this[me]?null:(this[ue]&&(e=null),this.buffer.length>1&&!this[ue]&&(this.encoding?this.buffer=new It([Array.from(this.buffer).join("")]):this.buffer=new It([Buffer.concat(Array.from(this.buffer),this[me])])),this[rc](e||null,this.buffer.head.value))}finally{this[Fr]()}}[rc](e,r){return e===r.length||e===null?this[Wi]():(this.buffer.head.value=r.slice(e),r=r.slice(0,e),this[me]-=e),this.emit("data",r),!this.buffer.length&&!this[Ye]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[Ye]=!0,this.writable=!1,(this.flowing||!this[Mr])&&this[Fr](),this}[$r](){this[he]||(this[Mr]=!1,this[bn]=!0,this.emit("resume"),this.buffer.length?this[zi]():this[Ye]?this[Fr]():this.emit("drain"))}resume(){return this[$r]()}pause(){this[bn]=!1,this[Mr]=!0}get destroyed(){return this[he]}get flowing(){return this[bn]}get paused(){return this[Mr]}[ic](e){return this[ue]?this[me]+=1:this[me]+=e.length,this.buffer.push(e)}[Wi](){return this.buffer.length&&(this[ue]?this[me]-=1:this[me]-=this.buffer.head.value.length),this.buffer.shift()}[zi](e){do;while(this[nc](this[Wi]()));!e&&!this.buffer.length&&!this[Ye]&&this.emit("drain")}[nc](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[he])return;let n=this[ot];r=r||{},e===process.stdout||e===process.stderr?r.end=!1:r.end=r.end!==!1;let i={dest:e,opts:r,ondrain:s=>this[$r]()};return this.pipes.push(i),e.on("drain",i.ondrain),this[$r](),n&&i.opts.end&&i.dest.end(),e}addListener(e,r){return this.on(e,r)}on(e,r){try{return super.on(e,r)}finally{e==="data"&&!this.pipes.length&&!this.flowing?this[$r]():sc(e)&&this[ot]&&(super.emit(e),this.removeAllListeners(e))}}get emittedEnd(){return this[ot]}[Fr](){!this[En]&&!this[ot]&&!this[he]&&this.buffer.length===0&&this[Ye]&&(this[En]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Sn]&&this.emit("close"),this[En]=!1)}emit(e,r){if(e!=="error"&&e!=="close"&&e!==he&&this[he])return;if(e==="data"){if(!r)return;this.pipes.length&&this.pipes.forEach(i=>i.dest.write(r)===!1&&this.pause())}else if(e==="end"){if(this[ot]===!0)return;this[ot]=!0,this.readable=!1,this[Ve]&&(r=this[Ve].end(),r&&(this.pipes.forEach(i=>i.dest.write(r)),super.emit("data",r))),this.pipes.forEach(i=>{i.dest.removeListener("drain",i.ondrain),i.opts.end&&i.dest.end()})}else if(e==="close"&&(this[Sn]=!0,!this[ot]&&!this[he]))return;let n=new Array(arguments.length);if(n[0]=e,n[1]=r,arguments.length>2)for(let i=2;i<arguments.length;i++)n[i]=arguments[i];try{return super.emit.apply(this,n)}finally{sc(e)?this.removeAllListeners(e):this[Fr]()}}collect(){let e=[];this[ue]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ue]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ue]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ue]?Promise.reject(new Error("cannot concat in objectMode")):this[_e]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(he,()=>r(new Error("stream destroyed"))),this.on("end",()=>e()),this.on("error",n=>r(n))})}[Xp](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[Ye])return Promise.resolve({done:!0});let n=null,i=null,s=h=>{this.removeListener("data",o),this.removeListener("end",a),i(h)},o=h=>{this.removeListener("error",s),this.removeListener("end",a),this.pause(),n({value:h,done:!!this[Ye]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),n({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise((h,l)=>{i=l,n=h,this.once(he,c),this.once("error",s),this.once("end",a),this.once("data",o)})}}}[Qp](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[he]?(e?this.emit("error",e):this.emit(he),this):(this[he]=!0,this.buffer=new It,this[me]=0,typeof this.close=="function"&&!this[Sn]&&this.close(),e?this.emit("error",e):this.emit(he),this)}static isStream(e){return!!e&&(e instanceof Zc||e instanceof Ss.default||e instanceof gr.default&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}},tm=bs.default.constants||{ZLIB_VERNUM:4736},rm=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},tm)),Xc=Me(function(t,e){let r=jp.default.Buffer,n=e.constants=rm,i=r.concat,s=Symbol("_superWrite");class o extends Error{constructor(d){super("zlib: "+d.message);this.code=d.code,this.errno=d.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+d.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}let a=Symbol("opts"),c=Symbol("flushFlag"),h=Symbol("finishFlushFlag"),l=Symbol("fullFlushFlag"),u=Symbol("handle"),f=Symbol("onError"),p=Symbol("sawError"),m=Symbol("level"),y=Symbol("strategy"),v=Symbol("ended");class S extends yr{constructor(d,_){if(!d||typeof d!="object")throw new TypeError("invalid options for ZlibBase constructor");super(d);this[p]=!1,this[v]=!1,this[a]=d,this[c]=d.flush,this[h]=d.finishFlush;try{this[u]=new bs.default[_](d)}catch(M){throw new o(M)}this[f]=M=>{this[p]||(this[p]=!0,this.close(),this.emit("error",M))},this[u].on("error",M=>this[f](new o(M))),this.once("end",()=>this.close)}close(){this[u]&&(this[u].close(),this[u]=null,this.emit("close"))}reset(){if(!this[p])return B.default(this[u],"zlib binding closed"),this[u].reset()}flush(d){this.ended||(typeof d!="number"&&(d=this[l]),this.write(Object.assign(r.alloc(0),{[c]:d})))}end(d,_,M){return d&&this.write(d,_),this.flush(this[h]),this[v]=!0,super.end(null,null,M)}get ended(){return this[v]}write(d,_,M){if(typeof _=="function"&&(M=_,_="utf8"),typeof d=="string"&&(d=r.from(d,_)),this[p])return;B.default(this[u],"zlib binding closed");let x=this[u]._handle,V=x.close;x.close=()=>{};let X=this[u].close;this[u].close=()=>{},r.concat=be=>be;let U;try{let be=typeof d[c]=="number"?d[c]:this[c];U=this[u]._processChunk(d,be),r.concat=i}catch(be){r.concat=i,this[f](new o(be))}finally{this[u]&&(this[u]._handle=x,x.close=V,this[u].close=X,this[u].removeAllListeners("error"))}this[u]&&this[u].on("error",be=>this[f](new o(be)));let ye;if(U)if(Array.isArray(U)&&U.length>0){ye=this[s](r.from(U[0]));for(let be=1;be<U.length;be++)ye=this[s](U[be])}else ye=this[s](r.from(U));return M&&M(),ye}[s](d){return super.write(d)}}class w extends S{constructor(d,_){d=d||{},d.flush=d.flush||n.Z_NO_FLUSH,d.finishFlush=d.finishFlush||n.Z_FINISH;super(d,_);this[l]=n.Z_FULL_FLUSH,this[m]=d.level,this[y]=d.strategy}params(d,_){if(!this[p]){if(!this[u])throw new Error("cannot switch params when binding is closed");if(!this[u].params)throw new Error("not supported in this implementation");if(this[m]!==d||this[y]!==_){this.flush(n.Z_SYNC_FLUSH),B.default(this[u],"zlib binding closed");let M=this[u].flush;this[u].flush=(x,V)=>{this.flush(x),V()};try{this[u].params(d,_)}finally{this[u].flush=M}this[u]&&(this[m]=d,this[y]=_)}}}}class I extends w{constructor(d){super(d,"Deflate")}}class F extends w{constructor(d){super(d,"Inflate")}}let k=Symbol("_portable");class $ extends w{constructor(d){super(d,"Gzip");this[k]=d&&!!d.portable}[s](d){return this[k]?(this[k]=!1,d[9]=255,super[s](d)):super[s](d)}}class N extends w{constructor(d){super(d,"Gunzip")}}class L extends w{constructor(d){super(d,"DeflateRaw")}}class q extends w{constructor(d){super(d,"InflateRaw")}}class Q extends w{constructor(d){super(d,"Unzip")}}class E extends S{constructor(d,_){d=d||{},d.flush=d.flush||n.BROTLI_OPERATION_PROCESS,d.finishFlush=d.finishFlush||n.BROTLI_OPERATION_FINISH;super(d,_);this[l]=n.BROTLI_OPERATION_FLUSH}}class C extends E{constructor(d){super(d,"BrotliCompress")}}class P extends E{constructor(d){super(d,"BrotliDecompress")}}e.Deflate=I,e.Inflate=F,e.Gzip=$,e.Gunzip=N,e.DeflateRaw=L,e.InflateRaw=q,e.Unzip=Q,typeof bs.default.BrotliCompress=="function"?(e.BrotliCompress=C,e.BrotliDecompress=P):e.BrotliCompress=e.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}}),Yi=Symbol("slurp"),ao=class extends yr{constructor(e,r,n){super();switch(this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=e.path,this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=e.linkpath,this.uname=e.uname,this.gname=e.gname,r&&this[Yi](r),n&&this[Yi](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,i=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,i-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[Yi](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}},Mn=Me(function(t,e){e.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]),e.code=new Map(Array.from(e.name).map(r=>[r[1],r[0]]))}),nm=(t,e)=>{if(Number.isSafeInteger(t))t<0?sm(t,e):im(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},im=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},sm=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var i=t&255;t=Math.floor(t/256),r?e[n-1]=Qc(i):i===0?e[n-1]=0:(r=!0,e[n-1]=Jc(i))}},om=t=>{let e=t[0],r=e===128?cm(t.slice(1,t.length)):e===255?am(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},am=t=>{for(var e=t.length,r=0,n=!1,i=e-1;i>-1;i--){var s=t[i],o;n?o=Qc(s):s===0?o=s:(n=!0,o=Jc(s)),o!==0&&(r-=o*Math.pow(256,e-i-1))}return r},cm=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var i=t[n];i!==0&&(r+=i*Math.pow(256,e-n-1))}return r},Qc=t=>(255^t)&255,Jc=t=>(255^t)+1&255,el={encode:nm,parse:om},Qt=b.default.posix,Vi=Symbol("slurp"),we=Symbol("type"),tl=class{constructor(e,r,n,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[we]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,i):e&&this.set(e)}decode(e,r,n,i){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=Ct(e,r,100),this.mode=lt(e,r+100,8),this.uid=lt(e,r+108,8),this.gid=lt(e,r+116,8),this.size=lt(e,r+124,12),this.mtime=Ki(e,r+136,12),this.cksum=lt(e,r+148,12),this[Vi](n),this[Vi](i,!0),this[we]=Ct(e,r+156,1),this[we]===""&&(this[we]="0"),this[we]==="0"&&this.path.substr(-1)==="/"&&(this[we]="5"),this[we]==="5"&&(this.size=0),this.linkpath=Ct(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=Ct(e,r+265,32),this.gname=Ct(e,r+297,32),this.devmaj=lt(e,r+329,8),this.devmin=lt(e,r+337,8),e[r+475]!==0){let o=Ct(e,r+345,155);this.path=o+"/"+this.path}else{let o=Ct(e,r+345,130);o&&(this.path=o+"/"+this.path),this.atime=Ki(e,r+476,12),this.ctime=Ki(e,r+488,12)}let s=8*32;for(let o=r;o<r+148;o++)s+=e[o];for(let o=r+156;o<r+512;o++)s+=e[o];this.cksumValid=s===this.cksum,this.cksum===null&&s===8*32&&(this.nullBlock=!0)}[Vi](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,i=lm(this.path||"",n),s=i[0],o=i[1];this.needPax=i[2],this.needPax=Tt(e,r,100,s)||this.needPax,this.needPax=ut(e,r+100,8,this.mode)||this.needPax,this.needPax=ut(e,r+108,8,this.uid)||this.needPax,this.needPax=ut(e,r+116,8,this.gid)||this.needPax,this.needPax=ut(e,r+124,12,this.size)||this.needPax,this.needPax=Zi(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[we].charCodeAt(0),this.needPax=Tt(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=Tt(e,r+265,32,this.uname)||this.needPax,this.needPax=Tt(e,r+297,32,this.gname)||this.needPax,this.needPax=ut(e,r+329,8,this.devmaj)||this.needPax,this.needPax=ut(e,r+337,8,this.devmin)||this.needPax,this.needPax=Tt(e,r+345,n,o)||this.needPax,e[r+475]!==0?this.needPax=Tt(e,r+345,155,o)||this.needPax:(this.needPax=Tt(e,r+345,130,o)||this.needPax,this.needPax=Zi(e,r+476,12,this.atime)||this.needPax,this.needPax=Zi(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,ut(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return Mn.name.get(this[we])||this[we]}get typeKey(){return this[we]}set type(e){Mn.code.has(e)?this[we]=Mn.code.get(e):this[we]=e}},lm=(t,e)=>{let n=t,i="",s,o=Qt.parse(t).root||".";if(Buffer.byteLength(n)<100)s=[n,i,!1];else{i=Qt.dirname(n),n=Qt.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(i)<=e?s=[n,i,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(i)<=e?s=[n.substr(0,100-1),i,!0]:(n=Qt.join(Qt.basename(i),n),i=Qt.dirname(i));while(i!==o&&!s);s||(s=[t.substr(0,100-1),"",!0])}return s},Ct=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),Ki=(t,e,r)=>um(lt(t,e,r)),um=t=>t===null?null:new Date(t*1e3),lt=(t,e,r)=>t[e]&128?el.parse(t.slice(e,e+r)):fm(t,e,r),hm=t=>isNaN(t)?null:t,fm=(t,e,r)=>hm(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),dm={12:8589934591,8:2097151},ut=(t,e,r,n)=>n===null?!1:n>dm[r]||n<0?(el.encode(n,t.slice(e,e+r)),!0):(pm(t,e,r,n),!1),pm=(t,e,r,n)=>t.write(mm(n,r),e,r,"ascii"),mm=(t,e)=>gm(Math.floor(t).toString(8),e),gm=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",Zi=(t,e,r,n)=>n===null?!1:ut(t,e,r,n.getTime()/1e3),ym=new Array(156).join("\0"),Tt=(t,e,r,n)=>n===null?!1:(t.write(n+ym,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r),qt=tl,Xn=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),i=Buffer.allocUnsafe(n);for(let s=0;s<512;s++)i[s]=0;new qt({path:("PaxHeader/"+b.default.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,r,"utf8");for(let s=r+512;s<i.length;s++)i[s]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,i=Buffer.byteLength(n),s=Math.floor(Math.log(i)/Math.log(10))+1;return i+s>=Math.pow(10,s)&&(s+=1),s+i+n}};Xn.parse=(t,e,r)=>new Xn(_m(vm(t),e),r);var _m=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,vm=t=>t.replace(/\n$/,"").split(`
`).reduce(Em,Object.create(null)),Em=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.substr((r+" ").length);let n=e.split("="),i=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let s=n.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(s*1e3):/^[0-9]+$/.test(s)?+s:s,t},Zr=Xn,oi=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}},ai=["|","<",">","?",":"],co=ai.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),Sm=new Map(ai.map((t,e)=>[t,co[e]])),bm=new Map(co.map((t,e)=>[t,ai[e]])),As={encode:t=>ai.reduce((e,r)=>e.split(r).join(Sm.get(r)),t),decode:t=>co.reduce((e,r)=>e.split(r).join(bm.get(r)),t)},rl=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t),wm=16*1024*1024,oc=Symbol("process"),ac=Symbol("file"),cc=Symbol("directory"),Os=Symbol("symlink"),lc=Symbol("hardlink"),Br=Symbol("header"),$n=Symbol("read"),Cs=Symbol("lstat"),Bn=Symbol("onlstat"),Ts=Symbol("onread"),Ps=Symbol("onreadlink"),xs=Symbol("openfile"),ks=Symbol("onopenfile"),Ft=Symbol("close"),Qn=Symbol("mode"),ci=oi(class extends yr{constructor(e,r){r=r||{};super(r);if(typeof e!="string")throw new TypeError("path is required");this.path=e,this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid(),this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||wm,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=r.cwd||process.cwd(),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths&&b.default.win32.isAbsolute(e)){let i=b.default.win32.parse(e);this.path=e.substr(i.root.length),n=i.root}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=As.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=r.absolute||b.default.resolve(this.cwd,e),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Bn](this.statCache.get(this.absolute)):this[Cs]()}[Cs](){g.default.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Bn](r)})}[Bn](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=Am(e),this.emit("stat",e),this[oc]()}[oc](){switch(this.type){case"File":return this[ac]();case"Directory":return this[cc]();case"SymbolicLink":return this[Os]();default:return this.end()}}[Qn](e){return rl(e,this.type==="Directory",this.portable)}[Br](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new qt({path:this.path,linkpath:this.linkpath,mode:this[Qn](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&this.write(new Zr({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this.path,linkpath:this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),this.write(this.header.block)}[cc](){this.path.substr(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Br](),this.end()}[Os](){g.default.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[Ps](r)})}[Ps](e){this.linkpath=e.replace(/\\/g,"/"),this[Br](),this.end()}[lc](e){this.type="Link",this.linkpath=b.default.relative(this.cwd,e).replace(/\\/g,"/"),this.stat.size=0,this[Br](),this.end()}[ac](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[lc](r)}this.linkCache.set(e,this.absolute)}if(this[Br](),this.stat.size===0)return this.end();this[xs]()}[xs](){g.default.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[ks](r)})}[ks](e){let r=512*Math.ceil(this.stat.size/512),n=Math.min(r,this.maxReadSize),i=Buffer.allocUnsafe(n);this[$n](e,i,0,i.length,0,this.stat.size,r)}[$n](e,r,n,i,s,o,a){g.default.read(e,r,n,i,s,(c,h)=>{if(c)return this[Ft](e,()=>this.emit("error",c));this[Ts](e,r,n,i,s,o,a,h)})}[Ft](e,r){g.default.close(e,r)}[Ts](e,r,n,i,s,o,a,c){if(c<=0&&o>0){let l=new Error("encountered unexpected EOF");return l.path=this.absolute,l.syscall="read",l.code="EOF",this[Ft](e,()=>this.emit("error",l))}if(c>o){let l=new Error("did not encounter expected EOF");return l.path=this.absolute,l.syscall="read",l.code="EOF",this[Ft](e,()=>this.emit("error",l))}if(c===o)for(let l=c;l<i&&c<a;l++)r[l+n]=0,c++,o++;let h=n===0&&c===r.length?r:r.slice(n,n+c);if(o-=c,a-=c,s+=c,n+=c,this.write(h),!o)return a&&this.write(Buffer.alloc(a)),this[Ft](e,l=>l?this.emit("error",l):this.end());n>=i&&(r=Buffer.allocUnsafe(i),n=0),i=r.length-n,this[$n](e,r,n,i,s,o,a)}}),nl=class extends ci{[Cs](){this[Bn](g.default.lstatSync(this.absolute))}[Os](){this[Ps](g.default.readlinkSync(this.absolute))}[xs](){this[ks](g.default.openSync(this.absolute,"r"))}[$n](e,r,n,i,s,o,a){let c=!0;try{let h=g.default.readSync(e,r,n,i,s);this[Ts](e,r,n,i,s,o,a,h),c=!1}finally{if(c)try{this[Ft](e,()=>{})}catch{}}}[Ft](e,r){g.default.closeSync(e),r()}},Rm=oi(class extends yr{constructor(e,r){r=r||{};super(r);this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.path=e.path,this.mode=this[Qn](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=e.linkpath,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(b.default.isAbsolute(this.path)&&!this.preservePaths){let i=b.default.parse(this.path);n=i.root,this.path=this.path.substr(i.root.length)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new qt({path:this.path,linkpath:this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new Zr({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this.path,linkpath:this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[Qn](e){return rl(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&this.write(Buffer.alloc(this.blockRemain)),super.end()}});ci.Sync=nl;ci.Tar=Rm;var Am=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported",li=ci,Ls=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},Om=li.Sync,Cm=li.Tar,uc=Buffer.alloc(1024),Hn=Symbol("onStat"),wn=Symbol("ended"),$e=Symbol("queue"),Jt=Symbol("current"),Pt=Symbol("process"),Rn=Symbol("processing"),hc=Symbol("processJob"),Be=Symbol("jobs"),Xi=Symbol("jobDone"),qn=Symbol("addFSEntry"),fc=Symbol("addTarEntry"),Ns=Symbol("stat"),Ds=Symbol("readdir"),jn=Symbol("onreaddir"),Un=Symbol("pipe"),dc=Symbol("entry"),Qi=Symbol("entryOpt"),Is=Symbol("writeEntryClass"),il=Symbol("write"),Ji=Symbol("ondrain"),lo=oi(class extends yr{constructor(e){super(e);e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=(e.prefix||"").replace(/(\\|\/)+$/,""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Is]=li,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new Xc.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Ji]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Ji]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[$e]=new It,this[Be]=0,this.jobs=+e.jobs||4,this[Rn]=!1,this[wn]=!1}[il](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[wn]=!0,this[Pt](),this}write(e){if(this[wn])throw new Error("write after end");return e instanceof ao?this[fc](e):this[qn](e),this.flowing}[fc](e){let r=b.default.resolve(this.cwd,e.path);if(this.prefix&&(e.path=this.prefix+"/"+e.path.replace(/^\.(\/+|$)/,"")),!this.filter(e.path,e))e.resume();else{let n=new Ls(e.path,r,!1);n.entry=new Cm(e,this[Qi](n)),n.entry.on("end",i=>this[Xi](n)),this[Be]+=1,this[$e].push(n)}this[Pt]()}[qn](e){let r=b.default.resolve(this.cwd,e);this.prefix&&(e=this.prefix+"/"+e.replace(/^\.(\/+|$)/,"")),this[$e].push(new Ls(e,r)),this[Pt]()}[Ns](e){e.pending=!0,this[Be]+=1;let r=this.follow?"stat":"lstat";g.default[r](e.absolute,(n,i)=>{e.pending=!1,this[Be]-=1,n?this.emit("error",n):this[Hn](e,i)})}[Hn](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[Pt]()}[Ds](e){e.pending=!0,this[Be]+=1,g.default.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[Be]-=1,r)return this.emit("error",r);this[jn](e,n)})}[jn](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[Pt]()}[Pt](){if(!this[Rn]){this[Rn]=!0;for(let e=this[$e].head;e!==null&&this[Be]<this.jobs;e=e.next)if(this[hc](e.value),e.value.ignore){let r=e.next;this[$e].removeNode(e),e.next=r}this[Rn]=!1,this[wn]&&!this[$e].length&&this[Be]===0&&(this.zip?this.zip.end(uc):(super.write(uc),super.end()))}}get[Jt](){return this[$e]&&this[$e].head&&this[$e].head.value}[Xi](e){this[$e].shift(),this[Be]-=1,this[Pt]()}[hc](e){if(!e.pending){if(e.entry){e===this[Jt]&&!e.piped&&this[Un](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Hn](e,this.statCache.get(e.absolute)):this[Ns](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[jn](e,this.readdirCache.get(e.absolute)):this[Ds](e),!e.readdir))){if(e.entry=this[dc](e),!e.entry){e.ignore=!0;return}e===this[Jt]&&!e.piped&&this[Un](e)}}}[Qi](e){return{onwarn:(r,n,i)=>this.warn(r,n,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime}}[dc](e){this[Be]+=1;try{return new this[Is](e.path,this[Qi](e)).on("end",()=>this[Xi](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Ji](){this[Jt]&&this[Jt].entry&&this[Jt].entry.resume()}[Un](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let s=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[qn](o+i)});let r=e.entry,n=this.zip;n?r.on("data",i=>{n.write(i)||r.pause()}):r.on("data",i=>{super.write(i)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),sl=class extends lo{constructor(e){super(e);this[Is]=Om}pause(){}resume(){}[Ns](e){let r=this.follow?"statSync":"lstatSync";this[Hn](e,g.default[r](e.absolute))}[Ds](e,r){this[jn](e,g.default.readdirSync(e.absolute))}[Un](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(i=>{let s=this.prefix?e.path.slice(this.prefix.length+1)||"./":e.path,o=s==="./"?"":s.replace(/\/*$/,"/");this[qn](o+i)}),n?r.on("data",i=>{n.write(i)}):r.on("data",i=>{super[il](i)})}};lo.Sync=sl;var jt=lo,Tm=gr.default.EventEmitter,Fs=g.default.writev;if(!Fs){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;Fs=(r,n,i,s)=>{let o=(c,h)=>s(c,h,n),a=new e;a.oncomplete=o,t.writeBuffers(r,n,i,a)}}var ur=Symbol("_autoClose"),Fe=Symbol("_close"),Hr=Symbol("_ended"),Z=Symbol("_fd"),pc=Symbol("_finished"),dt=Symbol("_flags"),es=Symbol("_flush"),Ms=Symbol("_handleChunk"),$s=Symbol("_makeBuf"),Jn=Symbol("_mode"),An=Symbol("_needDrain"),or=Symbol("_onerror"),hr=Symbol("_onopen"),ts=Symbol("_onread"),rr=Symbol("_onwrite"),pt=Symbol("_open"),Je=Symbol("_path"),Dt=Symbol("_pos"),He=Symbol("_queue"),nr=Symbol("_read"),mc=Symbol("_readSize"),ht=Symbol("_reading"),On=Symbol("_remain"),gc=Symbol("_size"),Gn=Symbol("_write"),er=Symbol("_writing"),zn=Symbol("_defaultFlag"),ar=Symbol("_errored"),uo=class extends yr{constructor(e,r){r=r||{};super(r);if(this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[ar]=!1,this[Z]=typeof r.fd=="number"?r.fd:null,this[Je]=e,this[mc]=r.readSize||16*1024*1024,this[ht]=!1,this[gc]=typeof r.size=="number"?r.size:1/0,this[On]=this[gc],this[ur]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Z]=="number"?this[nr]():this[pt]()}get fd(){return this[Z]}get path(){return this[Je]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[pt](){g.default.open(this[Je],"r",(e,r)=>this[hr](e,r))}[hr](e,r){e?this[or](e):(this[Z]=r,this.emit("open",r),this[nr]())}[$s](){return Buffer.allocUnsafe(Math.min(this[mc],this[On]))}[nr](){if(!this[ht]){this[ht]=!0;let e=this[$s]();if(e.length===0)return process.nextTick(()=>this[ts](null,0,e));g.default.read(this[Z],e,0,e.length,null,(r,n,i)=>this[ts](r,n,i))}}[ts](e,r,n){this[ht]=!1,e?this[or](e):this[Ms](r,n)&&this[nr]()}[Fe](){if(this[ur]&&typeof this[Z]=="number"){let e=this[Z];this[Z]=null,g.default.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[or](e){this[ht]=!0,this[Fe](),this.emit("error",e)}[Ms](e,r){let n=!1;return this[On]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[On]<=0)&&(n=!1,this[Fe](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Z]=="number"&&this[nr]();break;case"error":return this[ar]?void 0:(this[ar]=!0,super.emit(e,r));default:return super.emit(e,r)}}},ol=class extends uo{[pt](){let e=!0;try{this[hr](null,g.default.openSync(this[Je],"r")),e=!1}finally{e&&this[Fe]()}}[nr](){let e=!0;try{if(!this[ht]){this[ht]=!0;do{let r=this[$s](),n=r.length===0?0:g.default.readSync(this[Z],r,0,r.length,null);if(!this[Ms](n,r))break}while(!0);this[ht]=!1}e=!1}finally{e&&this[Fe]()}}[Fe](){if(this[ur]&&typeof this[Z]=="number"){let e=this[Z];this[Z]=null,g.default.closeSync(e),this.emit("close")}}},ho=class extends Tm{constructor(e,r){r=r||{};super(r);this.readable=!1,this.writable=!0,this[ar]=!1,this[er]=!1,this[Hr]=!1,this[An]=!1,this[He]=[],this[Je]=e,this[Z]=typeof r.fd=="number"?r.fd:null,this[Jn]=r.mode===void 0?438:r.mode,this[Dt]=typeof r.start=="number"?r.start:null,this[ur]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[Dt]!==null?"r+":"w";this[zn]=r.flags===void 0,this[dt]=this[zn]?n:r.flags,this[Z]===null&&this[pt]()}emit(e,r){if(e==="error"){if(this[ar])return;this[ar]=!0}return super.emit(e,r)}get fd(){return this[Z]}get path(){return this[Je]}[or](e){this[Fe](),this[er]=!0,this.emit("error",e)}[pt](){g.default.open(this[Je],this[dt],this[Jn],(e,r)=>this[hr](e,r))}[hr](e,r){this[zn]&&this[dt]==="r+"&&e&&e.code==="ENOENT"?(this[dt]="w",this[pt]()):e?this[or](e):(this[Z]=r,this.emit("open",r),this[es]())}end(e,r){return e&&this.write(e,r),this[Hr]=!0,!this[er]&&!this[He].length&&typeof this[Z]=="number"&&this[rr](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[Hr]?(this.emit("error",new Error("write() after end()")),!1):this[Z]===null||this[er]||this[He].length?(this[He].push(e),this[An]=!0,!1):(this[er]=!0,this[Gn](e),!0)}[Gn](e){g.default.write(this[Z],e,0,e.length,this[Dt],(r,n)=>this[rr](r,n))}[rr](e,r){e?this[or](e):(this[Dt]!==null&&(this[Dt]+=r),this[He].length?this[es]():(this[er]=!1,this[Hr]&&!this[pc]?(this[pc]=!0,this[Fe](),this.emit("finish")):this[An]&&(this[An]=!1,this.emit("drain"))))}[es](){if(this[He].length===0)this[Hr]&&this[rr](null,0);else if(this[He].length===1)this[Gn](this[He].pop());else{let e=this[He];this[He]=[],Fs(this[Z],e,this[Dt],(r,n)=>this[rr](r,n))}}[Fe](){if(this[ur]&&typeof this[Z]=="number"){let e=this[Z];this[Z]=null,g.default.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},al=class extends ho{[pt](){let e;if(this[zn]&&this[dt]==="r+")try{e=g.default.openSync(this[Je],this[dt],this[Jn])}catch(r){if(r.code==="ENOENT")return this[dt]="w",this[pt]();throw r}else e=g.default.openSync(this[Je],this[dt],this[Jn]);this[hr](null,e)}[Fe](){if(this[ur]&&typeof this[Z]=="number"){let e=this[Z];this[Z]=null,g.default.closeSync(e),this.emit("close")}}[Gn](e){let r=!0;try{this[rr](null,g.default.writeSync(this[Z],e,0,e.length,this[Dt])),r=!1}finally{if(r)try{this[Fe]()}catch{}}}},Pm=uo,xm=ol,km=ho,Lm=al,vt={ReadStream:Pm,ReadStreamSync:xm,WriteStream:km,WriteStreamSync:Lm},Nm=1024*1024,rs=Buffer.from([31,139]),Ce=Symbol("state"),xt=Symbol("writeEntry"),Ke=Symbol("readEntry"),ns=Symbol("nextEntry"),yc=Symbol("processEntry"),Te=Symbol("extendedHeader"),qr=Symbol("globalExtendedHeader"),at=Symbol("meta"),_c=Symbol("emitMeta"),ee=Symbol("buffer"),Ze=Symbol("queue"),kt=Symbol("ended"),vc=Symbol("emittedEnd"),Lt=Symbol("emit"),ve=Symbol("unzip"),Cn=Symbol("consumeChunk"),Tn=Symbol("consumeChunkSub"),is=Symbol("consumeBody"),Ec=Symbol("consumeMeta"),Sc=Symbol("consumeHeader"),Pn=Symbol("consuming"),ss=Symbol("bufferConcat"),os=Symbol("maybeEnd"),jr=Symbol("writing"),ct=Symbol("aborted"),xn=Symbol("onDone"),Nt=Symbol("sawValidEntry"),kn=Symbol("sawNullBlock"),Ln=Symbol("sawEOF"),Dm=t=>!0,ui=oi(class extends gr.default{constructor(e){e=e||{};super(e);this.file=e.file||"",this[Nt]=null,this.on(xn,r=>{(this[Ce]==="begin"||this[Nt]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(xn,e.ondone):this.on(xn,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||Nm,this.filter=typeof e.filter=="function"?e.filter:Dm,this.writable=!0,this.readable=!1,this[Ze]=new It,this[ee]=null,this[Ke]=null,this[xt]=null,this[Ce]="begin",this[at]="",this[Te]=null,this[qr]=null,this[kt]=!1,this[ve]=null,this[ct]=!1,this[kn]=!1,this[Ln]=!1,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Sc](e,r){this[Nt]===null&&(this[Nt]=!1);let n;try{n=new qt(e,r,this[Te],this[qr])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(n.nullBlock)this[kn]?(this[Ln]=!0,this[Ce]==="begin"&&(this[Ce]="header"),this[Lt]("eof")):(this[kn]=!0,this[Lt]("nullBlock"));else if(this[kn]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let i=n.type;if(/^(Symbolic)?Link$/.test(i)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(i)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let s=this[xt]=new ao(n,this[Te],this[qr]);if(!this[Nt])if(s.remain){let o=()=>{s.invalid||(this[Nt]=!0)};s.on("end",o)}else this[Nt]=!0;s.meta?s.size>this.maxMetaEntrySize?(s.ignore=!0,this[Lt]("ignoredEntry",s),this[Ce]="ignore",s.resume()):s.size>0&&(this[at]="",s.on("data",o=>this[at]+=o),this[Ce]="meta"):(this[Te]=null,s.ignore=s.ignore||!this.filter(s.path,s),s.ignore?(this[Lt]("ignoredEntry",s),this[Ce]=s.remain?"ignore":"header",s.resume()):(s.remain?this[Ce]="body":(this[Ce]="header",s.end()),this[Ke]?this[Ze].push(s):(this[Ze].push(s),this[ns]())))}}}[yc](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[Ke]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[ns]()),r=!1)):(this[Ke]=null,r=!1),r}[ns](){do;while(this[yc](this[Ze].shift()));if(!this[Ze].length){let e=this[Ke];!e||e.flowing||e.size===e.remain?this[jr]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[is](e,r){let n=this[xt],i=n.blockRemain,s=i>=e.length&&r===0?e:e.slice(r,r+i);return n.write(s),n.blockRemain||(this[Ce]="header",this[xt]=null,n.end()),s.length}[Ec](e,r){let n=this[xt],i=this[is](e,r);return this[xt]||this[_c](n),i}[Lt](e,r,n){!this[Ze].length&&!this[Ke]?this.emit(e,r,n):this[Ze].push([e,r,n])}[_c](e){switch(this[Lt]("meta",this[at]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Te]=Zr.parse(this[at],this[Te],!1);break;case"GlobalExtendedHeader":this[qr]=Zr.parse(this[at],this[qr],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Te]=this[Te]||Object.create(null),this[Te].path=this[at].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Te]=this[Te]||Object.create(null),this[Te].linkpath=this[at].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[ct]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[ct])return;if(this[ve]===null&&e){if(this[ee]&&(e=Buffer.concat([this[ee],e]),this[ee]=null),e.length<rs.length)return this[ee]=e,!0;for(let n=0;this[ve]===null&&n<rs.length;n++)e[n]!==rs[n]&&(this[ve]=!1);if(this[ve]===null){let n=this[kt];this[kt]=!1,this[ve]=new Xc.Unzip,this[ve].on("data",s=>this[Cn](s)),this[ve].on("error",s=>this.abort(s)),this[ve].on("end",s=>{this[kt]=!0,this[Cn]()}),this[jr]=!0;let i=this[ve][n?"end":"write"](e);return this[jr]=!1,i}}this[jr]=!0,this[ve]?this[ve].write(e):this[Cn](e),this[jr]=!1;let r=this[Ze].length?!1:this[Ke]?this[Ke].flowing:!0;return!r&&!this[Ze].length&&this[Ke].once("drain",n=>this.emit("drain")),r}[ss](e){e&&!this[ct]&&(this[ee]=this[ee]?Buffer.concat([this[ee],e]):e)}[os](){if(this[kt]&&!this[vc]&&!this[ct]&&!this[Pn]){this[vc]=!0;let e=this[xt];if(e&&e.blockRemain){let r=this[ee]?this[ee].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[ee]&&e.write(this[ee]),e.end()}this[Lt](xn)}}[Cn](e){if(this[Pn])this[ss](e);else if(!e&&!this[ee])this[os]();else{if(this[Pn]=!0,this[ee]){this[ss](e);let r=this[ee];this[ee]=null,this[Tn](r)}else this[Tn](e);for(;this[ee]&&this[ee].length>=512&&!this[ct]&&!this[Ln];){let r=this[ee];this[ee]=null,this[Tn](r)}this[Pn]=!1}(!this[ee]||this[kt])&&this[os]()}[Tn](e){let r=0,n=e.length;for(;r+512<=n&&!this[ct]&&!this[Ln];)switch(this[Ce]){case"begin":case"header":this[Sc](e,r),r+=512;break;case"ignore":case"body":r+=this[is](e,r);break;case"meta":r+=this[Ec](e,r);break;default:throw new Error("invalid state: "+this[Ce])}r<n&&(this[ee]?this[ee]=Buffer.concat([e.slice(r),this[ee]]):this[ee]=e.slice(r))}end(e){this[ct]||(this[ve]?this[ve].end(e):(this[kt]=!0,this.write(e)))}}),on=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=sn(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&Fm(n,e),n.noResume||Im(n),n.file&&n.sync?Mm(n):n.file?$m(n,r):cl(n)},Im=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},Fm=(t,e)=>{let r=new Map(e.map(s=>[s.replace(/\/+$/,""),!0])),n=t.filter,i=(s,o)=>{let a=o||b.default.parse(s).root||".",c=s===a?!1:r.has(s)?r.get(s):i(b.default.dirname(s),a);return r.set(s,c),c};t.filter=n?(s,o)=>n(s,o)&&i(s.replace(/\/+$/,"")):s=>i(s.replace(/\/+$/,""))},Mm=t=>{let e=cl(t),r=t.file,n=!0,i;try{let s=g.default.statSync(r),o=t.maxReadSize||16*1024*1024;if(s.size<o)e.end(g.default.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(o);for(i=g.default.openSync(r,"r");a<s.size;){let h=g.default.readSync(i,c,0,o,a);a+=h,e.write(c.slice(0,h))}e.end()}n=!1}finally{if(n&&i)try{g.default.closeSync(i)}catch{}}},$m=(t,e)=>{let r=new ui(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("end",o),g.default.stat(i,(c,h)=>{if(c)a(c);else{let l=new vt.ReadStream(i,{readSize:n,size:h.size});l.on("error",a),l.pipe(r)}})});return e?s.then(e,e):s},cl=t=>new ui(t),Bm=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=sn(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?Hm(n,e):n.file?qm(n,e,r):n.sync?jm(n,e):Um(n,e)},Hm=(t,e)=>{let r=new jt.Sync(t),n=new vt.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),ll(r,e)},qm=(t,e,r)=>{let n=new jt(t),i=new vt.WriteStream(t.file,{mode:t.mode||438});n.pipe(i);let s=new Promise((o,a)=>{i.on("error",a),i.on("close",o),n.on("error",a)});return fo(n,e),r?s.then(r,r):s},ll=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?on({file:b.default.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},fo=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return on({file:b.default.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>fo(t,e));t.add(r)}t.end()},jm=(t,e)=>{let r=new jt.Sync(t);return ll(r,e),r},Um=(t,e)=>{let r=new jt(t);return fo(r,e),r},ul=(t,e,r)=>{let n=sn(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?Gm(n,e):Wm(n,e,r)},Gm=(t,e)=>{let r=new jt.Sync(t),n=!0,i,s;try{try{i=g.default.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")i=g.default.openSync(t.file,"w+");else throw c}let o=g.default.fstatSync(i),a=Buffer.alloc(512);e:for(s=0;s<o.size;s+=512){for(let l=0,u=0;l<512;l+=u){if(u=g.default.readSync(i,a,l,a.length-l,s+l),s===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!u)break e}let c=new qt(a);if(!c.cksumValid)break;let h=512*Math.ceil(c.size/512);if(s+h+512>o.size)break;s+=h,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,zm(t,r,s,i,e)}finally{if(n)try{g.default.closeSync(i)}catch{}}},zm=(t,e,r,n,i)=>{let s=new vt.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(s),Ym(e,i)},Wm=(t,e,r)=>{e=Array.from(e);let n=new jt(t),i=(o,a,c)=>{let h=(m,y)=>{m?g.default.close(o,v=>c(m)):c(null,y)},l=0;if(a===0)return h(null,0);let u=0,f=Buffer.alloc(512),p=(m,y)=>{if(m)return h(m);if(u+=y,u<512&&y)return g.default.read(o,f,u,f.length-u,l+u,p);if(l===0&&f[0]===31&&f[1]===139)return h(new Error("cannot append to compressed archives"));if(u<512)return h(null,l);let v=new qt(f);if(!v.cksumValid)return h(null,l);let S=512*Math.ceil(v.size/512);if(l+S+512>a||(l+=S+512,l>=a))return h(null,l);t.mtimeCache&&t.mtimeCache.set(v.path,v.mtime),u=0,g.default.read(o,f,0,512,l,p)};g.default.read(o,f,0,512,l,p)},s=new Promise((o,a)=>{n.on("error",a);let c="r+",h=(l,u)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",g.default.open(t.file,c,h);if(l)return a(l);g.default.fstat(u,(f,p)=>{if(f)return a(f);i(u,p.size,(m,y)=>{if(m)return a(m);let v=new vt.WriteStream(t.file,{fd:u,start:y});n.pipe(v),v.on("error",a),v.on("close",o),hl(n,e)})})};g.default.open(t.file,c,h)});return r?s.then(r,r):s},Ym=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?on({file:b.default.resolve(t.cwd,r.substr(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},hl=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return on({file:b.default.resolve(t.cwd,r.substr(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>hl(t,e));t.add(r)}t.end()},Vm=(t,e,r)=>{let n=sn(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),Km(n),ul(n,e,r)},Km=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)},{promisify:bc}=qe.default,Zm=t=>{if(!t)t={mode:511,fs:g.default};else if(typeof t=="object")t=z({mode:511,fs:g.default},t);else if(typeof t=="number")t={mode:t,fs:g.default};else if(typeof t=="string")t={mode:parseInt(t,8),fs:g.default};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||g.default.mkdir,t.mkdirAsync=bc(t.mkdir),t.stat=t.stat||t.fs.stat||g.default.stat,t.statAsync=bc(t.stat),t.statSync=t.statSync||t.fs.statSync||g.default.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||g.default.mkdirSync,t},_r=Zm,Xm=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:Qm,parse:Jm}=b.default,eg=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=Qm(t),Xm==="win32"){let e=/[*|"<>?:]/,{root:r}=Jm(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t},vr=eg,{dirname:fl}=b.default,dl=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?dl(t,fl(e),e):void 0),pl=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?pl(t,fl(e),e):void 0}},tg={findMade:dl,findMadeSync:pl},{dirname:ml}=b.default,Bs=(t,e,r)=>{e.recursive=!1;let n=ml(t);return n===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>r||t,i=>{if(i.code==="ENOENT")return Bs(n,e).then(s=>Bs(t,e,s));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(s=>{if(s.isDirectory())return r;throw i},()=>{throw i})})},Hs=(t,e,r)=>{let n=ml(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),r||t}catch(i){if(i.code==="ENOENT")return Hs(t,e,Hs(n,e,r));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}},gl={mkdirpManual:Bs,mkdirpManualSync:Hs},{dirname:yl}=b.default,{findMade:rg,findMadeSync:ng}=tg,{mkdirpManual:ig,mkdirpManualSync:sg}=gl,og=(t,e)=>(e.recursive=!0,yl(t)===t?e.mkdirAsync(t,e):rg(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(i=>{if(i.code==="ENOENT")return ig(t,e);throw i}))),ag=(t,e)=>{if(e.recursive=!0,yl(t)===t)return e.mkdirSync(t,e);let n=ng(e,t);try{return e.mkdirSync(t,e),n}catch(i){if(i.code==="ENOENT")return sg(t,e);throw i}},cg={mkdirpNative:og,mkdirpNativeSync:ag},lg=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,as=lg.replace(/^v/,"").split("."),_l=+as[0]>10||+as[0]==10&&+as[1]>=12,ug=_l?t=>t.mkdir===g.default.mkdir:()=>!1,hg=_l?t=>t.mkdirSync===g.default.mkdirSync:()=>!1,fg={useNative:ug,useNativeSync:hg},{mkdirpNative:vl,mkdirpNativeSync:El}=cg,{mkdirpManual:Sl,mkdirpManualSync:bl}=gl,{useNative:dg,useNativeSync:pg}=fg,Er=(t,e)=>(t=vr(t),e=_r(e),dg(e)?vl(t,e):Sl(t,e)),mg=(t,e)=>(t=vr(t),e=_r(e),pg(e)?El(t,e):bl(t,e));Er.sync=mg;Er.native=(t,e)=>vl(vr(t),_r(e));Er.manual=(t,e)=>Sl(vr(t),_r(e));Er.nativeSync=(t,e)=>El(vr(t),_r(e));Er.manualSync=(t,e)=>bl(vr(t),_r(e));var wl=Er,gg=g.default.lchown?"lchown":"chown",yg=g.default.lchownSync?"lchownSync":"chownSync",Rl=g.default.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),wc=(t,e,r)=>{try{return g.default[yg](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},_g=(t,e,r)=>{try{return g.default.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},vg=Rl?(t,e,r,n)=>i=>{!i||i.code!=="EISDIR"?n(i):g.default.chown(t,e,r,n)}:(t,e,r,n)=>n,qs=Rl?(t,e,r)=>{try{return wc(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;_g(t,e,r)}}:(t,e,r)=>wc(t,e,r),Eg=process.version,Al=(t,e,r)=>g.default.readdir(t,e,r),Sg=(t,e)=>g.default.readdirSync(t,e);/^v4\./.test(Eg)&&(Al=(t,e,r)=>g.default.readdir(t,r));var ei=(t,e,r,n)=>{g.default[gg](t,e,r,vg(t,e,r,i=>{n(i&&i.code!=="ENOENT"?i:null)}))},Ol=(t,e,r,n,i)=>{if(typeof e=="string")return g.default.lstat(b.default.resolve(t,e),(s,o)=>{if(s)return i(s.code!=="ENOENT"?s:null);o.name=e,Ol(t,o,r,n,i)});if(e.isDirectory())po(b.default.resolve(t,e.name),r,n,s=>{if(s)return i(s);let o=b.default.resolve(t,e.name);ei(o,r,n,i)});else{let s=b.default.resolve(t,e.name);ei(s,r,n,i)}},po=(t,e,r,n)=>{Al(t,{withFileTypes:!0},(i,s)=>{if(i){if(i.code==="ENOENT")return n();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return n(i)}if(i||!s.length)return ei(t,e,r,n);let o=s.length,a=null,c=h=>{if(!a){if(h)return n(a=h);if(--o===0)return ei(t,e,r,n)}};s.forEach(h=>Ol(t,h,e,r,c))})},bg=(t,e,r,n)=>{if(typeof e=="string")try{let i=g.default.lstatSync(b.default.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&Cl(b.default.resolve(t,e.name),r,n),qs(b.default.resolve(t,e.name),r,n)},Cl=(t,e,r)=>{let n;try{n=Sg(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return qs(t,e,r);throw i}return n&&n.length&&n.forEach(i=>bg(t,i,e,r)),qs(t,e,r)},Tl=po;po.sync=Cl;var mo=class extends Error{constructor(e,r){super("Cannot extract through symbolic link");this.path=r,this.symlink=e}get name(){return"SylinkError"}},Xr=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'");this.path=e,this.code=r}get name(){return"CwdError"}},go=(t,e,r)=>{let n=e.umask,i=e.mode|448,s=(i&n)!==0,o=e.uid,a=e.gid,c=typeof o=="number"&&typeof a=="number"&&(o!==e.processUid||a!==e.processGid),h=e.preserve,l=e.unlink,u=e.cache,f=e.cwd,p=(v,S)=>{v?r(v):(u.set(t,!0),S&&c?Tl(S,o,a,w=>p(w)):s?g.default.chmod(t,i,r):r())};if(u&&u.get(t)===!0)return p();if(t===f)return g.default.stat(t,(v,S)=>{(v||!S.isDirectory())&&(v=new Xr(t,v&&v.code||"ENOTDIR")),p(v)});if(h)return wl(t,{mode:i}).then(v=>p(null,v),p);let y=b.default.relative(f,t).split(/\/|\\/);ti(f,y,i,u,l,f,null,p)},ti=(t,e,r,n,i,s,o,a)=>{if(!e.length)return a(null,o);let c=e.shift(),h=t+"/"+c;if(n.get(h))return ti(h,e,r,n,i,s,o,a);g.default.mkdir(h,r,Pl(h,e,r,n,i,s,o,a))},Pl=(t,e,r,n,i,s,o,a)=>c=>{if(c){if(c.path&&b.default.dirname(c.path)===s&&(c.code==="ENOTDIR"||c.code==="ENOENT"))return a(new Xr(s,c.code));g.default.lstat(t,(h,l)=>{if(h)a(h);else if(l.isDirectory())ti(t,e,r,n,i,s,o,a);else if(i)g.default.unlink(t,u=>{if(u)return a(u);g.default.mkdir(t,r,Pl(t,e,r,n,i,s,o,a))});else{if(l.isSymbolicLink())return a(new mo(t,t+"/"+e.join("/")));a(c)}})}else o=o||t,ti(t,e,r,n,i,s,o,a)},wg=(t,e)=>{let r=e.umask,n=e.mode|448,i=(n&r)!==0,s=e.uid,o=e.gid,a=typeof s=="number"&&typeof o=="number"&&(s!==e.processUid||o!==e.processGid),c=e.preserve,h=e.unlink,l=e.cache,u=e.cwd,f=v=>{l.set(t,!0),v&&a&&Tl.sync(v,s,o),i&&g.default.chmodSync(t,n)};if(l&&l.get(t)===!0)return f();if(t===u){let v=!1,S="ENOTDIR";try{v=g.default.statSync(t).isDirectory()}catch(w){S=w.code}finally{if(!v)throw new Xr(t,S)}f();return}if(c)return f(wl.sync(t,n));let m=b.default.relative(u,t).split(/\/|\\/),y=null;for(let v=m.shift(),S=u;v&&(S+="/"+v);v=m.shift())if(!l.get(S))try{g.default.mkdirSync(S,n),y=y||S,l.set(S,!0)}catch(w){if(w.path&&b.default.dirname(w.path)===u&&(w.code==="ENOTDIR"||w.code==="ENOENT"))return new Xr(u,w.code);let I=g.default.lstatSync(S);if(I.isDirectory()){l.set(S,!0);continue}else if(h){g.default.unlinkSync(S),g.default.mkdirSync(S,n),y=y||S,l.set(S,!0);continue}else if(I.isSymbolicLink())return new mo(S,S+"/"+m.join("/"))}return f(y)};go.sync=wg;var Rg=()=>{let t=new Map,e=new Map,{join:r}=b.default,n=l=>r(l).split(/[\\/]/).slice(0,-1).reduce((u,f)=>u.length?u.concat(r(u[u.length-1],f)):[f],[]),i=new Set,s=l=>{let u=e.get(l);if(!u)throw new Error("function does not have any path reservations");return{paths:u.paths.map(f=>t.get(f)),dirs:[...u.dirs].map(f=>t.get(f))}},o=l=>{let{paths:u,dirs:f}=s(l);return u.every(p=>p[0]===l)&&f.every(p=>p[0]instanceof Set&&p[0].has(l))},a=l=>i.has(l)||!o(l)?!1:(i.add(l),l(()=>c(l)),!0),c=l=>{if(!i.has(l))return!1;let{paths:u,dirs:f}=e.get(l),p=new Set;return u.forEach(m=>{let y=t.get(m);B.default.equal(y[0],l),y.length===1?t.delete(m):(y.shift(),typeof y[0]=="function"?p.add(y[0]):y[0].forEach(v=>p.add(v)))}),f.forEach(m=>{let y=t.get(m);B.default(y[0]instanceof Set),y[0].size===1&&y.length===1?t.delete(m):y[0].size===1?(y.shift(),p.add(y[0])):y[0].delete(l)}),i.delete(l),p.forEach(m=>a(m)),!0};return{check:o,reserve:(l,u)=>{let f=new Set(l.map(p=>n(p)).reduce((p,m)=>p.concat(m)));return e.set(u,{dirs:f,paths:l}),l.forEach(p=>{let m=t.get(p);m?m.push(u):t.set(p,[u])}),f.forEach(p=>{let m=t.get(p);m?m[m.length-1]instanceof Set?m[m.length-1].add(u):m.push(new Set([u])):t.set(p,[new Set([u])])}),a(u)}}},Ag=process.env.__FAKE_PLATFORM__||process.platform,Og=Ag==="win32",Cg=Le.__FAKE_TESTING_FS__||g.default,{O_CREAT:Tg,O_TRUNC:Pg,O_WRONLY:xg,UV_FS_O_FILEMAP:xl=0}=Cg.constants,kg=Og&&!!xl,Lg=512*1024,Ng=xl|Pg|Tg|xg,kl=kg?t=>t<Lg?Ng:"w":()=>"w",Rc=Symbol("onEntry"),js=Symbol("checkFs"),Ac=Symbol("checkFs2"),Us=Symbol("isReusable"),Qe=Symbol("makeFs"),Gs=Symbol("file"),zs=Symbol("directory"),Wn=Symbol("link"),Oc=Symbol("symlink"),Cc=Symbol("hardlink"),Tc=Symbol("unsupported"),Pc=Symbol("checkPath"),cr=Symbol("mkdir"),ge=Symbol("onError"),Nn=Symbol("pending"),xc=Symbol("pend"),tr=Symbol("unpend"),cs=Symbol("ended"),ls=Symbol("maybeClose"),Ws=Symbol("skip"),Wr=Symbol("doChown"),Yr=Symbol("uid"),Vr=Symbol("gid"),Dn=()=>{throw new Error("sync function called cb somehow?!?")},Dg=(t,e)=>{if(process.platform!=="win32")return g.default.unlink(t,e);let r=t+".DELETE."+Yc.default.randomBytes(16).toString("hex");g.default.rename(t,r,n=>{if(n)return e(n);g.default.unlink(r,e)})},Ig=t=>{if(process.platform!=="win32")return g.default.unlinkSync(t);let e=t+".DELETE."+Yc.default.randomBytes(16).toString("hex");g.default.renameSync(t,e),g.default.unlinkSync(e)},kc=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,hi=class extends ui{constructor(e){e||(e={}),e.ondone=r=>{this[cs]=!0,this[ls]()};super(e);if(this.reservations=Rg(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[Nn]=0,this[cs]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||process.platform==="win32",this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=b.default.resolve(e.cwd||process.cwd()),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[Rc](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[ls](){this[cs]&&this[Nn]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"),this.emit("close"))}[Pc](e){if(this.strip){let r=e.path.split(/\/|\\/);if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=e.linkpath.split(/\/|\\/);n.length>=this.strip&&(e.linkpath=n.slice(this.strip).join("/"))}}if(!this.preservePaths){let r=e.path;if(r.match(/(^|\/|\\)\.\.(\\|\/|$)/))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;if(b.default.win32.isAbsolute(r)){let n=b.default.win32.parse(r);e.path=r.substr(n.root.length);let i=n.root;this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:r})}}if(this.win32){let r=b.default.win32.parse(e.path);e.path=r.root===""?As.encode(e.path):r.root+As.encode(e.path.substr(r.root.length))}return b.default.isAbsolute(e.path)?e.absolute=e.path:e.absolute=b.default.resolve(this.cwd,e.path),!0}[Rc](e){if(!this[Pc](e))return e.resume();switch(B.default.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[js](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[Tc](e)}}[ge](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[tr](),r.resume())}[cr](e,r,n){go(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[Wr](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Yr](e){return kc(this.uid,e.uid,this.processUid)}[Vr](e){return kc(this.gid,e.gid,this.processGid)}[Gs](e,r){let n=e.mode&4095||this.fmode,i=new vt.WriteStream(e.absolute,{flags:kl(e.size),mode:n,autoClose:!1});i.on("error",c=>this[ge](c,e));let s=1,o=c=>{if(c)return this[ge](c,e);--s===0&&g.default.close(i.fd,h=>{r(),h?this[ge](h,e):this[tr]()})};i.on("finish",c=>{let h=e.absolute,l=i.fd;if(e.mtime&&!this.noMtime){s++;let u=e.atime||new Date,f=e.mtime;g.default.futimes(l,u,f,p=>p?g.default.utimes(h,u,f,m=>o(m&&p)):o())}if(this[Wr](e)){s++;let u=this[Yr](e),f=this[Vr](e);g.default.fchown(l,u,f,p=>p?g.default.chown(h,u,f,m=>o(m&&p)):o())}o()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>this[ge](c,e)),e.pipe(a)),a.pipe(i)}[zs](e,r){let n=e.mode&4095||this.dmode;this[cr](e.absolute,n,i=>{if(i)return r(),this[ge](i,e);let s=1,o=a=>{--s===0&&(r(),this[tr](),e.resume())};e.mtime&&!this.noMtime&&(s++,g.default.utimes(e.absolute,e.atime||new Date,e.mtime,o)),this[Wr](e)&&(s++,g.default.chown(e.absolute,this[Yr](e),this[Vr](e),o)),o()})}[Tc](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[Oc](e,r){this[Wn](e,e.linkpath,"symlink",r)}[Cc](e,r){this[Wn](e,b.default.resolve(this.cwd,e.linkpath),"link",r)}[xc](){this[Nn]++}[tr](){this[Nn]--,this[ls]()}[Ws](e){this[tr](),e.resume()}[Us](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&process.platform!=="win32"}[js](e){this[xc]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[Ac](e,n))}[Ac](e,r){this[cr](b.default.dirname(e.absolute),this.dmode,n=>{if(n)return r(),this[ge](n,e);g.default.lstat(e.absolute,(i,s)=>{s&&(this.keep||this.newer&&s.mtime>e.mtime)?(this[Ws](e),r()):i||this[Us](e,s)?this[Qe](null,e,r):s.isDirectory()?e.type==="Directory"?!this.noChmod&&(!e.mode||(s.mode&4095)===e.mode)?this[Qe](null,e,r):g.default.chmod(e.absolute,e.mode,o=>this[Qe](o,e,r)):g.default.rmdir(e.absolute,o=>this[Qe](o,e,r)):Dg(e.absolute,o=>this[Qe](o,e,r))})})}[Qe](e,r,n){if(e)return this[ge](e,r);switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[Gs](r,n);case"Link":return this[Cc](r,n);case"SymbolicLink":return this[Oc](r,n);case"Directory":case"GNUDumpDir":return this[zs](r,n)}}[Wn](e,r,n,i){g.default[n](r,e.absolute,s=>{if(s)return this[ge](s,e);i(),this[tr](),e.resume()})}},Ll=class extends hi{[js](e){let r=this[cr](b.default.dirname(e.absolute),this.dmode,Dn);if(r)return this[ge](r,e);try{let n=g.default.lstatSync(e.absolute);if(this.keep||this.newer&&n.mtime>e.mtime)return this[Ws](e);if(this[Us](e,n))return this[Qe](null,e,Dn);try{return n.isDirectory()?e.type==="Directory"?!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode&&g.default.chmodSync(e.absolute,e.mode):g.default.rmdirSync(e.absolute):Ig(e.absolute),this[Qe](null,e,Dn)}catch(i){return this[ge](i,e)}}catch{return this[Qe](null,e,Dn)}}[Gs](e,r){let n=e.mode&4095||this.fmode,i=a=>{let c;try{g.default.closeSync(s)}catch(h){c=h}(a||c)&&this[ge](a||c,e)},s;try{s=g.default.openSync(e.absolute,kl(e.size),n)}catch(a){return i(a)}let o=this.transform&&this.transform(e)||e;o!==e&&(o.on("error",a=>this[ge](a,e)),e.pipe(o)),o.on("data",a=>{try{g.default.writeSync(s,a,0,a.length)}catch(c){i(c)}}),o.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let h=e.atime||new Date,l=e.mtime;try{g.default.futimesSync(s,h,l)}catch(u){try{g.default.utimesSync(e.absolute,h,l)}catch{c=u}}}if(this[Wr](e)){let h=this[Yr](e),l=this[Vr](e);try{g.default.fchownSync(s,h,l)}catch(u){try{g.default.chownSync(e.absolute,h,l)}catch{c=c||u}}}i(c)})}[zs](e,r){let n=e.mode&4095||this.dmode,i=this[cr](e.absolute,n);if(i)return this[ge](i,e);if(e.mtime&&!this.noMtime)try{g.default.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Wr](e))try{g.default.chownSync(e.absolute,this[Yr](e),this[Vr](e))}catch{}e.resume()}[cr](e,r){try{return go.sync(e,{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[Wn](e,r,n,i){try{g.default[n+"Sync"](r,e.absolute),e.resume()}catch(s){return this[ge](s,e)}}};hi.Sync=Ll;var an=hi,Fg=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=sn(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&Mg(n,e),n.file&&n.sync?$g(n):n.file?Bg(n,r):n.sync?Hg(n):qg(n)},Mg=(t,e)=>{let r=new Map(e.map(s=>[s.replace(/\/+$/,""),!0])),n=t.filter,i=(s,o)=>{let a=o||b.default.parse(s).root||".",c=s===a?!1:r.has(s)?r.get(s):i(b.default.dirname(s),a);return r.set(s,c),c};t.filter=n?(s,o)=>n(s,o)&&i(s.replace(/\/+$/,"")):s=>i(s.replace(/\/+$/,""))},$g=t=>{let e=new an.Sync(t),r=t.file,n=g.default.statSync(r),i=t.maxReadSize||16*1024*1024;new vt.ReadStreamSync(r,{readSize:i,size:n.size}).pipe(e)},Bg=(t,e)=>{let r=new an(t),n=t.maxReadSize||16*1024*1024,i=t.file,s=new Promise((o,a)=>{r.on("error",a),r.on("close",o),g.default.stat(i,(c,h)=>{if(c)a(c);else{let l=new vt.ReadStream(i,{readSize:n,size:h.size});l.on("error",a),l.pipe(r)}})});return e?s.then(e,e):s},Hg=t=>new an.Sync(t),qg=t=>new an(t),jg=Me(function(t,e){e.c=e.create=Bm,e.r=e.replace=ul,e.t=e.list=on,e.u=e.update=Vm,e.x=e.extract=Fg,e.Pack=jt,e.Unpack=an,e.Parse=ui,e.ReadEntry=ao,e.WriteEntry=li,e.Header=qt,e.Pax=Zr,e.types=Mn}),Qr={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Nl={};for(let t of Object.keys(Qr))Nl[Qr[t]]=t;var T={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},$t=T;for(let t of Object.keys(T)){if(!("channels"in T[t]))throw new Error("missing channels property: "+t);if(!("labels"in T[t]))throw new Error("missing channel labels property: "+t);if(T[t].labels.length!==T[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=T[t];delete T[t].channels,delete T[t].labels,Object.defineProperty(T[t],"channels",{value:e}),Object.defineProperty(T[t],"labels",{value:r})}T.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,c;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let h=(i+s)/2;return s===i?c=0:h<=.5?c=o/(s+i):c=o/(2-s-i),[a,c*100,h*100]};T.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,a=t[1]/255,c=t[2]/255,h=Math.max(o,a,c),l=h-Math.min(o,a,c),u=function(f){return(h-f)/6/l+1/2};return l===0?(i=0,s=0):(s=l/h,e=u(o),r=u(a),n=u(c),o===h?i=n-r:a===h?i=1/3+e-n:c===h&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,h*100]};T.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=T.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};T.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Ug(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}T.rgb.keyword=function(t){let e=Nl[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(Qr)){let s=Qr[i],o=Ug(t,s);o<r&&(r=o,n=i)}return n};T.keyword.rgb=function(t){return Qr[t]};T.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};T.rgb.lab=function(t){let e=T.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};T.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,c=[0,0,0];for(let h=0;h<3;h++)s=e+1/3*-(h-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,c[h]=o*255;return c};T.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};T.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),c=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,c,o];case 1:return[a,n,o];case 2:return[o,n,c];case 3:return[o,a,n];case 4:return[c,o,n];case 5:return[n,o,a]}};T.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};T.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),a=1-n;s=6*e-o,(o&1)!==0&&(s=1-s);let c=r+s*(a-r),h,l,u;switch(o){default:case 6:case 0:h=a,l=c,u=r;break;case 1:h=c,l=a,u=r;break;case 2:h=r,l=a,u=c;break;case 3:h=r,l=c,u=a;break;case 4:h=c,l=r,u=a;break;case 5:h=a,l=r,u=c;break}return[h*255,l*255,u*255]};T.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};T.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};T.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};T.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let a=s**3,c=i**3,h=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,o=h>.008856?h:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};T.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};T.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};T.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?T.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};T.hsv.ansi16=function(t){return T.rgb.ansi16(T.hsv.rgb(t),t[2])};T.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};T.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};T.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};T.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};T.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};T.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,c;return o<1?a=s/(1-o):a=0,o<=0?c=0:i===e?c=(r-n)/o%6:i===r?c=2+(n-e)/o:c=4+(e-r)/o,c/=6,c%=1,[c*360,o*100,a*100]};T.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};T.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};T.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,a=1-o,c=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-r)*n,[(r*i[0]+c)*255,(r*i[1]+c)*255,(r*i[2]+c)*255]};T.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};T.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};T.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};T.hwb.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};T.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};T.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};T.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};T.gray.hsl=function(t){return[0,0,t[0]]};T.gray.hsv=T.gray.hsl;T.gray.hwb=function(t){return[0,100,t[0]]};T.gray.cmyk=function(t){return[0,0,0,t[0]]};T.gray.lab=function(t){return[t[0],0,0]};T.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};T.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function Gg(){let t={},e=Object.keys($t);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function zg(t){let e=Gg(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys($t[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],c=e[a];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,r.unshift(a))}}return e}function Wg(t,e){return function(r){return e(t(r))}}function Yg(t,e){let r=[e[t].parent,t],n=$t[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Wg($t[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}var Vg=function(t){let e=zg(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=Yg(o,e))}return r},ir={},Kg=Object.keys($t);function Zg(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Xg(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}Kg.forEach(t=>{ir[t]={},Object.defineProperty(ir[t],"channels",{value:$t[t].channels}),Object.defineProperty(ir[t],"labels",{value:$t[t].labels});let e=Vg(t);Object.keys(e).forEach(n=>{let i=e[n];ir[t][n]=Xg(i),ir[t][n].raw=Zg(i)})});var Qg=ir,Jr=Me(function(t){let e=(l,u)=>(...f)=>`\x1B[${l(...f)+u}m`,r=(l,u)=>(...f)=>{let p=l(...f);return`\x1B[${38+u};5;${p}m`},n=(l,u)=>(...f)=>{let p=l(...f);return`\x1B[${38+u};2;${p[0]};${p[1]};${p[2]}m`},i=l=>l,s=(l,u,f)=>[l,u,f],o=(l,u,f)=>{Object.defineProperty(l,u,{get:()=>{let p=f();return Object.defineProperty(l,u,{value:p,enumerable:!0,configurable:!0}),p},enumerable:!0,configurable:!0})},a,c=(l,u,f,p)=>{a===void 0&&(a=Qg);let m=p?10:0,y={};for(let[v,S]of Object.entries(a)){let w=v==="ansi16"?"ansi":v;v===u?y[w]=l(f,m):typeof S=="object"&&(y[w]=l(S[u],m))}return y};function h(){let l=new Map,u={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};u.color.gray=u.color.blackBright,u.bgColor.bgGray=u.bgColor.bgBlackBright,u.color.grey=u.color.blackBright,u.bgColor.bgGrey=u.bgColor.bgBlackBright;for(let[f,p]of Object.entries(u)){for(let[m,y]of Object.entries(p))u[m]={open:`\x1B[${y[0]}m`,close:`\x1B[${y[1]}m`},p[m]=u[m],l.set(y[0],y[1]);Object.defineProperty(u,f,{value:p,enumerable:!1})}return Object.defineProperty(u,"codes",{value:l,enumerable:!1}),u.color.close="\x1B[39m",u.bgColor.close="\x1B[49m",o(u.color,"ansi",()=>c(e,"ansi16",i,!1)),o(u.color,"ansi256",()=>c(r,"ansi256",i,!1)),o(u.color,"ansi16m",()=>c(n,"rgb",s,!1)),o(u.bgColor,"ansi",()=>c(e,"ansi16",i,!0)),o(u.bgColor,"ansi256",()=>c(r,"ansi256",i,!0)),o(u.bgColor,"ansi16m",()=>c(n,"rgb",s,!0)),u}Object.defineProperty(t,"exports",{enumerable:!0,get:h})}),Pe=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)},{env:ae}=process,mt;Pe("no-color")||Pe("no-colors")||Pe("color=false")||Pe("color=never")?mt=0:(Pe("color")||Pe("colors")||Pe("color=true")||Pe("color=always"))&&(mt=1);"FORCE_COLOR"in ae&&(ae.FORCE_COLOR==="true"?mt=1:ae.FORCE_COLOR==="false"?mt=0:mt=ae.FORCE_COLOR.length===0?1:Math.min(parseInt(ae.FORCE_COLOR,10),3));function Ys(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Vs(t,e){if(mt===0)return 0;if(Pe("color=16m")||Pe("color=full")||Pe("color=truecolor"))return 3;if(Pe("color=256"))return 2;if(t&&!e&&mt===void 0)return 0;let r=mt||0;if(ae.TERM==="dumb")return r;if(process.platform==="win32"){let n=ws.default.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in ae)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in ae)||ae.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in ae)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ae.TEAMCITY_VERSION)?1:0;if(ae.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ae){let n=parseInt((ae.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ae.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ae.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ae.TERM)||"COLORTERM"in ae?1:r}function Jg(t){let e=Vs(t,t&&t.isTTY);return Ys(e)}var Dl={supportsColor:Jg,stdout:Ys(Vs(!0,Rs.default.isatty(1))),stderr:Ys(Vs(!0,Rs.default.isatty(2)))},ey=(t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.substr(s),o},ty=(t,e,r,n)=>{let i=0,s="";do{let o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s},ry={stringReplaceAll:ey,stringEncaseCRLFWithFirstIndex:ty},ny=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Lc=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,iy=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,sy=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,oy=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function Il(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):oy.get(t)||t}function ay(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(iy))r.push(i[2].replace(sy,(a,c,h)=>c?Il(c):h));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}function cy(t){Lc.lastIndex=0;let e=[],r;for(;(r=Lc.exec(t))!==null;){let n=r[1];if(r[2]){let i=ay(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function Nc(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}var ly=(t,e)=>{let r=[],n=[],i=[];if(e.replace(ny,(s,o,a,c,h,l)=>{if(o)i.push(Il(o));else if(c){let u=i.join("");i=[],n.push(r.length===0?u:Nc(t,r)(u)),r.push({inverse:a,styles:cy(c)})}else if(h){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(Nc(t,r)(i.join(""))),i=[],r.pop()}else i.push(l)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")},{stdout:Ks,stderr:Zs}=Dl,{stringReplaceAll:uy,stringEncaseCRLFWithFirstIndex:hy}=ry,{isArray:ri}=Array,Fl=["ansi","ansi","ansi256","ansi16m"],Sr=Object.create(null),fy=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let r=Ks?Ks.level:0;t.level=e.level===void 0?r:e.level},Ml=class{constructor(e){return $l(e)}},$l=t=>{let e={};return fy(e,t),e.template=(...r)=>Hl(e.template,...r),Object.setPrototypeOf(e,fi.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=Ml,e.template};function fi(t){return $l(t)}for(let[t,e]of Object.entries(Jr))Sr[t]={get(){let r=di(this,yo(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};Sr.visible={get(){let t=di(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var Bl=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of Bl)Sr[t]={get(){let{level:e}=this;return function(...r){let n=yo(Jr.color[Fl[e]][t](...r),Jr.color.close,this._styler);return di(this,n,this._isEmpty)}}};for(let t of Bl){let e="bg"+t[0].toUpperCase()+t.slice(1);Sr[e]={get(){let{level:r}=this;return function(...n){let i=yo(Jr.bgColor[Fl[r]][t](...n),Jr.bgColor.close,this._styler);return di(this,i,this._isEmpty)}}}}var dy=Object.defineProperties(()=>{},ne(z({},Sr),{level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}})),yo=(t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},di=(t,e,r)=>{let n=(...i)=>ri(i[0])&&ri(i[0].raw)?Dc(n,Hl(n,...i)):Dc(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,dy),n._generator=t,n._styler=e,n._isEmpty=r,n},Dc=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=uy(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=hy(e,i,n,s)),n+e+i},us,Hl=(t,...e)=>{let[r]=e;if(!ri(r)||!ri(r.raw))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return us===void 0&&(us=ly),us(t,i.join(""))};Object.defineProperties(fi.prototype,Sr);var pi=fi();pi.supportsColor=Ks;pi.stderr=fi({level:Zs?Zs.level:0});pi.stderr.supportsColor=Zs;var Xe=pi,Ut=py(g.default);function py(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:t.__proto__};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var my=process.cwd,Yn=null,gy=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Yn||(Yn=my.call(process)),Yn};try{process.cwd()}catch{}var yy=process.chdir;process.chdir=function(t){Yn=null,yy.call(process,t)};var _y=vy;function vy(t){ft.default.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&Ey(t),t.lutimes||Sy(t),t.chown=ds(t.chown),t.fchown=ds(t.fchown),t.lchown=ds(t.lchown),t.chmod=hs(t.chmod),t.fchmod=hs(t.fchmod),t.lchmod=hs(t.lchmod),t.chownSync=ps(t.chownSync),t.fchownSync=ps(t.fchownSync),t.lchownSync=ps(t.lchownSync),t.chmodSync=fs(t.chmodSync),t.fchmodSync=fs(t.fchmodSync),t.lchmodSync=fs(t.lchmodSync),t.stat=ms(t.stat),t.fstat=ms(t.fstat),t.lstat=ms(t.lstat),t.statSync=gs(t.statSync),t.fstatSync=gs(t.fstatSync),t.lstatSync=gs(t.lstatSync),t.lchmod||(t.lchmod=function(e,r,n){n&&process.nextTick(n)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(e,r,n,i){i&&process.nextTick(i)},t.lchownSync=function(){}),gy==="win32"&&(t.rename=function(e){return function(r,n,i){var s=Date.now(),o=0;e(r,n,function a(c){if(c&&(c.code==="EACCES"||c.code==="EPERM")&&Date.now()-s<6e4){setTimeout(function(){t.stat(n,function(h,l){h&&h.code==="ENOENT"?e(r,n,a):i(c)})},o),o<100&&(o+=10);return}i&&i(c)})}}(t.rename)),t.read=function(e){return function(r,n,i,s,o,a){var c;if(a&&typeof a=="function"){var h=0;c=function(l,u,f){if(l&&l.code==="EAGAIN"&&h<10)return h++,e.call(t,r,n,i,s,o,c);a.apply(this,arguments)}}return e.call(t,r,n,i,s,o,c)}}(t.read),t.readSync=function(e){return function(r,n,i,s,o){for(var a=0;;)try{return e.call(t,r,n,i,s,o)}catch(c){if(c.code==="EAGAIN"&&a<10){a++;continue}throw c}}}(t.readSync)}function Ey(t){t.lchmod=function(e,r,n){t.open(e,ft.default.O_WRONLY|ft.default.O_SYMLINK,r,function(i,s){if(i){n&&n(i);return}t.fchmod(s,r,function(o){t.close(s,function(a){n&&n(o||a)})})})},t.lchmodSync=function(e,r){var n=t.openSync(e,ft.default.O_WRONLY|ft.default.O_SYMLINK,r),i=!0,s;try{s=t.fchmodSync(n,r),i=!1}finally{if(i)try{t.closeSync(n)}catch{}else t.closeSync(n)}return s}}function Sy(t){ft.default.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,r,n,i){t.open(e,ft.default.O_SYMLINK,function(s,o){if(s){i&&i(s);return}t.futimes(o,r,n,function(a){t.close(o,function(c){i&&i(a||c)})})})},t.lutimesSync=function(e,r,n){var i=t.openSync(e,ft.default.O_SYMLINK),s,o=!0;try{s=t.futimesSync(i,r,n),o=!1}finally{if(o)try{t.closeSync(i)}catch{}else t.closeSync(i)}return s}):(t.lutimes=function(e,r,n,i){i&&process.nextTick(i)},t.lutimesSync=function(){})}function hs(t){return t&&function(e,r,n){return t.call(Ut,e,r,function(i){mi(i)&&(i=null),n&&n.apply(this,arguments)})}}function fs(t){return t&&function(e,r){try{return t.call(Ut,e,r)}catch(n){if(!mi(n))throw n}}}function ds(t){return t&&function(e,r,n,i){return t.call(Ut,e,r,n,function(s){mi(s)&&(s=null),i&&i.apply(this,arguments)})}}function ps(t){return t&&function(e,r,n){try{return t.call(Ut,e,r,n)}catch(i){if(!mi(i))throw i}}}function ms(t){return t&&function(e,r){return t.call(Ut,e,function(n,i){if(!i)return r.apply(this,arguments);i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),r&&r.apply(this,arguments)})}}function gs(t){return t&&function(e){var r=t.call(Ut,e);return r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296),r}}function mi(t){if(!t||t.code==="ENOSYS")return!0;var e=!process.getuid||process.getuid()!==0;return!!(e&&(t.code==="EINVAL"||t.code==="EPERM"))}var Ic=Ss.default.Stream,by=wy;function wy(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);Ic.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var h=o[a];this[h]=i[h]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(l,u){if(l){s.emit("error",l),s.readable=!1;return}s.fd=u,s.emit("open",u),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Ic.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var xe=Me(function(t){var e=[];function r(){}var n=r;qe.default.debuglog?n=qe.default.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(n=function(){var a=qe.default.format.apply(qe.default,arguments);a="GFS4: "+a.split(/\n/).join(`
GFS4: `),console.error(a)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){n(e),B.default.equal(e.length,0)}),t.exports=i(Ut),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(t.exports=i(g.default)),t.exports.close=g.default.close=function(a){return function(c,h){return a.call(g.default,c,function(l){l||o(),typeof h=="function"&&h.apply(this,arguments)})}}(g.default.close),t.exports.closeSync=g.default.closeSync=function(a){return function(c){var h=a.apply(g.default,arguments);return o(),h}}(g.default.closeSync);function i(a){_y(a),a.gracefulify=i,a.FileReadStream=F,a.FileWriteStream=$,a.createReadStream=L,a.createWriteStream=q;var c=a.readFile;a.readFile=h;function h(C,P,D){return typeof P=="function"&&(D=P,P=null),d(C,P,D);function d(_,M,x){return c(_,M,function(V){V&&(V.code==="EMFILE"||V.code==="ENFILE")?s([d,[_,M,x]]):(typeof x=="function"&&x.apply(this,arguments),o())})}}var l=a.writeFile;a.writeFile=u;function u(C,P,D,d){return typeof D=="function"&&(d=D,D=null),_(C,P,D,d);function _(M,x,V,X){return l(M,x,V,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?s([_,[M,x,V,X]]):(typeof X=="function"&&X.apply(this,arguments),o())})}}var f=a.appendFile;f&&(a.appendFile=p);function p(C,P,D,d){return typeof D=="function"&&(d=D,D=null),_(C,P,D,d);function _(M,x,V,X){return f(M,x,V,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?s([_,[M,x,V,X]]):(typeof X=="function"&&X.apply(this,arguments),o())})}}var m=a.readdir;a.readdir=y;function y(C,P,D){var d=[C];return typeof P!="function"?d.push(P):D=P,d.push(_),v(d);function _(M,x){x&&x.sort&&x.sort(),M&&(M.code==="EMFILE"||M.code==="ENFILE")?s([v,[d]]):(typeof D=="function"&&D.apply(this,arguments),o())}}function v(C){return m.apply(a,C)}if(process.version.substr(0,4)==="v0.8"){var S=by(a);F=S.ReadStream,$=S.WriteStream}var w=a.ReadStream;F.prototype=Object.create(w.prototype),F.prototype.open=k;var I=a.WriteStream;$.prototype=Object.create(I.prototype),$.prototype.open=N,a.ReadStream=F,a.WriteStream=$;function F(C,P){return this instanceof F?(w.apply(this,arguments),this):F.apply(Object.create(F.prototype),arguments)}function k(){var C=this;E(C.path,C.flags,C.mode,function(P,D){P?(C.autoClose&&C.destroy(),C.emit("error",P)):(C.fd=D,C.emit("open",D),C.read())})}function $(C,P){return this instanceof $?(I.apply(this,arguments),this):$.apply(Object.create($.prototype),arguments)}function N(){var C=this;E(C.path,C.flags,C.mode,function(P,D){P?(C.destroy(),C.emit("error",P)):(C.fd=D,C.emit("open",D))})}function L(C,P){return new F(C,P)}function q(C,P){return new $(C,P)}var Q=a.open;a.open=E;function E(C,P,D,d){return typeof D=="function"&&(d=D,D=null),_(C,P,D,d);function _(M,x,V,X){return Q(M,x,V,function(U,ye){U&&(U.code==="EMFILE"||U.code==="ENFILE")?s([_,[M,x,V,X]]):(typeof X=="function"&&X.apply(this,arguments),o())})}}return a}function s(a){n("ENQUEUE",a[0].name,a[1]),e.push(a)}function o(){var a=e.shift();a&&(n("RETRY",a[0].name,a[1]),a[0].apply(null,a[1]))}}),ql=parseInt("0777",8),Ry=lr.mkdirp=lr.mkdirP=lr;function lr(t,e,r,n){typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e});var i=e.mode,s=e.fs||g.default;i===void 0&&(i=ql&~process.umask()),n||(n=null);var o=r||function(){};t=b.default.resolve(t),s.mkdir(t,i,function(a){if(!a)return n=n||t,o(null,n);switch(a.code){case"ENOENT":lr(b.default.dirname(t),e,function(c,h){c?o(c,h):lr(t,e,o,h)});break;default:s.stat(t,function(c,h){c||!h.isDirectory()?o(a,n):o(null,n)});break}})}lr.sync=function t(e,r,n){(!r||typeof r!="object")&&(r={mode:r});var i=r.mode,s=r.fs||g.default;i===void 0&&(i=ql&~process.umask()),n||(n=null),e=b.default.resolve(e);try{s.mkdirSync(e,i),n=n||e}catch(a){switch(a.code){case"ENOENT":n=t(b.default.dirname(e),r,n),t(e,r,n);break;default:var o;try{o=s.statSync(e)}catch{throw a}if(!o.isDirectory())throw a;break}}return n};var gt=process.platform==="win32",Ay=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Oy(){var t;if(Ay){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function Cy(t){return typeof t=="function"?t:Oy()}b.default.normalize;gt?et=/(.*?)(?:[\/\\]+|$)/g:et=/(.*?)(?:[\/]+|$)/g;var et;gt?cn=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:cn=/^[\/]*/;var cn,Ty=function(e,r){if(e=b.default.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,a,c,h;l();function l(){var v=cn.exec(e);o=v[0].length,a=v[0],c=v[0],h="",gt&&!s[c]&&(g.default.lstatSync(c),s[c]=!0)}for(;o<e.length;){et.lastIndex=o;var u=et.exec(e);if(h=a,a+=u[0],c=h+u[1],o=et.lastIndex,!(s[c]||r&&r[c]===c)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,c))f=r[c];else{var p=g.default.lstatSync(c);if(!p.isSymbolicLink()){s[c]=!0,r&&(r[c]=c);continue}var m=null;if(!gt){var y=p.dev.toString(32)+":"+p.ino.toString(32);i.hasOwnProperty(y)&&(m=i[y])}m===null&&(g.default.statSync(c),m=g.default.readlinkSync(c)),f=b.default.resolve(h,m),r&&(r[c]=f),gt||(i[y]=m)}e=b.default.resolve(f,e.slice(o)),l()}}return r&&(r[n]=e),e},Py=function(e,r,n){if(typeof n!="function"&&(n=Cy(r),r=null),e=b.default.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},a,c,h,l;u();function u(){var v=cn.exec(e);a=v[0].length,c=v[0],h=v[0],l="",gt&&!o[h]?g.default.lstat(h,function(S){if(S)return n(S);o[h]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return r&&(r[i]=e),n(null,e);et.lastIndex=a;var v=et.exec(e);return l=c,c+=v[0],h=l+v[1],a=et.lastIndex,o[h]||r&&r[h]===h?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,h)?y(r[h]):g.default.lstat(h,p)}function p(v,S){if(v)return n(v);if(!S.isSymbolicLink())return o[h]=!0,r&&(r[h]=h),process.nextTick(f);if(!gt){var w=S.dev.toString(32)+":"+S.ino.toString(32);if(s.hasOwnProperty(w))return m(null,s[w],h)}g.default.stat(h,function(I){if(I)return n(I);g.default.readlink(h,function(F,k){gt||(s[w]=k),m(F,k)})})}function m(v,S,w){if(v)return n(v);var I=b.default.resolve(l,S);r&&(r[w]=I),y(I)}function y(v){e=b.default.resolve(v,e.slice(a)),u()}},jl={realpathSync:Ty,realpath:Py},Ul=_t;_t.realpath=_t;_t.sync=_o;_t.realpathSync=_o;_t.monkeypatch=ky;_t.unmonkeypatch=Ly;var Xs=g.default.realpath,Qs=g.default.realpathSync,xy=process.version,Gl=/^v[0-5]\./.test(xy);function zl(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function _t(t,e,r){if(Gl)return Xs(t,e,r);typeof e=="function"&&(r=e,e=null),Xs(t,e,function(n,i){zl(n)?jl.realpath(t,e,r):r(n,i)})}function _o(t,e){if(Gl)return Qs(t,e);try{return Qs(t,e)}catch(r){if(zl(r))return jl.realpathSync(t,e);throw r}}function ky(){g.default.realpath=_t,g.default.realpathSync=_o}function Ly(){g.default.realpath=Xs,g.default.realpathSync=Qs}var Ny=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);Dy(i)?r.push.apply(r,i):r.push(i)}return r},Dy=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},Wl=Yl;function Yl(t,e,r){t instanceof RegExp&&(t=Fc(t,r)),e instanceof RegExp&&(e=Fc(e,r));var n=Vl(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function Fc(t,e){var r=e.match(t);return r?r[0]:null}Yl.range=Vl;function Vl(t,e,r){var n,i,s,o,a,c=r.indexOf(t),h=r.indexOf(e,c+1),l=c;if(c>=0&&h>0){for(n=[],s=r.length;l>=0&&!a;)l==c?(n.push(l),c=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),h]:(i=n.pop(),i<s&&(s=i,o=h),h=r.indexOf(e,l+1)),l=c<h&&c>=0?c:h;n.length&&(a=[s,o])}return a}var Iy=$y,Kl="\0SLASH"+Math.random()+"\0",Zl="\0OPEN"+Math.random()+"\0",vo="\0CLOSE"+Math.random()+"\0",Xl="\0COMMA"+Math.random()+"\0",Ql="\0PERIOD"+Math.random()+"\0";function ys(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function Fy(t){return t.split("\\\\").join(Kl).split("\\{").join(Zl).split("\\}").join(vo).split("\\,").join(Xl).split("\\.").join(Ql)}function My(t){return t.split(Kl).join("\\").split(Zl).join("{").split(vo).join("}").split(Xl).join(",").split(Ql).join(".")}function Jl(t){if(!t)return[""];var e=[],r=Wl("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=Jl(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function $y(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),sr(Fy(t),!0).map(My)):[]}function By(t){return"{"+t+"}"}function Hy(t){return/^-?0\d/.test(t)}function qy(t,e){return t<=e}function jy(t,e){return t>=e}function sr(t,e){var r=[],n=Wl("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+vo+n.post,sr(t)):[t];var c;if(o)c=n.body.split(/\.\./);else if(c=Jl(n.body),c.length===1&&(c=sr(c[0],!1).map(By),c.length===1)){var l=n.post.length?sr(n.post,!1):[""];return l.map(function(E){return n.pre+c[0]+E})}var h=n.pre,l=n.post.length?sr(n.post,!1):[""],u;if(o){var f=ys(c[0]),p=ys(c[1]),m=Math.max(c[0].length,c[1].length),y=c.length==3?Math.abs(ys(c[2])):1,v=qy,S=p<f;S&&(y*=-1,v=jy);var w=c.some(Hy);u=[];for(var I=f;v(I,p);I+=y){var F;if(s)F=String.fromCharCode(I),F==="\\"&&(F="");else if(F=String(I),w){var k=m-F.length;if(k>0){var $=new Array(k+1).join("0");I<0?F="-"+$+F.slice(1):F=$+F}}u.push(F)}}else u=Ny(c,function(Q){return sr(Q,!1)});for(var N=0;N<u.length;N++)for(var L=0;L<l.length;L++){var q=h+u[N]+l[L];(!e||o||q)&&r.push(q)}return r}var Eo=ke;ke.Minimatch=ce;var en={sep:"/"};try{en=b.default}catch{}var So=ke.GLOBSTAR=ce.GLOBSTAR={},Mc={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Js="[^/]",eo=Js+"*?",Uy="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Gy="(?:(?!(?:\\/|^)\\.).)*?",$c=zy("().*{}+?[]^$\\!");function zy(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var eu=/\/+/;ke.filter=Wy;function Wy(t,e){return e=e||{},function(r,n,i){return ke(r,t,e)}}function Bc(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}ke.defaults=function(t){if(!t||!Object.keys(t).length)return ke;var e=ke,r=function(i,s,o){return e.minimatch(i,s,Bc(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,Bc(t,s))},r};ce.defaults=function(t){return!t||!Object.keys(t).length?ce:ke.defaults(t).Minimatch};function ke(t,e,r){if(typeof e!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:e.trim()===""?t==="":new ce(e,r).match(t)}function ce(t,e){if(!(this instanceof ce))return new ce(t,e);if(typeof t!="string")throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),en.sep!=="/"&&(t=t.split(en.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}ce.prototype.debug=function(){};ce.prototype.make=Yy;function Yy(){if(!this._made){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(eu)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}ce.prototype.parseNegate=Vy;function Vy(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}ke.braceExpand=function(t,e){return tu(t,e)};ce.prototype.braceExpand=tu;function tu(t,e){if(e||(this instanceof ce?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,typeof t>"u")throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:Iy(t)}ce.prototype.parse=Ky;var In={};function Ky(t,e){if(t.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&t==="**")return So;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],c,h=!1,l=-1,u=-1,f=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function m(){if(c){switch(c){case"*":n+=eo,i=!0;break;case"?":n+=Js,i=!0;break;default:n+="\\"+c;break}p.debug("clearStateChar %j %j",c,n),c=!1}}for(var y=0,v=t.length,S;y<v&&(S=t.charAt(y));y++){if(this.debug("%s	%s %s %j",t,y,n,S),s&&$c[S]){n+="\\"+S,s=!1;continue}switch(S){case"/":return!1;case"\\":m(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,y,n,S),h){this.debug("  in class"),S==="!"&&y===u+1&&(S="^"),n+=S;continue}p.debug("call clearStateChar %j",c),m(),c=S,r.noext&&m();continue;case"(":if(h){n+="(";continue}if(!c){n+="\\(";continue}o.push({type:c,start:y-1,reStart:n.length,open:Mc[c].open,close:Mc[c].close}),n+=c==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",c,n),c=!1;continue;case")":if(h||!o.length){n+="\\)";continue}m(),i=!0;var w=o.pop();n+=w.close,w.type==="!"&&a.push(w),w.reEnd=n.length;continue;case"|":if(h||!o.length||s){n+="\\|",s=!1;continue}m(),n+="|";continue;case"[":if(m(),h){n+="\\"+S;continue}h=!0,u=y,l=n.length,n+=S;continue;case"]":if(y===u+1||!h){n+="\\"+S,s=!1;continue}if(h){var I=t.substring(u+1,y);try{RegExp("["+I+"]")}catch{var F=this.parse(I,In);n=n.substr(0,l)+"\\["+F[0]+"\\]",i=i||F[1],h=!1;continue}}i=!0,h=!1,n+=S;continue;default:m(),s?s=!1:$c[S]&&!(S==="^"&&h)&&(n+="\\"),n+=S}}for(h&&(I=t.substr(u+1),F=this.parse(I,In),n=n.substr(0,l)+"\\["+F[0],i=i||F[1]),w=o.pop();w;w=o.pop()){var k=n.slice(w.reStart+w.open.length);this.debug("setting tail",n,w),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(X,U,ye){return ye||(ye="\\"),U+U+ye+"|"}),this.debug(`tail=%j
   %s`,k,k,w,n);var $=w.type==="*"?eo:w.type==="?"?Js:"\\"+w.type;i=!0,n=n.slice(0,w.reStart)+$+"\\("+k}m(),s&&(n+="\\\\");var N=!1;switch(n.charAt(0)){case".":case"[":case"(":N=!0}for(var L=a.length-1;L>-1;L--){var q=a[L],Q=n.slice(0,q.reStart),E=n.slice(q.reStart,q.reEnd-8),C=n.slice(q.reEnd-8,q.reEnd),P=n.slice(q.reEnd);C+=P;var D=Q.split("(").length-1,d=P;for(y=0;y<D;y++)d=d.replace(/\)[+*?]?/,"");P=d;var _="";P===""&&e!==In&&(_="$");var M=Q+E+P+_+C;n=M}if(n!==""&&i&&(n="(?=.)"+n),N&&(n=f+n),e===In)return[n,i];if(!i)return Qy(t);var x=r.nocase?"i":"";try{var V=new RegExp("^"+n+"$",x)}catch{return new RegExp("$.")}return V._glob=t,V._src=n,V}ke.makeRe=function(t,e){return new ce(t,e||{}).makeRe()};ce.prototype.makeRe=Zy;function Zy(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?eo:e.dot?Uy:Gy,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===So?r:typeof o=="string"?Jy(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}ke.match=function(t,e,r){r=r||{};var n=new ce(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};ce.prototype.match=Xy;function Xy(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;var r=this.options;en.sep!=="/"&&(t=t.split(en.sep).join("/")),t=t.split(eu),this.debug(this.pattern,"split",t);var n=this.set;this.debug(this.pattern,"set",n);var i,s;for(s=t.length-1;s>=0&&(i=t[s],!i);s--);for(s=0;s<n.length;s++){var o=n[s],a=t;r.matchBase&&o.length===1&&(a=[i]);var c=this.matchOne(a,o,e);if(c)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}ce.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var c=e[s],h=t[i];if(this.debug(e,c,h),c===!1)return!1;if(c===So){this.debug("GLOBSTAR",[e,c,h]);var l=i,u=s+1;if(u===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;l<o;){var f=t[l];if(this.debug(`
globstar while`,t,l,e,u,f),this.matchOne(t.slice(l),e.slice(u),r))return this.debug("globstar found match!",l,o,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",t,l,e,u);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,u),l===o))}var p;if(typeof c=="string"?(n.nocase?p=h.toLowerCase()===c.toLowerCase():p=h===c,this.debug("string match",c,h,p)):(p=h.match(c),this.debug("pattern match",c,h,p)),!p)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a){var m=i===o-1&&t[i]==="";return m}throw new Error("wtf?")};function Qy(t){return t.replace(/\\(.)/g,"$1")}function Jy(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var e_=Me(function(t){typeof Object.create=="function"?t.exports=function(r,n){r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(r,n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}),t_=Me(function(t){try{var e=qe.default;if(typeof e.inherits!="function")throw"";t.exports=e.inherits}catch{t.exports=e_}});function ru(t){return t.charAt(0)==="/"}function nu(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}var Re=process.platform==="win32"?nu:ru,r_=ru,n_=nu;Re.posix=r_;Re.win32=n_;var i_=ou,s_=su,o_=m_,a_=iu,c_=tn,l_=g_,u_=y_,h_=au,f_=__;function iu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var to=Eo.Minimatch;function su(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function ou(t,e){return t.localeCompare(e)}function d_(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(p_))}function p_(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new to(r,{dot:!0})}return{matcher:new to(t,{dot:!0}),gmatcher:e}}function m_(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),d_(t,r),t.changedCwd=!1;var n=process.cwd();iu(r,"cwd")?(t.cwd=b.default.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||b.default.resolve(t.cwd,"/"),t.root=b.default.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=Re(t.cwd)?t.cwd:tn(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new to(e,r),t.options=t.minimatch.options}function g_(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(c){r[c]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(t.nocase?su:ou)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(c){var h=!/\/$/.test(c),l=t.cache[c]||t.cache[tn(t,c)];return h&&l&&(h=l!=="DIR"&&!Array.isArray(l)),h}))}t.ignore.length&&(r=r.filter(function(c){return!au(t,c)})),t.found=r}function y_(t,e){var r=tn(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=tn(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function tn(t,e){var r=e;return e.charAt(0)==="/"?r=b.default.join(t.root,e):Re(e)||e===""?r=e:t.changedCwd?r=b.default.resolve(t.cwd,e):r=b.default.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function au(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function __(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}var Ee={alphasort:i_,alphasorti:s_,setopts:o_,ownProp:a_,makeAbs:c_,finish:l_,mark:u_,isIgnored:h_,childrenIgnored:f_},bo=cu;cu.GlobSync=oe;var v_=Ee.setopts,ro=Ee.ownProp,E_=Ee.childrenIgnored,S_=Ee.isIgnored;function cu(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new oe(t,e).found}function oe(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof oe))return new oe(t,e);if(v_(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}oe.prototype._finish=function(){if(B.default(this instanceof oe),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=Ul.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}Ee.finish(this)};oe.prototype._process=function(t,e,r){B.default(this instanceof oe);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((Re(i)||Re(t.join("/")))&&(!i||!Re(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!E_(this,o)){var c=s[0]===Eo.GLOBSTAR;c?this._processGlobStar(i,o,a,s,e,r):this._processReaddir(i,o,a,s,e,r)}};oe.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){for(var a=n[0],c=!!this.minimatch.negate,h=a._glob,l=this.dot||h.charAt(0)===".",u=[],f=0;f<o.length;f++){var p=o[f];if(p.charAt(0)!=="."||l){var m;c&&!t?m=!p.match(a):m=p.match(a),m&&u.push(p)}}var y=u.length;if(y!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<y;f++){var p=u[f];t&&(t.slice(-1)!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=b.default.join(this.root,p)),this._emitMatch(i,p)}return}n.shift();for(var f=0;f<y;f++){var p=u[f],v;t?v=[t,p]:v=[p],this._process(v.concat(n),i,s)}}}};oe.prototype._emitMatch=function(t,e){if(!S_(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};oe.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r;try{r=g.default.lstatSync(t)}catch(i){if(i.code==="ENOENT")return null}var n=r&&r.isSymbolicLink();return this.symlinks[t]=n,!n&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};oe.prototype._readdir=function(t,e){if(e&&!ro(this.symlinks,t))return this._readdirInGlobStar(t);if(ro(this.cache,t)){var r=this.cache[t];if(!r||r==="FILE")return null;if(Array.isArray(r))return r}try{return this._readdirEntries(t,g.default.readdirSync(t))}catch(n){return this._readdirError(t,n),null}};oe.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};oe.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};oe.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){var a=n.slice(1),c=t?[t]:[],h=c.concat(a);this._process(h,i,!1);var l=o.length,u=this.symlinks[r];if(!(u&&s))for(var f=0;f<l;f++){var p=o[f];if(!(p.charAt(0)==="."&&!this.dot)){var m=c.concat(o[f],a);this._process(m,i,!0);var y=c.concat(o[f],n);this._process(y,i,!0)}}}};oe.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Re(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=b.default.join(this.root,t):(t=b.default.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};oe.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&ro(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n=this.statCache[e];if(!n){var i;try{i=g.default.lstatSync(e)}catch(o){if(o&&(o.code==="ENOENT"||o.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(i&&i.isSymbolicLink())try{n=g.default.statSync(e)}catch{n=i}else n=i}this.statCache[e]=n;var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};oe.prototype._mark=function(t){return Ee.mark(this,t)};oe.prototype._makeAbs=function(t){return Ee.makeAbs(this,t)};var wo=lu;function lu(t,e){if(t&&e)return lu(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}var Ro=wo(Vn),b_=wo(uu);Vn.proto=Vn(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Vn(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return uu(this)},configurable:!0})});function Vn(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function uu(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}Ro.strict=b_;var Kr=Object.create(null),Ao=wo(w_);function w_(t,e){return Kr[t]?(Kr[t].push(e),null):(Kr[t]=[e],R_(t))}function R_(t){return Ro(function e(){var r=Kr[t],n=r.length,i=A_(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete Kr[t]}})}function A_(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}var O_=Bt,C_=gr.default.EventEmitter,T_=Ee.setopts,no=Ee.ownProp,P_=Ee.childrenIgnored,x_=Ee.isIgnored;function Bt(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return bo(t,e)}return new K(t,e,r)}Bt.sync=bo;var k_=Bt.GlobSync=bo.GlobSync;Bt.glob=Bt;function L_(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}Bt.hasMagic=function(t,e){var r=L_({},e);r.noprocess=!0;var n=new K(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};Bt.Glob=K;t_(K,C_);function K(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new k_(t,e)}if(!(this instanceof K))return new K(t,e,r);T_(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Ro(r),this.on("error",r),this.on("end",function(c){r(null,c)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}K.prototype._finish=function(){if(B.default(this instanceof K),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Ee.finish(this),this.emit("end",this.found)}};K.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};K.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(a,c){a=i._makeAbs(a),Ul.realpath(a,i.realpathCache,function(h,l){h?h.syscall==="stat"?o[a]=!0:i.emit("error",h):o[l]=!0,--s===0&&(i.matches[t]=o,e())})})};K.prototype._mark=function(t){return Ee.mark(this,t)};K.prototype._makeAbs=function(t){return Ee.makeAbs(this,t)};K.prototype.abort=function(){this.aborted=!0,this.emit("abort")};K.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};K.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};K.prototype._process=function(t,e,r,n){if(B.default(this instanceof K),B.default(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),a;s===null?a=".":((Re(s)||Re(t.join("/")))&&(!s||!Re(s))&&(s="/"+s),a=s);var c=this._makeAbs(a);if(P_(this,a))return n();var h=o[0]===Eo.GLOBSTAR;h?this._processGlobStar(s,a,c,o,e,r,n):this._processReaddir(s,a,c,o,e,r,n)}};K.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(c,h){return a._processReaddir2(t,e,r,n,i,s,h,o)})};K.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();for(var c=n[0],h=!!this.minimatch.negate,l=c._glob,u=this.dot||l.charAt(0)===".",f=[],p=0;p<o.length;p++){var m=o[p];if(m.charAt(0)!=="."||u){var y;h&&!t?y=!m.match(c):y=m.match(c),y&&f.push(m)}}var v=f.length;if(v===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<v;p++){var m=f[p];t&&(t!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=b.default.join(this.root,m)),this._emitMatch(i,m)}return a()}n.shift();for(var p=0;p<v;p++){var m=f[p];t&&(t!=="/"?m=t+"/"+m:m=t+m),this._process([m].concat(n),i,s,a)}a()};K.prototype._emitMatch=function(t,e){if(!this.aborted&&!x_(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Re(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};K.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=Ao(r,s);i&&g.default.lstat(t,i);function s(o,a){if(o&&o.code==="ENOENT")return e();var c=a&&a.isSymbolicLink();n.symlinks[t]=c,!c&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};K.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=Ao("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!no(this.symlinks,t))return this._readdirInGlobStar(t,r);if(no(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}g.default.readdir(t,N_(this,t,r))}};function N_(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}K.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};K.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};K.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(c,h){a._processGlobStar2(t,e,r,n,i,s,h,o)})};K.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var c=n.slice(1),h=t?[t]:[],l=h.concat(c);this._process(l,i,!1,a);var u=this.symlinks[r],f=o.length;if(u&&s)return a();for(var p=0;p<f;p++){var m=o[p];if(!(m.charAt(0)==="."&&!this.dot)){var y=h.concat(o[p],c);this._process(y,i,!0,a);var v=h.concat(o[p],n);this._process(v,i,!0,a)}}a()};K.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};K.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&Re(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=b.default.join(this.root,t):(t=b.default.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};K.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&no(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var o=s.isDirectory()?"DIR":"FILE";return n&&o==="FILE"?e():e(null,o,s)}var a=this,c=Ao("stat\0"+r,h);c&&g.default.lstat(r,c);function h(l,u){if(u&&u.isSymbolicLink())return g.default.stat(r,function(f,p){f?a._stat2(t,r,null,u,e):a._stat2(t,r,f,p,e)});a._stat2(t,r,l,u,e)}};K.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)};var D_=Oo;Oo.sync=du;var fr=void 0;try{fr=O_}catch{}var hu=parseInt("666",8),I_={nosort:!0,silent:!0},_s=0,rn=process.platform==="win32";function fu(t){var e=["unlink","chmod","stat","lstat","rmdir","readdir"];if(e.forEach(function(r){t[r]=t[r]||g.default[r],r=r+"Sync",t[r]=t[r]||g.default[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&fr===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||I_}function Oo(t,e,r){typeof e=="function"&&(r=e,e={}),B.default(t,"rimraf: missing path"),B.default.equal(typeof t,"string","rimraf: path should be a string"),B.default.equal(typeof r,"function","rimraf: callback function required"),B.default(e,"rimraf: invalid options argument provided"),B.default.equal(typeof e,"object","rimraf: options should be object"),fu(e);var n=0,i=null,s=0;if(e.disableGlob||!fr.hasMagic(t))return a(null,[t]);e.lstat(t,function(c,h){if(!c)return a(null,[t]);fr(t,e.glob,a)});function o(c){i=i||c,--s===0&&r(i)}function a(c,h){if(c)return r(c);if(s=h.length,s===0)return r();h.forEach(function(l){vs(l,e,function u(f){if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&n<e.maxBusyTries){n++;var p=n*100;return setTimeout(function(){vs(l,e,u)},p)}if(f.code==="EMFILE"&&_s<e.emfileWait)return setTimeout(function(){vs(l,e,u)},_s++);f.code==="ENOENT"&&(f=null)}_s=0,o(f)})})}}function vs(t,e,r){B.default(t),B.default(e),B.default(typeof r=="function"),e.lstat(t,function(n,i){if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&rn&&Hc(t,e,n,r),i&&i.isDirectory())return Kn(t,e,n,r);e.unlink(t,function(s){if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return rn?Hc(t,e,s,r):Kn(t,e,s,r);if(s.code==="EISDIR")return Kn(t,e,s,r)}return r(s)})})}function Hc(t,e,r,n){B.default(t),B.default(e),B.default(typeof n=="function"),r&&B.default(r instanceof Error),e.chmod(t,hu,function(i){i?n(i.code==="ENOENT"?null:r):e.stat(t,function(s,o){s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Kn(t,e,r,n):e.unlink(t,n)})})}function qc(t,e,r){B.default(t),B.default(e),r&&B.default(r instanceof Error);try{e.chmodSync(t,hu)}catch(i){if(i.code==="ENOENT")return;throw r}try{var n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Zn(t,e,r):e.unlinkSync(t)}function Kn(t,e,r,n){B.default(t),B.default(e),r&&B.default(r instanceof Error),B.default(typeof n=="function"),e.rmdir(t,function(i){i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?F_(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function F_(t,e,r){B.default(t),B.default(e),B.default(typeof r=="function"),e.readdir(t,function(n,i){if(n)return r(n);var s=i.length;if(s===0)return e.rmdir(t,r);var o;i.forEach(function(a){Oo(b.default.join(t,a),e,function(c){if(!o){if(c)return r(o=c);--s===0&&e.rmdir(t,r)}})})})}function du(t,e){e=e||{},fu(e),B.default(t,"rimraf: missing path"),B.default.equal(typeof t,"string","rimraf: path should be a string"),B.default(e,"rimraf: missing options"),B.default.equal(typeof e,"object","rimraf: options should be object");var r;if(e.disableGlob||!fr.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=fr.sync(t,e.glob)}if(!!r.length)for(var n=0;n<r.length;n++){var t=r[n];try{var i=e.lstatSync(t)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&rn&&qc(t,e,o)}try{i&&i.isDirectory()?Zn(t,e,null):e.unlinkSync(t)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return rn?qc(t,e,o):Zn(t,e,o);if(o.code!=="EISDIR")throw o;Zn(t,e,o)}}}function Zn(t,e,r){B.default(t),B.default(e),r&&B.default(r instanceof Error);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&M_(t,e)}}function M_(t,e){B.default(t),B.default(e),e.readdirSync(t).forEach(function(o){du(b.default.join(t,o),e)});var r=rn?100:1,n=0;do{var i=!0;try{var s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)}function pu(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var $_=pu(Ry),B_=pu(D_);function H_(t){return b.default.resolve.apply(null,t)}function jc(t){var e,r;if(typeof t[t.length-1]=="object"){e=t[t.length-1];var n=t.length-1;for(r=new Array(n);n--;)r[n]=t[n]}else e={},r=t;var i=b.default.resolve.apply(null,r);return{options:e,resolvedPath:i}}function q_(){var t=jc(arguments),e=t.resolvedPath,r=t.options;return{to:function(){var i=jc(arguments),s=i.resolvedPath,o=i.options;function a(c,h){$_.sync(h),xe.readdirSync(c).forEach(function(l){var u=c+b.default.sep+l,f=h+b.default.sep+l;if(xe.statSync(u).isDirectory())return a(u,f);var p=xe.readFileSync(u,r);xe.writeFileSync(f,p,o)})}a(e,s)}}}function j_(){B_.sync(H_(arguments))}process.platform;xe.closeSync;xe.fchmodSync;xe.fchownSync;xe.fstatSync;xe.fsyncSync;xe.ftruncateSync;xe.futimesSync;xe.readSync;var mu=q_,nn=j_,U_=ws.default.homedir()||ws.default.tmpdir(),dr=1e3,pr=dr*60,mr=pr*60,Ht=mr*24,G_=Ht*7,z_=Ht*365.25,W_=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Y_(t);if(r==="number"&&isFinite(t))return e.long?K_(t):V_(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Y_(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*z_;case"weeks":case"week":case"w":return r*G_;case"days":case"day":case"d":return r*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return r*mr;case"minutes":case"minute":case"mins":case"min":case"m":return r*pr;case"seconds":case"second":case"secs":case"sec":case"s":return r*dr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function V_(t){var e=Math.abs(t);return e>=Ht?Math.round(t/Ht)+"d":e>=mr?Math.round(t/mr)+"h":e>=pr?Math.round(t/pr)+"m":e>=dr?Math.round(t/dr)+"s":t+"ms"}function K_(t){var e=Math.abs(t);return e>=Ht?Fn(t,e,Ht,"day"):e>=mr?Fn(t,e,mr,"hour"):e>=pr?Fn(t,e,pr,"minute"):e>=dr?Fn(t,e,dr,"second"):t+" ms"}function Fn(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}function Z_(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=W_,r.destroy=h,Object.keys(t).forEach(l=>{r[l]=t[l]}),r.names=[],r.skips=[],r.formatters={};function e(l){let u=0;for(let f=0;f<l.length;f++)u=(u<<5)-u+l.charCodeAt(f),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=e;function r(l){let u,f=null;function p(...m){if(!p.enabled)return;let y=p,v=Number(new Date),S=v-(u||v);y.diff=S,y.prev=u,y.curr=v,u=v,m[0]=r.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");let w=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,(F,k)=>{if(F==="%%")return"%";w++;let $=r.formatters[k];if(typeof $=="function"){let N=m[w];F=$.call(y,N),m.splice(w,1),w--}return F}),r.formatArgs.call(y,m),(y.log||r.log).apply(y,m)}return p.namespace=l,p.useColors=r.useColors(),p.color=r.selectColor(l),p.extend=n,p.destroy=r.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f===null?r.enabled(l):f,set:m=>{f=m}}),typeof r.init=="function"&&r.init(p),p}function n(l,u){let f=r(this.namespace+(typeof u>"u"?":":u)+l);return f.log=this.log,f}function i(l){r.save(l),r.names=[],r.skips=[];let u,f=(typeof l=="string"?l:"").split(/[\s,]+/),p=f.length;for(u=0;u<p;u++)!f[u]||(l=f[u].replace(/\*/g,".*?"),l[0]==="-"?r.skips.push(new RegExp("^"+l.substr(1)+"$")):r.names.push(new RegExp("^"+l+"$")))}function s(){let l=[...r.names.map(a),...r.skips.map(a).map(u=>"-"+u)].join(",");return r.enable(""),l}function o(l){if(l[l.length-1]==="*")return!0;let u,f;for(u=0,f=r.skips.length;u<f;u++)if(r.skips[u].test(l))return!1;for(u=0,f=r.names.length;u<f;u++)if(r.names[u].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function c(l){return l instanceof Error?l.stack||l.message:l}function h(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var gu=Z_,X_=Me(function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=o(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;let h="color: "+this.color;c.splice(1,0,h,"color: inherit");let l=0,u=0;c[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(l++,f==="%c"&&(u=l))}),c.splice(u,0,h)}e.log=console.debug||console.log||(()=>{});function i(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c=process.env.DEBUG),c}function o(){try{return localStorage}catch{}}t.exports=gu(e);let{formatters:a}=t.exports;a.j=function(c){try{return JSON.stringify(c)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}}),Q_=Me(function(t,e){e.init=c,e.log=s,e.formatArgs=n,e.save=o,e.load=a,e.useColors=r,e.destroy=qe.default.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{let l=Dl;l&&(l.stderr||l).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(l=>/^debug_/i.test(l)).reduce((l,u)=>{let f=u.substring(6).toLowerCase().replace(/_([a-z])/g,(m,y)=>y.toUpperCase()),p=process.env[u];return/^(yes|on|true|enabled)$/i.test(p)?p=!0:/^(no|off|false|disabled)$/i.test(p)?p=!1:p==="null"?p=null:p=Number(p),l[f]=p,l},{});function r(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):Rs.default.isatty(process.stderr.fd)}function n(l){let{namespace:u,useColors:f}=this;if(f){let p=this.color,m="\x1B[3"+(p<8?p:"8;5;"+p),y=`  ${m};1m${u} \x1B[0m`;l[0]=y+l[0].split(`
`).join(`
`+y),l.push(m+"m+"+t.exports.humanize(this.diff)+"\x1B[0m")}else l[0]=i()+u+" "+l[0]}function i(){return e.inspectOpts.hideDate?"":new Date().toISOString()+" "}function s(...l){return process.stderr.write(qe.default.format(...l)+`
`)}function o(l){l?process.env.DEBUG=l:delete process.env.DEBUG}function a(){return process.env.DEBUG}function c(l){l.inspectOpts={};let u=Object.keys(e.inspectOpts);for(let f=0;f<u.length;f++)l.inspectOpts[u[f]]=e.inspectOpts[u[f]]}t.exports=gu(e);let{formatters:h}=t.exports;h.o=function(l){return this.inspectOpts.colors=this.useColors,qe.default.inspect(l,this.inspectOpts).split(`
`).map(u=>u.trim()).join(" ")},h.O=function(l){return this.inspectOpts.colors=this.useColors,qe.default.inspect(l,this.inspectOpts)}}),Co=Me(function(t){typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?t.exports=X_:t.exports=Q_});function J_(t){return function(e,r){return new Promise((n,i)=>{t.call(this,e,r,(s,o)=>{s?i(s):n(o)})})}}var e0=J_,t0=Object.defineProperty({default:e0},"__esModule",{value:!0}),yu=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r0=yu(Co),n0=yu(t0),Ur=r0.default("agent-base");function i0(t){return Boolean(t)&&typeof t.addRequest=="function"}function Es(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function ni(t,e){return new ni.Agent(t,e)}(function(t){class e extends gr.default.EventEmitter{constructor(n,i){super();let s=i;typeof n=="function"?this.callback=n:n&&(s=n),this.timeout=null,s&&typeof s.timeout=="number"&&(this.timeout=s.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Es()?443:80}set defaultPort(n){this.explicitDefaultPort=n}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Es()?"https:":"http:"}set protocol(n){this.explicitProtocol=n}callback(n,i,s){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(n,i){let s=Object.assign({},i);typeof s.secureEndpoint!="boolean"&&(s.secureEndpoint=Es()),s.host==null&&(s.host="localhost"),s.port==null&&(s.port=s.secureEndpoint?443:80),s.protocol==null&&(s.protocol=s.secureEndpoint?"https:":"http:"),s.host&&s.path&&delete s.path,delete s.agent,delete s.hostname,delete s._defaultAgent,delete s.defaultPort,delete s.createConnection,n._last=!0,n.shouldKeepAlive=!1;let o=!1,a=null,c=s.timeout||this.timeout,h=p=>{n._hadError||(n.emit("error",p),n._hadError=!0)},l=()=>{a=null,o=!0;let p=new Error(`A "socket" was not created for HTTP request before ${c}ms`);p.code="ETIMEOUT",h(p)},u=p=>{o||(a!==null&&(clearTimeout(a),a=null),h(p))},f=p=>{if(o)return;if(a!=null&&(clearTimeout(a),a=null),i0(p)){Ur("Callback returned another Agent instance %o",p.constructor.name),p.addRequest(n,s);return}if(p){p.once("free",()=>{this.freeSocket(p,s)}),n.onSocket(p);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${n.method} ${n.path}\``);h(m)};if(typeof this.callback!="function"){h(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(Ur("Converting legacy callback function to promise"),this.promisifiedCallback=n0.default(this.callback)):this.promisifiedCallback=this.callback),typeof c=="number"&&c>0&&(a=setTimeout(l,c)),"port"in s&&typeof s.port!="number"&&(s.port=Number(s.port));try{Ur("Resolving socket for %o request: %o",s.protocol,`${n.method} ${n.path}`),Promise.resolve(this.promisifiedCallback(n,s)).then(f,u)}catch(p){Promise.reject(p).catch(u)}}freeSocket(n,i){Ur("Freeing socket %o %o",n.constructor.name,i),n.destroy()}destroy(){Ur("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(ni||(ni={}));var s0=ni,o0=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},a0=o0(Co),Gr=a0.default("https-proxy-agent:parse-proxy-response");function c0(t){return new Promise((e,r)=>{let n=0,i=[];function s(){let u=t.read();u?l(u):t.once("readable",s)}function o(){t.removeListener("end",c),t.removeListener("error",h),t.removeListener("close",a),t.removeListener("readable",s)}function a(u){Gr("onclose had error %o",u)}function c(){Gr("onend")}function h(u){o(),Gr("onerror %o",u),r(u)}function l(u){i.push(u),n+=u.length;let f=Buffer.concat(i,n);if(f.indexOf(`\r
\r
`)===-1){Gr("have not received end of HTTP headers yet..."),s();return}let m=f.toString("ascii",0,f.indexOf(`\r
`)),y=+m.split(" ")[1];Gr("got proxy server response: %o",m),e({statusCode:y,buffered:f})}t.on("error",h),t.on("close",a),t.on("end",c),s()})}var l0=c0,u0=Object.defineProperty({default:l0},"__esModule",{value:!0}),h0=Le&&Le.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(l){try{h(n.next(l))}catch(u){o(u)}}function c(l){try{h(n.throw(l))}catch(u){o(u)}}function h(l){l.done?s(l.value):i(l.value).then(a,c)}h((n=n.apply(t,e||[])).next())})},br=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Uc=br(zp.default),Gc=br(Wp.default),f0=br(Vc.default),d0=br(B.default),p0=br(Co),m0=br(u0),zr=p0.default("https-proxy-agent:agent"),_u=class extends s0.Agent{constructor(e){let r;if(typeof e=="string"?r=f0.default.parse(e):r=e,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");zr("creating new HttpsProxyAgent instance: %o",r);super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||v0(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(e,r){return h0(this,void 0,void 0,function*(){let{proxy:n,secureProxy:i}=this,s;i?(zr("Creating `tls.Socket`: %o",n),s=Gc.default.connect(n)):(zr("Creating `net.Socket`: %o",n),s=Uc.default.connect(n));let o=Object.assign({},n.headers),c=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(o["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:h,port:l,secureEndpoint:u}=r;_0(l,u)||(h+=`:${l}`),o.Host=h,o.Connection="close";for(let v of Object.keys(o))c+=`${v}: ${o[v]}\r
`;let f=m0.default(s);s.write(`${c}\r
`);let{statusCode:p,buffered:m}=yield f;if(p===200){if(e.once("socket",y0),r.secureEndpoint){let v=r.servername||r.host;if(!v)throw new Error('Could not determine "servername"');return zr("Upgrading socket connection to TLS"),Gc.default.connect(Object.assign(Object.assign({},E0(r,"host","hostname","path","port")),{socket:s,servername:v}))}return s}s.destroy();let y=new Uc.default.Socket;return y.readable=!0,e.once("socket",v=>{zr("replaying proxy buffer for failed request"),d0.default(v.listenerCount("data")>0),v.push(m),v.push(null)}),y})}},g0=_u;function y0(t){t.resume()}function _0(t,e){return Boolean(!e&&t===80||e&&t===443)}function v0(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function E0(t,...e){let r={},n;for(n in t)e.includes(n)||(r[n]=t[n]);return r}var S0=Object.defineProperty({default:g0},"__esModule",{value:!0}),b0=Le&&Le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},io=b0(S0);function so(t){return new io.default(t)}(function(t){t.HttpsProxyAgent=io.default,t.prototype=io.default.prototype})(so||(so={}));var w0=so,vu="tmp",R0="degit.json",yt=class extends Error{constructor(e,r){super(e);Object.assign(this,r)}};function ii(t,e){try{return e&&e.clearCache===!0&&delete require.cache[require.resolve(t)],require(t)}catch{return null}}function oo(t){return new Promise((e,r)=>{Gp.default.exec(t,(n,i,s)=>{if(n){r(n);return}e({stdout:i,stderr:s})})})}function si(t){let e=b.default.dirname(t);if(e!==t){si(e);try{g.default.mkdirSync(t)}catch(r){if(r.code!=="EEXIST")throw r}}}function Eu(t,e,r){return new Promise((n,i)=>{let s=t;if(r){let o=Vc.default.parse(t);s={hostname:o.host,path:o.path,agent:new w0(r)}}Up.default.get(s,o=>{let a=o.statusCode;a>=400?i({code:a,message:o.statusMessage}):a>=300?Eu(o.headers.location,e,r).then(n,i):o.pipe(g.default.createWriteStream(e)).on("finish",()=>n()).on("error",i)}).on("error",i)})}function A0(t,e){let r=b.default.join(t,vu);nn(r),si(r),g.default.readdirSync(e).forEach(n=>{let i=b.default.join(e,n),s=b.default.join(r,n);g.default.lstatSync(i).isDirectory()?(mu(i).to(s),nn(i)):(g.default.copyFileSync(i,s),g.default.unlinkSync(i))})}function O0(t,e){let r=b.default.join(t,vu);g.default.readdirSync(r).forEach(n=>{let i=b.default.join(r,n),s=b.default.join(e,n);g.default.lstatSync(i).isDirectory()?(mu(i).to(s),nn(i)):(n!=="degit.json"&&g.default.copyFileSync(i,s),g.default.unlinkSync(i))}),nn(r)}var Su=b.default.join(U_,".degit"),zc=new Set(["tar","git"]);function bu(t,e){return new wu(t,e)}var wu=class extends gr.default{constructor(e,r={}){super();if(this.src=e,this.cache=r.cache,this.force=r.force,this.verbose=r.verbose,this.proxy=process.env.https_proxy,this.repo=C0(e),this.mode=r.mode||this.repo.mode,!zc.has(this.mode))throw new Error(`Valid modes are ${Array.from(zc).join(", ")}`);this._hasStashed=!1,this.directiveActions={clone:async(n,i,s)=>{this._hasStashed===!1&&(A0(n,i),this._hasStashed=!0);let o=Object.assign({force:!0},{cache:s.cache,verbose:s.verbose}),a=bu(s.src,o);a.on("info",c=>{console.error(Xe.cyan(`> ${c.message.replace("options.","--")}`))}),a.on("warn",c=>{console.error(Xe.magenta(`! ${c.message.replace("options.","--")}`))}),await a.clone(i).catch(c=>{console.error(Xe.red(`! ${c.message}`)),process.exit(1)})},remove:this.remove.bind(this)}}_getDirectives(e){let r=b.default.resolve(e,R0),n=ii(r,{clearCache:!0})||!1;return n&&g.default.unlinkSync(r),n}async clone(e){this._checkDirIsEmpty(e);let{repo:r}=this,n=b.default.join(Su,r.site,r.user,r.name);this.mode==="tar"?await this._cloneWithTar(n,e):await this._cloneWithGit(n,e),this._info({code:"SUCCESS",message:`cloned ${Xe.bold(r.user+"/"+r.name)}#${Xe.bold(r.ref)}${e!=="."?` to ${e}`:""}`,repo:r,dest:e});let i=this._getDirectives(e);if(i){for(let s of i)await this.directiveActions[s.action](n,e,s);this._hasStashed===!0&&O0(n,e)}}remove(e,r,n){let i=n.files;Array.isArray(i)||(i=[i]);let s=i.map(o=>{let a=b.default.resolve(r,o);return g.default.existsSync(a)?g.default.lstatSync(a).isDirectory()?(nn(a),o+"/"):(g.default.unlinkSync(a),o):(this._warn({code:"FILE_DOES_NOT_EXIST",message:`action wants to remove ${Xe.bold(o)} but it does not exist`}),null)}).filter(o=>o);s.length>0&&this._info({code:"REMOVED",message:`removed: ${Xe.bold(s.map(o=>Xe.bold(o)).join(", "))}`})}_checkDirIsEmpty(e){try{if(g.default.readdirSync(e).length>0)if(this.force)this._info({code:"DEST_NOT_EMPTY",message:"destination directory is not empty. Using options.force, continuing"});else throw new yt("destination directory is not empty, aborting. Use options.force to override",{code:"DEST_NOT_EMPTY"});else this._verbose({code:"DEST_IS_EMPTY",message:"destination directory is empty"})}catch(r){if(r.code!=="ENOENT")throw r}}_info(e){this.emit("info",e)}_warn(e){this.emit("warn",e)}_verbose(e){this.verbose&&this._info(e)}async _getHash(e,r){try{let n=await P0(e);return e.ref==="HEAD"?n.find(i=>i.type==="HEAD").hash:this._selectRef(n,e.ref)}catch(n){return this._warn(n),this._verbose(n.original),this._getHashFromCache(e,r)}}_getHashFromCache(e,r){if(e.ref in r){let n=r[e.ref];return this._info({code:"USING_CACHE",message:`using cached commit hash ${n}`}),n}}_selectRef(e,r){for(let n of e)if(n.name===r)return this._verbose({code:"FOUND_MATCH",message:`found matching commit hash: ${n.hash}`}),n.hash;if(r.length<8)return null;for(let n of e)if(n.hash.startsWith(r))return n.hash}async _cloneWithTar(e,r){let{repo:n}=this,i=ii(b.default.join(e,"map.json"))||{},s=this.cache?this._getHashFromCache(n,i):await this._getHash(n,i),o=n.subdir?`${n.name}-${s}${n.subdir}`:null;if(!s)throw new yt(`could not find commit hash for ${n.ref}`,{code:"MISSING_REF",ref:n.ref});let a=`${e}/${s}.tar.gz`,c=n.site==="gitlab"?`${n.url}/repository/archive.tar.gz?ref=${s}`:n.site==="bitbucket"?`${n.url}/get/${s}.tar.gz`:`${n.url}/archive/${s}.tar.gz`;try{if(!this.cache)try{g.default.statSync(a),this._verbose({code:"FILE_EXISTS",message:`${a} already exists locally`})}catch{si(b.default.dirname(a)),this.proxy&&this._verbose({code:"PROXY",message:`using proxy ${this.proxy}`}),this._verbose({code:"DOWNLOADING",message:`downloading ${c} to ${a}`}),await Eu(c,a,this.proxy)}}catch(h){throw new yt(`could not download ${c}`,{code:"COULD_NOT_DOWNLOAD",url:c,original:h})}x0(e,n,s,i),this._verbose({code:"EXTRACTING",message:`extracting ${o?n.subdir+" from ":""}${a} to ${r}`}),si(r),await T0(a,r,o)}async _cloneWithGit(e,r){await oo(`git clone ${this.repo.ssh} ${r}`),await oo(`rm -rf ${b.default.resolve(r,".git")}`)}},Wc=new Set(["github","gitlab","bitbucket","git.sr.ht"]);function C0(t){let e=/^(?:(?:https:\/\/)?([^:/]+\.[^:/]+)\/|git@([^:/]+)[:/]|([^/]+):)?([^/\s]+)\/([^/\s#]+)(?:((?:\/[^/\s#]+)+))?(?:\/)?(?:#(.+))?/.exec(t);if(!e)throw new yt(`could not parse ${t}`,{code:"BAD_SRC"});let r=(e[1]||e[2]||e[3]||"github").replace(/\.(com|org)$/,"");if(!Wc.has(r))throw new yt("degit supports GitHub, GitLab, Sourcehut and BitBucket",{code:"UNSUPPORTED_HOST"});let n=e[4],i=e[5].replace(/\.git$/,""),s=e[6],o=e[7]||"HEAD",a=`${r}.${r==="bitbucket"?"org":r==="git.sr.ht"?"":"com"}`,c=`https://${a}/${n}/${i}`,h=`git@${a}:${n}/${i}`,l=Wc.has(r)?"tar":"git";return{site:r,user:n,name:i,ref:o,url:c,ssh:h,subdir:s,mode:l}}async function T0(t,e,r=null){return jg.extract({file:t,strip:r?r.split("/").length:1,C:e},r?[r]:[])}async function P0(t){try{let{stdout:e}=await oo(`git ls-remote ${t.url}`);return e.split(`
`).filter(Boolean).map(r=>{let[n,i]=r.split("	");if(i==="HEAD")return{type:"HEAD",hash:n};let s=/refs\/(\w+)\/(.+)/.exec(i);if(!s)throw new yt(`could not parse ${i}`,{code:"BAD_REF"});return{type:s[1]==="heads"?"branch":s[1]==="refs"?"ref":s[1],name:s[2],hash:n}})}catch(e){throw new yt(`could not fetch remote ${t.url}`,{code:"COULD_NOT_FETCH",url:t.url,original:e})}}function x0(t,e,r,n){let i=ii(b.default.join(t,"access.json"))||{};if(i[e.ref]=new Date().toISOString(),g.default.writeFileSync(b.default.join(t,"access.json"),JSON.stringify(i,null,"  ")),n[e.ref]===r)return;let s=n[e.ref];if(s){let o=!1;for(let a in n)if(n[a]===r){o=!0;break}if(!o)try{g.default.unlinkSync(b.default.join(t,`${s}.tar.gz`))}catch{}}n[e.ref]=r,g.default.writeFileSync(b.default.join(t,"map.json"),JSON.stringify(n,null,"  "))}wr.base=Su;wr.createCommonjsModule=Me;wr.degit=bu;wr.source=Xe;wr.tryRequire=ii});var Ou=A((T1,Au)=>{"use strict";require("fs");require("path");var k0=Ru();require("events");require("stream");require("string_decoder");require("assert");require("buffer");require("zlib");require("util");require("crypto");require("os");require("tty");require("constants");require("https");require("child_process");require("url");require("net");require("tls");Au.exports=k0.degit});var To=A((x1,Pu)=>{"use strict";var N0=require("stream"),Cu=N0.PassThrough,D0=Array.prototype.slice;Pu.exports=I0;function I0(){let t=[],e=D0.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let i=n.end!==!1,s=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let o=Cu(n);function a(){for(let l=0,u=arguments.length;l<u;l++)t.push(Tu(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=t.shift();if(!l){process.nextTick(h);return}Array.isArray(l)||(l=[l]);let u=l.length+1;function f(){--u>0||(r=!1,c())}function p(m){function y(){m.removeListener("merge2UnpipeEnd",y),m.removeListener("end",y),s&&m.removeListener("error",v),f()}function v(S){o.emit("error",S)}if(m._readableState.endEmitted)return f();m.on("merge2UnpipeEnd",y),m.on("end",y),s&&m.on("error",v),m.pipe(o,{end:!1}),m.resume()}for(let m=0;m<l.length;m++)p(l[m]);f()}function h(){r=!1,o.emit("queueDrain"),i&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),o}function Tu(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=Tu(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(Cu(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var xu=A(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.splitWhen=Rr.flatten=void 0;function F0(t){return t.reduce((e,r)=>[].concat(e,r),[])}Rr.flatten=F0;function M0(t,e){let r=[[]],n=0;for(let i of t)e(i)?(n++,r[n]=[]):r[n].push(i);return r}Rr.splitWhen=M0});var ku=A(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.isEnoentCodeError=void 0;function $0(t){return t.code==="ENOENT"}yi.isEnoentCodeError=$0});var Nu=A(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.createDirentFromStats=void 0;var Lu=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function B0(t,e){return new Lu(t,e)}_i.createDirentFromStats=B0});var Du=A(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.removeLeadingDotSegment=je.escape=je.makeAbsolute=je.unixify=void 0;var H0=require("path"),q0=2,j0=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function U0(t){return t.replace(/\\/g,"/")}je.unixify=U0;function G0(t,e){return H0.resolve(t,e)}je.makeAbsolute=G0;function z0(t){return t.replace(j0,"\\$2")}je.escape=z0;function W0(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(q0)}return t}je.removeLeadingDotSegment=W0});var Fu=A((I1,Iu)=>{Iu.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var Bu=A((F1,$u)=>{var Y0=Fu(),Mu={"{":"}","(":")","[":"]"},V0=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,i=-2,s=-2,o=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(o===-1||o>n||(o=t.indexOf("\\",e),o===-1||o>n)))||i!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(i=t.indexOf("}",e),i>e&&(o=t.indexOf("\\",e),o===-1||o>i))||s!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(s=t.indexOf(")",e),s>e&&(o=t.indexOf("\\",e),o===-1||o>s))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(s=t.indexOf(")",r),s>r&&(o=t.indexOf("\\",r),o===-1||o>s))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=Mu[a];if(c){var h=t.indexOf(c,e);h!==-1&&(e=h+1)}if(t[e]==="!")return!0}else e++}return!1},K0=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=Mu[r];if(n){var i=t.indexOf(n,e);i!==-1&&(e=i+1)}if(t[e]==="!")return!0}else e++}return!1};$u.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Y0(e))return!0;var n=V0;return r&&r.strict===!1&&(n=K0),n(e)}});var qu=A((M1,Hu)=>{"use strict";var Z0=Bu(),X0=require("path").posix.dirname,Q0=require("os").platform()==="win32",Po="/",J0=/\\/g,ev=/[\{\[].*[\}\]]$/,tv=/(^|[^\\])([\{\[]|\([^\)]+$)/,rv=/\\([\!\*\?\|\[\]\(\)\{\}])/g;Hu.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Q0&&e.indexOf(Po)<0&&(e=e.replace(J0,Po)),ev.test(e)&&(e+=Po),e+="a";do e=X0(e);while(Z0(e)||tv.test(e));return e.replace(rv,"$1")}});var vi=A(Ne=>{"use strict";Ne.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;Ne.find=(t,e)=>t.nodes.find(r=>r.type===e);Ne.exceedsLimit=(t,e,r=1,n)=>n===!1||!Ne.isInteger(t)||!Ne.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;Ne.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};Ne.encloseBrace=t=>t.type!=="brace"?!1:t.commas>>0+t.ranges>>0===0?(t.invalid=!0,!0):!1;Ne.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:t.commas>>0+t.ranges>>0===0||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;Ne.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;Ne.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);Ne.flatten=(...t)=>{let e=[],r=n=>{for(let i=0;i<n.length;i++){let s=n[i];Array.isArray(s)?r(s,e):s!==void 0&&e.push(s)}return e};return r(t),e}});var Ei=A((B1,Uu)=>{"use strict";var ju=vi();Uu.exports=(t,e={})=>{let r=(n,i={})=>{let s=e.escapeInvalid&&ju.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(s||o)&&ju.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var zu=A((H1,Gu)=>{"use strict";Gu.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var eh=A((q1,Ju)=>{"use strict";var Wu=zu(),Gt=(t,e,r)=>{if(Wu(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(Wu(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=z({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),s=String(n.shorthand),o=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+i+s+o+a;if(Gt.cache.hasOwnProperty(c))return Gt.cache[c].result;let h=Math.min(t,e),l=Math.max(t,e);if(Math.abs(h-l)===1){let y=t+"|"+e;return n.capture?`(${y})`:n.wrap===!1?y:`(?:${y})`}let u=Qu(t)||Qu(e),f={min:t,max:e,a:h,b:l},p=[],m=[];if(u&&(f.isPadded=u,f.maxLen=String(f.max).length),h<0){let y=l<0?Math.abs(l):1;m=Yu(y,Math.abs(h),f,n),h=f.a=0}return l>=0&&(p=Yu(h,l,f,n)),f.negatives=m,f.positives=p,f.result=nv(m,p,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&p.length+m.length>1&&(f.result=`(?:${f.result})`),Gt.cache[c]=f,f.result};function nv(t,e,r){let n=xo(t,e,"-",!1,r)||[],i=xo(e,t,"",!1,r)||[],s=xo(t,e,"-?",!0,r)||[];return n.concat(s).concat(i).join("|")}function iv(t,e){let r=1,n=1,i=Ku(t,r),s=new Set([e]);for(;t<=i&&i<=e;)s.add(i),r+=1,i=Ku(t,r);for(i=Zu(e+1,n)-1;t<i&&i<=e;)s.add(i),n+=1,i=Zu(e+1,n)-1;return s=[...s],s.sort(av),s}function sv(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=ov(t,e),i=n.length,s="",o=0;for(let a=0;a<i;a++){let[c,h]=n[a];c===h?s+=c:c!=="0"||h!=="9"?s+=cv(c,h,r):o++}return o&&(s+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function Yu(t,e,r,n){let i=iv(t,e),s=[],o=t,a;for(let c=0;c<i.length;c++){let h=i[c],l=sv(String(o),String(h),n),u="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+Xu(a.count),o=h+1;continue}r.isPadded&&(u=lv(h,r,n)),l.string=u+l.pattern+Xu(l.count),s.push(l),o=h+1,a=l}return s}function xo(t,e,r,n,i){let s=[];for(let o of t){let{string:a}=o;!n&&!Vu(e,"string",a)&&s.push(r+a),n&&Vu(e,"string",a)&&s.push(r+a)}return s}function ov(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function av(t,e){return t>e?1:e>t?-1:0}function Vu(t,e,r){return t.some(n=>n[e]===r)}function Ku(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function Zu(t,e){return t-t%Math.pow(10,e)}function Xu(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function cv(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function Qu(t){return/^-?(0+)\d/.test(t)}function lv(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}Gt.cache={};Gt.clearCache=()=>Gt.cache={};Ju.exports=Gt});var No=A((j1,ch)=>{"use strict";var uv=require("util"),nh=eh(),th=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),hv=t=>e=>t===!0?Number(e):String(e),ko=t=>typeof t=="number"||typeof t=="string"&&t!=="",ln=t=>Number.isInteger(+t),Lo=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},fv=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,dv=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},rh=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},pv=(t,e)=>{t.negatives.sort((o,a)=>o<a?-1:o>a?1:0),t.positives.sort((o,a)=>o<a?-1:o>a?1:0);let r=e.capture?"":"?:",n="",i="",s;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),n&&i?s=`${n}|${i}`:s=n||i,e.wrap?`(${r}${s})`:s},ih=(t,e,r,n)=>{if(r)return nh(t,e,z({wrap:!1},n));let i=String.fromCharCode(t);if(t===e)return i;let s=String.fromCharCode(e);return`[${i}-${s}]`},sh=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${t.join("|")})`:t.join("|")}return nh(t,e,r)},oh=(...t)=>new RangeError("Invalid range arguments: "+uv.inspect(...t)),ah=(t,e,r)=>{if(r.strictRanges===!0)throw oh([t,e]);return[]},mv=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},gv=(t,e,r=1,n={})=>{let i=Number(t),s=Number(e);if(!Number.isInteger(i)||!Number.isInteger(s)){if(n.strictRanges===!0)throw oh([t,e]);return[]}i===0&&(i=0),s===0&&(s=0);let o=i>s,a=String(t),c=String(e),h=String(r);r=Math.max(Math.abs(r),1);let l=Lo(a)||Lo(c)||Lo(h),u=l?Math.max(a.length,c.length,h.length):0,f=l===!1&&fv(t,e,n)===!1,p=n.transform||hv(f);if(n.toRegex&&r===1)return ih(rh(t,u),rh(e,u),!0,n);let m={negatives:[],positives:[]},y=w=>m[w<0?"negatives":"positives"].push(Math.abs(w)),v=[],S=0;for(;o?i>=s:i<=s;)n.toRegex===!0&&r>1?y(i):v.push(dv(p(i,S),u,f)),i=o?i-r:i+r,S++;return n.toRegex===!0?r>1?pv(m,n):sh(v,null,z({wrap:!1},n)):v},yv=(t,e,r=1,n={})=>{if(!ln(t)&&t.length>1||!ln(e)&&e.length>1)return ah(t,e,n);let i=n.transform||(f=>String.fromCharCode(f)),s=`${t}`.charCodeAt(0),o=`${e}`.charCodeAt(0),a=s>o,c=Math.min(s,o),h=Math.max(s,o);if(n.toRegex&&r===1)return ih(c,h,!1,n);let l=[],u=0;for(;a?s>=o:s<=o;)l.push(i(s,u)),s=a?s-r:s+r,u++;return n.toRegex===!0?sh(l,null,{wrap:!1,options:n}):l},Si=(t,e,r,n={})=>{if(e==null&&ko(t))return[t];if(!ko(t)||!ko(e))return ah(t,e,n);if(typeof r=="function")return Si(t,e,1,{transform:r});if(th(r))return Si(t,e,0,r);let i=z({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,ln(r)?ln(t)&&ln(e)?gv(t,e,r,i):yv(t,e,Math.max(Math.abs(r),1),i):r!=null&&!th(r)?mv(r,i):Si(t,e,1,r)};ch.exports=Si});var hh=A((U1,uh)=>{"use strict";var _v=No(),lh=vi(),vv=(t,e={})=>{let r=(n,i={})=>{let s=lh.isInvalidBrace(i),o=n.invalid===!0&&e.escapeInvalid===!0,a=s===!0||o===!0,c=e.escapeInvalid===!0?"\\":"",h="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=lh.reduce(n.nodes),u=_v(...l,ne(z({},e),{wrap:!1,toRegex:!0}));if(u.length!==0)return l.length>1&&u.length>1?`(${u})`:u}if(n.nodes)for(let l of n.nodes)h+=r(l,n);return h};return r(t)};uh.exports=vv});var ph=A((G1,dh)=>{"use strict";var Ev=No(),fh=Ei(),Ar=vi(),zt=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Ar.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let s of i)n.push(zt(s,e,r));else for(let s of e)r===!0&&typeof s=="string"&&(s=`{${s}}`),n.push(Array.isArray(s)?zt(i,s,r):i+s);return Ar.flatten(n)},Sv=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,s={})=>{i.queue=[];let o=s,a=s.queue;for(;o.type!=="brace"&&o.type!=="root"&&o.parent;)o=o.parent,a=o.queue;if(i.invalid||i.dollar){a.push(zt(a.pop(),fh(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(zt(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let u=Ar.reduce(i.nodes);if(Ar.exceedsLimit(...u,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=Ev(...u,e);f.length===0&&(f=fh(i,e)),a.push(zt(a.pop(),f)),i.nodes=[];return}let c=Ar.encloseBrace(i),h=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,h=l.queue;for(let u=0;u<i.nodes.length;u++){let f=i.nodes[u];if(f.type==="comma"&&i.type==="brace"){u===1&&h.push(""),h.push("");continue}if(f.type==="close"){a.push(zt(a.pop(),h,c));continue}if(f.value&&f.type!=="open"){h.push(zt(h.pop(),f.value));continue}f.nodes&&n(f,i)}return h};return Ar.flatten(n(t))};dh.exports=Sv});var gh=A((z1,mh)=>{"use strict";mh.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Sh=A((W1,Eh)=>{"use strict";var bv=Ei(),{MAX_LENGTH:yh,CHAR_BACKSLASH:Do,CHAR_BACKTICK:wv,CHAR_COMMA:Rv,CHAR_DOT:Av,CHAR_LEFT_PARENTHESES:Ov,CHAR_RIGHT_PARENTHESES:Cv,CHAR_LEFT_CURLY_BRACE:Tv,CHAR_RIGHT_CURLY_BRACE:Pv,CHAR_LEFT_SQUARE_BRACKET:_h,CHAR_RIGHT_SQUARE_BRACKET:vh,CHAR_DOUBLE_QUOTE:xv,CHAR_SINGLE_QUOTE:kv,CHAR_NO_BREAK_SPACE:Lv,CHAR_ZERO_WIDTH_NOBREAK_SPACE:Nv}=gh(),Dv=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(yh,r.maxLength):yh;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i={type:"root",input:t,nodes:[]},s=[i],o=i,a=i,c=0,h=t.length,l=0,u=0,f,p={},m=()=>t[l++],y=v=>{if(v.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&v.type==="text"){a.value+=v.value;return}return o.nodes.push(v),v.parent=o,v.prev=a,a=v,v};for(y({type:"bos"});l<h;)if(o=s[s.length-1],f=m(),!(f===Nv||f===Lv)){if(f===Do){y({type:"text",value:(e.keepEscaping?f:"")+m()});continue}if(f===vh){y({type:"text",value:"\\"+f});continue}if(f===_h){c++;let v=!0,S;for(;l<h&&(S=m());){if(f+=S,S===_h){c++;continue}if(S===Do){f+=m();continue}if(S===vh&&(c--,c===0))break}y({type:"text",value:f});continue}if(f===Ov){o=y({type:"paren",nodes:[]}),s.push(o),y({type:"text",value:f});continue}if(f===Cv){if(o.type!=="paren"){y({type:"text",value:f});continue}o=s.pop(),y({type:"text",value:f}),o=s[s.length-1];continue}if(f===xv||f===kv||f===wv){let v=f,S;for(e.keepQuotes!==!0&&(f="");l<h&&(S=m());){if(S===Do){f+=S+m();continue}if(S===v){e.keepQuotes===!0&&(f+=S);break}f+=S}y({type:"text",value:f});continue}if(f===Tv){u++;let v=a.value&&a.value.slice(-1)==="$"||o.dollar===!0;o=y({type:"brace",open:!0,close:!1,dollar:v,depth:u,commas:0,ranges:0,nodes:[]}),s.push(o),y({type:"open",value:f});continue}if(f===Pv){if(o.type!=="brace"){y({type:"text",value:f});continue}let v="close";o=s.pop(),o.close=!0,y({type:v,value:f}),u--,o=s[s.length-1];continue}if(f===Rv&&u>0){if(o.ranges>0){o.ranges=0;let v=o.nodes.shift();o.nodes=[v,{type:"text",value:bv(o)}]}y({type:"comma",value:f}),o.commas++;continue}if(f===Av&&u>0&&o.commas===0){let v=o.nodes;if(u===0||v.length===0){y({type:"text",value:f});continue}if(a.type==="dot"){if(o.range=[],a.value+=f,a.type="range",o.nodes.length!==3&&o.nodes.length!==5){o.invalid=!0,o.ranges=0,a.type="text";continue}o.ranges++,o.args=[];continue}if(a.type==="range"){v.pop();let S=v[v.length-1];S.value+=a.value+f,a=S,o.ranges--;continue}y({type:"dot",value:f});continue}y({type:"text",value:f})}do if(o=s.pop(),o.type!=="root"){o.nodes.forEach(w=>{w.nodes||(w.type==="open"&&(w.isOpen=!0),w.type==="close"&&(w.isClose=!0),w.nodes||(w.type="text"),w.invalid=!0)});let v=s[s.length-1],S=v.nodes.indexOf(o);v.nodes.splice(S,1,...o.nodes)}while(s.length>0);return y({type:"eos"}),i};Eh.exports=Dv});var Rh=A((Y1,wh)=>{"use strict";var bh=Ei(),Iv=hh(),Fv=ph(),Mv=Sh(),Ae=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let i=Ae.create(n,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(Ae.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Ae.parse=(t,e={})=>Mv(t,e);Ae.stringify=(t,e={})=>bh(typeof t=="string"?Ae.parse(t,e):t,e);Ae.compile=(t,e={})=>(typeof t=="string"&&(t=Ae.parse(t,e)),Iv(t,e));Ae.expand=(t,e={})=>{typeof t=="string"&&(t=Ae.parse(t,e));let r=Fv(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Ae.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Ae.compile(t,e):Ae.expand(t,e);wh.exports=Ae});var un=A((V1,Ph)=>{"use strict";var $v=require("path"),Ue="\\\\/",Ah=`[^${Ue}]`,tt="\\.",Bv="\\+",Hv="\\?",bi="\\/",qv="(?=.)",Oh="[^/]",Io=`(?:${bi}|$)`,Ch=`(?:^|${bi})`,Fo=`${tt}{1,2}${Io}`,jv=`(?!${tt})`,Uv=`(?!${Ch}${Fo})`,Gv=`(?!${tt}{0,1}${Io})`,zv=`(?!${Fo})`,Wv=`[^.${bi}]`,Yv=`${Oh}*?`,Th={DOT_LITERAL:tt,PLUS_LITERAL:Bv,QMARK_LITERAL:Hv,SLASH_LITERAL:bi,ONE_CHAR:qv,QMARK:Oh,END_ANCHOR:Io,DOTS_SLASH:Fo,NO_DOT:jv,NO_DOTS:Uv,NO_DOT_SLASH:Gv,NO_DOTS_SLASH:zv,QMARK_NO_DOT:Wv,STAR:Yv,START_ANCHOR:Ch},Vv=ne(z({},Th),{SLASH_LITERAL:`[${Ue}]`,QMARK:Ah,STAR:`${Ah}*?`,DOTS_SLASH:`${tt}{1,2}(?:[${Ue}]|$)`,NO_DOT:`(?!${tt})`,NO_DOTS:`(?!(?:^|[${Ue}])${tt}{1,2}(?:[${Ue}]|$))`,NO_DOT_SLASH:`(?!${tt}{0,1}(?:[${Ue}]|$))`,NO_DOTS_SLASH:`(?!${tt}{1,2}(?:[${Ue}]|$))`,QMARK_NO_DOT:`[^.${Ue}]`,START_ANCHOR:`(?:^|[${Ue}])`,END_ANCHOR:`(?:[${Ue}]|$)`}),Kv={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Ph.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Kv,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:$v.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?Vv:Th}}});var hn=A(Se=>{"use strict";var Zv=require("path"),Xv=process.platform==="win32",{REGEX_BACKSLASH:Qv,REGEX_REMOVE_BACKSLASH:Jv,REGEX_SPECIAL_CHARS:eE,REGEX_SPECIAL_CHARS_GLOBAL:tE}=un();Se.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Se.hasRegexChars=t=>eE.test(t);Se.isRegexChar=t=>t.length===1&&Se.hasRegexChars(t);Se.escapeRegex=t=>t.replace(tE,"\\$1");Se.toPosixSlashes=t=>t.replace(Qv,"/");Se.removeBackslashes=t=>t.replace(Jv,e=>e==="\\"?"":e);Se.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Se.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Xv===!0||Zv.sep==="\\";Se.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?Se.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};Se.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Se.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",s=`${n}(?:${t})${i}`;return e.negated===!0&&(s=`(?:^(?!${s}).*$)`),s}});var Mh=A((Z1,Fh)=>{"use strict";var xh=hn(),{CHAR_ASTERISK:Mo,CHAR_AT:rE,CHAR_BACKWARD_SLASH:fn,CHAR_COMMA:nE,CHAR_DOT:$o,CHAR_EXCLAMATION_MARK:Bo,CHAR_FORWARD_SLASH:Ih,CHAR_LEFT_CURLY_BRACE:Ho,CHAR_LEFT_PARENTHESES:qo,CHAR_LEFT_SQUARE_BRACKET:iE,CHAR_PLUS:sE,CHAR_QUESTION_MARK:kh,CHAR_RIGHT_CURLY_BRACE:oE,CHAR_RIGHT_PARENTHESES:Lh,CHAR_RIGHT_SQUARE_BRACKET:aE}=un(),Nh=t=>t===Ih||t===fn,Dh=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},cE=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,s=[],o=[],a=[],c=t,h=-1,l=0,u=0,f=!1,p=!1,m=!1,y=!1,v=!1,S=!1,w=!1,I=!1,F=!1,k=!1,$=0,N,L,q={value:"",depth:0,isGlob:!1},Q=()=>h>=n,E=()=>c.charCodeAt(h+1),C=()=>(N=L,c.charCodeAt(++h));for(;h<n;){L=C();let M;if(L===fn){w=q.backslashes=!0,L=C(),L===Ho&&(S=!0);continue}if(S===!0||L===Ho){for($++;Q()!==!0&&(L=C());){if(L===fn){w=q.backslashes=!0,C();continue}if(L===Ho){$++;continue}if(S!==!0&&L===$o&&(L=C())===$o){if(f=q.isBrace=!0,m=q.isGlob=!0,k=!0,i===!0)continue;break}if(S!==!0&&L===nE){if(f=q.isBrace=!0,m=q.isGlob=!0,k=!0,i===!0)continue;break}if(L===oE&&($--,$===0)){S=!1,f=q.isBrace=!0,k=!0;break}}if(i===!0)continue;break}if(L===Ih){if(s.push(h),o.push(q),q={value:"",depth:0,isGlob:!1},k===!0)continue;if(N===$o&&h===l+1){l+=2;continue}u=h+1;continue}if(r.noext!==!0&&(L===sE||L===rE||L===Mo||L===kh||L===Bo)===!0&&E()===qo){if(m=q.isGlob=!0,y=q.isExtglob=!0,k=!0,L===Bo&&h===l&&(F=!0),i===!0){for(;Q()!==!0&&(L=C());){if(L===fn){w=q.backslashes=!0,L=C();continue}if(L===Lh){m=q.isGlob=!0,k=!0;break}}continue}break}if(L===Mo){if(N===Mo&&(v=q.isGlobstar=!0),m=q.isGlob=!0,k=!0,i===!0)continue;break}if(L===kh){if(m=q.isGlob=!0,k=!0,i===!0)continue;break}if(L===iE){for(;Q()!==!0&&(M=C());){if(M===fn){w=q.backslashes=!0,C();continue}if(M===aE){p=q.isBracket=!0,m=q.isGlob=!0,k=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&L===Bo&&h===l){I=q.negated=!0,l++;continue}if(r.noparen!==!0&&L===qo){if(m=q.isGlob=!0,i===!0){for(;Q()!==!0&&(L=C());){if(L===qo){w=q.backslashes=!0,L=C();continue}if(L===Lh){k=!0;break}}continue}break}if(m===!0){if(k=!0,i===!0)continue;break}}r.noext===!0&&(y=!1,m=!1);let P=c,D="",d="";l>0&&(D=c.slice(0,l),c=c.slice(l),u-=l),P&&m===!0&&u>0?(P=c.slice(0,u),d=c.slice(u)):m===!0?(P="",d=c):P=c,P&&P!==""&&P!=="/"&&P!==c&&Nh(P.charCodeAt(P.length-1))&&(P=P.slice(0,-1)),r.unescape===!0&&(d&&(d=xh.removeBackslashes(d)),P&&w===!0&&(P=xh.removeBackslashes(P)));let _={prefix:D,input:t,start:l,base:P,glob:d,isBrace:f,isBracket:p,isGlob:m,isExtglob:y,isGlobstar:v,negated:I,negatedExtglob:F};if(r.tokens===!0&&(_.maxDepth=0,Nh(L)||o.push(q),_.tokens=o),r.parts===!0||r.tokens===!0){let M;for(let x=0;x<s.length;x++){let V=M?M+1:l,X=s[x],U=t.slice(V,X);r.tokens&&(x===0&&l!==0?(o[x].isPrefix=!0,o[x].value=D):o[x].value=U,Dh(o[x]),_.maxDepth+=o[x].depth),(x!==0||U!=="")&&a.push(U),M=X}if(M&&M+1<t.length){let x=t.slice(M+1);a.push(x),r.tokens&&(o[o.length-1].value=x,Dh(o[o.length-1]),_.maxDepth+=o[o.length-1].depth)}_.slashes=s,_.parts=a}return _};Fh.exports=cE});var Hh=A((X1,Bh)=>{"use strict";var wi=un(),Oe=hn(),{MAX_LENGTH:Ri,POSIX_REGEX_SOURCE:lE,REGEX_NON_SPECIAL_CHARS:uE,REGEX_SPECIAL_CHARS_BACKREF:hE,REPLACEMENTS:$h}=wi,fE=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>Oe.escapeRegex(i)).join("..")}return r},Or=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,jo=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=$h[t]||t;let r=z({},e),n=typeof r.maxLength=="number"?Math.min(Ri,r.maxLength):Ri,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let s={type:"bos",value:"",output:r.prepend||""},o=[s],a=r.capture?"":"?:",c=Oe.isWindows(e),h=wi.globChars(c),l=wi.extglobChars(h),{DOT_LITERAL:u,PLUS_LITERAL:f,SLASH_LITERAL:p,ONE_CHAR:m,DOTS_SLASH:y,NO_DOT:v,NO_DOT_SLASH:S,NO_DOTS_SLASH:w,QMARK:I,QMARK_NO_DOT:F,STAR:k,START_ANCHOR:$}=h,N=O=>`(${a}(?:(?!${$}${O.dot?y:u}).)*?)`,L=r.dot?"":v,q=r.dot?I:F,Q=r.bash===!0?N(r):k;r.capture&&(Q=`(${Q})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let E={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};t=Oe.removePrefix(t,E),i=t.length;let C=[],P=[],D=[],d=s,_,M=()=>E.index===i-1,x=E.peek=(O=1)=>t[E.index+O],V=E.advance=()=>t[++E.index]||"",X=()=>t.slice(E.index+1),U=(O="",J=0)=>{E.consumed+=O,E.index+=J},ye=O=>{E.output+=O.output!=null?O.output:O.value,U(O.value)},be=()=>{let O=1;for(;x()==="!"&&(x(2)!=="("||x(3)==="?");)V(),E.start++,O++;return O%2===0?!1:(E.negated=!0,E.start++,!0)},yn=O=>{E[O]++,D.push(O)},Ot=O=>{E[O]--,D.pop()},G=O=>{if(d.type==="globstar"){let J=E.braces>0&&(O.type==="comma"||O.type==="brace"),R=O.extglob===!0||C.length&&(O.type==="pipe"||O.type==="paren");O.type!=="slash"&&O.type!=="paren"&&!J&&!R&&(E.output=E.output.slice(0,-d.output.length),d.type="star",d.value="*",d.output=Q,E.output+=d.output)}if(C.length&&O.type!=="paren"&&(C[C.length-1].inner+=O.value),(O.value||O.output)&&ye(O),d&&d.type==="text"&&O.type==="text"){d.value+=O.value,d.output=(d.output||"")+O.value;return}O.prev=d,o.push(O),d=O},_n=(O,J)=>{let R=ne(z({},l[J]),{conditions:1,inner:""});R.prev=d,R.parens=E.parens,R.output=E.output;let j=(r.capture?"(":"")+R.open;yn("parens"),G({type:O,value:J,output:E.output?"":m}),G({type:"paren",extglob:!0,value:V(),output:j}),C.push(R)},dp=O=>{let J=O.close+(r.capture?")":""),R;if(O.type==="negate"){let j=Q;if(O.inner&&O.inner.length>1&&O.inner.includes("/")&&(j=N(r)),(j!==Q||M()||/^\)+$/.test(X()))&&(J=O.close=`)$))${j}`),O.inner.includes("*")&&(R=X())&&/^\.[^\\/.]+$/.test(R)){let re=jo(R,ne(z({},e),{fastpaths:!1})).output;J=O.close=`)${re})${j})`}O.prev.type==="bos"&&(E.negatedExtglob=!0)}G({type:"paren",extglob:!0,value:_,output:J}),Ot("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let O=!1,J=t.replace(hE,(R,j,re,pe,se,Gi)=>pe==="\\"?(O=!0,R):pe==="?"?j?j+pe+(se?I.repeat(se.length):""):Gi===0?q+(se?I.repeat(se.length):""):I.repeat(re.length):pe==="."?u.repeat(re.length):pe==="*"?j?j+pe+(se?Q:""):Q:j?R:`\\${R}`);return O===!0&&(r.unescape===!0?J=J.replace(/\\/g,""):J=J.replace(/\\+/g,R=>R.length%2===0?"\\\\":R?"\\":"")),J===t&&r.contains===!0?(E.output=t,E):(E.output=Oe.wrapOutput(J,E,e),E)}for(;!M();){if(_=V(),_==="\0")continue;if(_==="\\"){let R=x();if(R==="/"&&r.bash!==!0||R==="."||R===";")continue;if(!R){_+="\\",G({type:"text",value:_});continue}let j=/^\\+/.exec(X()),re=0;if(j&&j[0].length>2&&(re=j[0].length,E.index+=re,re%2!==0&&(_+="\\")),r.unescape===!0?_=V():_+=V(),E.brackets===0){G({type:"text",value:_});continue}}if(E.brackets>0&&(_!=="]"||d.value==="["||d.value==="[^")){if(r.posix!==!1&&_===":"){let R=d.value.slice(1);if(R.includes("[")&&(d.posix=!0,R.includes(":"))){let j=d.value.lastIndexOf("["),re=d.value.slice(0,j),pe=d.value.slice(j+2),se=lE[pe];if(se){d.value=re+se,E.backtrack=!0,V(),!s.output&&o.indexOf(d)===1&&(s.output=m);continue}}}(_==="["&&x()!==":"||_==="-"&&x()==="]")&&(_=`\\${_}`),_==="]"&&(d.value==="["||d.value==="[^")&&(_=`\\${_}`),r.posix===!0&&_==="!"&&d.value==="["&&(_="^"),d.value+=_,ye({value:_});continue}if(E.quotes===1&&_!=='"'){_=Oe.escapeRegex(_),d.value+=_,ye({value:_});continue}if(_==='"'){E.quotes=E.quotes===1?0:1,r.keepQuotes===!0&&G({type:"text",value:_});continue}if(_==="("){yn("parens"),G({type:"paren",value:_});continue}if(_===")"){if(E.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Or("opening","("));let R=C[C.length-1];if(R&&E.parens===R.parens+1){dp(C.pop());continue}G({type:"paren",value:_,output:E.parens?")":"\\)"}),Ot("parens");continue}if(_==="["){if(r.nobracket===!0||!X().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Or("closing","]"));_=`\\${_}`}else yn("brackets");G({type:"bracket",value:_});continue}if(_==="]"){if(r.nobracket===!0||d&&d.type==="bracket"&&d.value.length===1){G({type:"text",value:_,output:`\\${_}`});continue}if(E.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Or("opening","["));G({type:"text",value:_,output:`\\${_}`});continue}Ot("brackets");let R=d.value.slice(1);if(d.posix!==!0&&R[0]==="^"&&!R.includes("/")&&(_=`/${_}`),d.value+=_,ye({value:_}),r.literalBrackets===!1||Oe.hasRegexChars(R))continue;let j=Oe.escapeRegex(d.value);if(E.output=E.output.slice(0,-d.value.length),r.literalBrackets===!0){E.output+=j,d.value=j;continue}d.value=`(${a}${j}|${d.value})`,E.output+=d.value;continue}if(_==="{"&&r.nobrace!==!0){yn("braces");let R={type:"brace",value:_,output:"(",outputIndex:E.output.length,tokensIndex:E.tokens.length};P.push(R),G(R);continue}if(_==="}"){let R=P[P.length-1];if(r.nobrace===!0||!R){G({type:"text",value:_,output:_});continue}let j=")";if(R.dots===!0){let re=o.slice(),pe=[];for(let se=re.length-1;se>=0&&(o.pop(),re[se].type!=="brace");se--)re[se].type!=="dots"&&pe.unshift(re[se].value);j=fE(pe,r),E.backtrack=!0}if(R.comma!==!0&&R.dots!==!0){let re=E.output.slice(0,R.outputIndex),pe=E.tokens.slice(R.tokensIndex);R.value=R.output="\\{",_=j="\\}",E.output=re;for(let se of pe)E.output+=se.output||se.value}G({type:"brace",value:_,output:j}),Ot("braces"),P.pop();continue}if(_==="|"){C.length>0&&C[C.length-1].conditions++,G({type:"text",value:_});continue}if(_===","){let R=_,j=P[P.length-1];j&&D[D.length-1]==="braces"&&(j.comma=!0,R="|"),G({type:"comma",value:_,output:R});continue}if(_==="/"){if(d.type==="dot"&&E.index===E.start+1){E.start=E.index+1,E.consumed="",E.output="",o.pop(),d=s;continue}G({type:"slash",value:_,output:p});continue}if(_==="."){if(E.braces>0&&d.type==="dot"){d.value==="."&&(d.output=u);let R=P[P.length-1];d.type="dots",d.output+=_,d.value+=_,R.dots=!0;continue}if(E.braces+E.parens===0&&d.type!=="bos"&&d.type!=="slash"){G({type:"text",value:_,output:u});continue}G({type:"dot",value:_,output:u});continue}if(_==="?"){if(!(d&&d.value==="(")&&r.noextglob!==!0&&x()==="("&&x(2)!=="?"){_n("qmark",_);continue}if(d&&d.type==="paren"){let j=x(),re=_;if(j==="<"&&!Oe.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(d.value==="("&&!/[!=<:]/.test(j)||j==="<"&&!/<([!=]|\w+>)/.test(X()))&&(re=`\\${_}`),G({type:"text",value:_,output:re});continue}if(r.dot!==!0&&(d.type==="slash"||d.type==="bos")){G({type:"qmark",value:_,output:F});continue}G({type:"qmark",value:_,output:I});continue}if(_==="!"){if(r.noextglob!==!0&&x()==="("&&(x(2)!=="?"||!/[!=<:]/.test(x(3)))){_n("negate",_);continue}if(r.nonegate!==!0&&E.index===0){be();continue}}if(_==="+"){if(r.noextglob!==!0&&x()==="("&&x(2)!=="?"){_n("plus",_);continue}if(d&&d.value==="("||r.regex===!1){G({type:"plus",value:_,output:f});continue}if(d&&(d.type==="bracket"||d.type==="paren"||d.type==="brace")||E.parens>0){G({type:"plus",value:_});continue}G({type:"plus",value:f});continue}if(_==="@"){if(r.noextglob!==!0&&x()==="("&&x(2)!=="?"){G({type:"at",extglob:!0,value:_,output:""});continue}G({type:"text",value:_});continue}if(_!=="*"){(_==="$"||_==="^")&&(_=`\\${_}`);let R=uE.exec(X());R&&(_+=R[0],E.index+=R[0].length),G({type:"text",value:_});continue}if(d&&(d.type==="globstar"||d.star===!0)){d.type="star",d.star=!0,d.value+=_,d.output=Q,E.backtrack=!0,E.globstar=!0,U(_);continue}let O=X();if(r.noextglob!==!0&&/^\([^?]/.test(O)){_n("star",_);continue}if(d.type==="star"){if(r.noglobstar===!0){U(_);continue}let R=d.prev,j=R.prev,re=R.type==="slash"||R.type==="bos",pe=j&&(j.type==="star"||j.type==="globstar");if(r.bash===!0&&(!re||O[0]&&O[0]!=="/")){G({type:"star",value:_,output:""});continue}let se=E.braces>0&&(R.type==="comma"||R.type==="brace"),Gi=C.length&&(R.type==="pipe"||R.type==="paren");if(!re&&R.type!=="paren"&&!se&&!Gi){G({type:"star",value:_,output:""});continue}for(;O.slice(0,3)==="/**";){let vn=t[E.index+4];if(vn&&vn!=="/")break;O=O.slice(3),U("/**",3)}if(R.type==="bos"&&M()){d.type="globstar",d.value+=_,d.output=N(r),E.output=d.output,E.globstar=!0,U(_);continue}if(R.type==="slash"&&R.prev.type!=="bos"&&!pe&&M()){E.output=E.output.slice(0,-(R.output+d.output).length),R.output=`(?:${R.output}`,d.type="globstar",d.output=N(r)+(r.strictSlashes?")":"|$)"),d.value+=_,E.globstar=!0,E.output+=R.output+d.output,U(_);continue}if(R.type==="slash"&&R.prev.type!=="bos"&&O[0]==="/"){let vn=O[1]!==void 0?"|$":"";E.output=E.output.slice(0,-(R.output+d.output).length),R.output=`(?:${R.output}`,d.type="globstar",d.output=`${N(r)}${p}|${p}${vn})`,d.value+=_,E.output+=R.output+d.output,E.globstar=!0,U(_+V()),G({type:"slash",value:"/",output:""});continue}if(R.type==="bos"&&O[0]==="/"){d.type="globstar",d.value+=_,d.output=`(?:^|${p}|${N(r)}${p})`,E.output=d.output,E.globstar=!0,U(_+V()),G({type:"slash",value:"/",output:""});continue}E.output=E.output.slice(0,-d.output.length),d.type="globstar",d.output=N(r),d.value+=_,E.output+=d.output,E.globstar=!0,U(_);continue}let J={type:"star",value:_,output:Q};if(r.bash===!0){J.output=".*?",(d.type==="bos"||d.type==="slash")&&(J.output=L+J.output),G(J);continue}if(d&&(d.type==="bracket"||d.type==="paren")&&r.regex===!0){J.output=_,G(J);continue}(E.index===E.start||d.type==="slash"||d.type==="dot")&&(d.type==="dot"?(E.output+=S,d.output+=S):r.dot===!0?(E.output+=w,d.output+=w):(E.output+=L,d.output+=L),x()!=="*"&&(E.output+=m,d.output+=m)),G(J)}for(;E.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Or("closing","]"));E.output=Oe.escapeLast(E.output,"["),Ot("brackets")}for(;E.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Or("closing",")"));E.output=Oe.escapeLast(E.output,"("),Ot("parens")}for(;E.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Or("closing","}"));E.output=Oe.escapeLast(E.output,"{"),Ot("braces")}if(r.strictSlashes!==!0&&(d.type==="star"||d.type==="bracket")&&G({type:"maybe_slash",value:"",output:`${p}?`}),E.backtrack===!0){E.output="";for(let O of E.tokens)E.output+=O.output!=null?O.output:O.value,O.suffix&&(E.output+=O.suffix)}return E};jo.fastpaths=(t,e)=>{let r=z({},e),n=typeof r.maxLength=="number"?Math.min(Ri,r.maxLength):Ri,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=$h[t]||t;let s=Oe.isWindows(e),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:h,NO_DOT:l,NO_DOTS:u,NO_DOTS_SLASH:f,STAR:p,START_ANCHOR:m}=wi.globChars(s),y=r.dot?u:l,v=r.dot?f:l,S=r.capture?"":"?:",w={negated:!1,prefix:""},I=r.bash===!0?".*?":p;r.capture&&(I=`(${I})`);let F=L=>L.noglobstar===!0?I:`(${S}(?:(?!${m}${L.dot?h:o}).)*?)`,k=L=>{switch(L){case"*":return`${y}${c}${I}`;case".*":return`${o}${c}${I}`;case"*.*":return`${y}${I}${o}${c}${I}`;case"*/*":return`${y}${I}${a}${c}${v}${I}`;case"**":return y+F(r);case"**/*":return`(?:${y}${F(r)}${a})?${v}${c}${I}`;case"**/*.*":return`(?:${y}${F(r)}${a})?${v}${I}${o}${c}${I}`;case"**/.*":return`(?:${y}${F(r)}${a})?${o}${c}${I}`;default:{let q=/^(.*?)\.(\w+)$/.exec(L);if(!q)return;let Q=k(q[1]);return Q?Q+o+q[2]:void 0}}},$=Oe.removePrefix(t,w),N=k($);return N&&r.strictSlashes!==!0&&(N+=`${a}?`),N};Bh.exports=jo});var jh=A((Q1,qh)=>{"use strict";var dE=require("path"),pE=Mh(),Uo=Hh(),Go=hn(),mE=un(),gE=t=>t&&typeof t=="object"&&!Array.isArray(t),ie=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(f=>ie(f,e,r));return f=>{for(let p of l){let m=p(f);if(m)return m}return!1}}let n=gE(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},s=Go.isWindows(e),o=n?ie.compileRe(t,e):ie.makeRe(t,e,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(i.ignore){let l=ne(z({},e),{ignore:null,onMatch:null,onResult:null});c=ie(i.ignore,l,r)}let h=(l,u=!1)=>{let{isMatch:f,match:p,output:m}=ie.test(l,o,e,{glob:t,posix:s}),y={glob:t,state:a,regex:o,posix:s,input:l,output:m,match:p,isMatch:f};return typeof i.onResult=="function"&&i.onResult(y),f===!1?(y.isMatch=!1,u?y:!1):c(l)?(typeof i.onIgnore=="function"&&i.onIgnore(y),y.isMatch=!1,u?y:!1):(typeof i.onMatch=="function"&&i.onMatch(y),u?y:!0)};return r&&(h.state=a),h};ie.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let s=r||{},o=s.format||(i?Go.toPosixSlashes:null),a=t===n,c=a&&o?o(t):t;return a===!1&&(c=o?o(t):t,a=c===n),(a===!1||s.capture===!0)&&(s.matchBase===!0||s.basename===!0?a=ie.matchBase(t,e,r,i):a=e.exec(c)),{isMatch:Boolean(a),match:a,output:c}};ie.matchBase=(t,e,r,n=Go.isWindows(r))=>(e instanceof RegExp?e:ie.makeRe(e,r)).test(dE.basename(t));ie.isMatch=(t,e,r)=>ie(e,r)(t);ie.parse=(t,e)=>Array.isArray(t)?t.map(r=>ie.parse(r,e)):Uo(t,ne(z({},e),{fastpaths:!1}));ie.scan=(t,e)=>pE(t,e);ie.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},s=i.contains?"":"^",o=i.contains?"":"$",a=`${s}(?:${t.output})${o}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=ie.toRegex(a,e);return n===!0&&(c.state=t),c};ie.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=Uo.fastpaths(t,e)),i.output||(i=Uo(t,e)),ie.compileRe(i,e,r,n)};ie.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};ie.constants=mE;qh.exports=ie});var Gh=A((J1,Uh)=>{"use strict";Uh.exports=jh()});var Kh=A((ew,Vh)=>{"use strict";var Wh=require("util"),Yh=Rh(),Ge=Gh(),zo=hn(),zh=t=>t===""||t==="./",te=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,s=new Set,o=0,a=l=>{s.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let u=Ge(String(e[l]),ne(z({},r),{onResult:a}),!0),f=u.state.negated||u.state.negatedExtglob;f&&o++;for(let p of t){let m=u(p,!0);!(f?!m.isMatch:m.isMatch)||(f?n.add(m.output):(n.delete(m.output),i.add(m.output)))}}let h=(o===e.length?[...s]:[...i]).filter(l=>!n.has(l));if(r&&h.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return h};te.match=te;te.matcher=(t,e)=>Ge(t,e);te.isMatch=(t,e,r)=>Ge(e,r)(t);te.any=te.isMatch;te.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],s=a=>{r.onResult&&r.onResult(a),i.push(a.output)},o=te(t,e,ne(z({},r),{onResult:s}));for(let a of i)o.includes(a)||n.add(a);return[...n]};te.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Wh.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>te.contains(t,n,r));if(typeof e=="string"){if(zh(t)||zh(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return te.isMatch(t,e,ne(z({},r),{contains:!0}))};te.matchKeys=(t,e,r)=>{if(!zo.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=te(Object.keys(t),e,r),i={};for(let s of n)i[s]=t[s];return i};te.some=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let s=Ge(String(i),r);if(n.some(o=>s(o)))return!0}return!1};te.every=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let s=Ge(String(i),r);if(!n.every(o=>s(o)))return!1}return!0};te.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${Wh.inspect(t)}"`);return[].concat(e).every(n=>Ge(n,r)(t))};te.capture=(t,e,r)=>{let n=zo.isWindows(r),s=Ge.makeRe(String(t),ne(z({},r),{capture:!0})).exec(n?zo.toPosixSlashes(e):e);if(s)return s.slice(1).map(o=>o===void 0?"":o)};te.makeRe=(...t)=>Ge.makeRe(...t);te.scan=(...t)=>Ge.scan(...t);te.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let i of Yh(String(n),e))r.push(Ge.parse(i,e));return r};te.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:Yh(t,e)};te.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return te.braces(t,ne(z({},e),{expand:!0}))};Vh.exports=te});var nf=A(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.matchAny=H.convertPatternsToRe=H.makeRe=H.getPatternParts=H.expandBraceExpansion=H.expandPatternsWithBraceExpansion=H.isAffectDepthOfReadingPattern=H.endsWithSlashGlobStar=H.hasGlobStar=H.getBaseDirectory=H.isPatternRelatedToParentDirectory=H.getPatternsOutsideCurrentDirectory=H.getPatternsInsideCurrentDirectory=H.getPositivePatterns=H.getNegativePatterns=H.isPositivePattern=H.isNegativePattern=H.convertToNegativePattern=H.convertToPositivePattern=H.isDynamicPattern=H.isStaticPattern=void 0;var yE=require("path"),_E=qu(),Wo=Kh(),Zh="**",vE="\\",EE=/[*?]|^!/,SE=/\[[^[]*]/,bE=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,wE=/[!*+?@]\([^(]*\)/,RE=/,|\.\./;function Xh(t,e={}){return!Qh(t,e)}H.isStaticPattern=Xh;function Qh(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(vE)||EE.test(t)||SE.test(t)||bE.test(t)||e.extglob!==!1&&wE.test(t)||e.braceExpansion!==!1&&AE(t))}H.isDynamicPattern=Qh;function AE(t){let e=t.indexOf("{");if(e===-1)return!1;let r=t.indexOf("}",e+1);if(r===-1)return!1;let n=t.slice(e,r);return RE.test(n)}function OE(t){return Ai(t)?t.slice(1):t}H.convertToPositivePattern=OE;function CE(t){return"!"+t}H.convertToNegativePattern=CE;function Ai(t){return t.startsWith("!")&&t[1]!=="("}H.isNegativePattern=Ai;function Jh(t){return!Ai(t)}H.isPositivePattern=Jh;function TE(t){return t.filter(Ai)}H.getNegativePatterns=TE;function PE(t){return t.filter(Jh)}H.getPositivePatterns=PE;function xE(t){return t.filter(e=>!Yo(e))}H.getPatternsInsideCurrentDirectory=xE;function kE(t){return t.filter(Yo)}H.getPatternsOutsideCurrentDirectory=kE;function Yo(t){return t.startsWith("..")||t.startsWith("./..")}H.isPatternRelatedToParentDirectory=Yo;function LE(t){return _E(t,{flipBackslashes:!1})}H.getBaseDirectory=LE;function NE(t){return t.includes(Zh)}H.hasGlobStar=NE;function ef(t){return t.endsWith("/"+Zh)}H.endsWithSlashGlobStar=ef;function DE(t){let e=yE.basename(t);return ef(t)||Xh(e)}H.isAffectDepthOfReadingPattern=DE;function IE(t){return t.reduce((e,r)=>e.concat(tf(r)),[])}H.expandPatternsWithBraceExpansion=IE;function tf(t){return Wo.braces(t,{expand:!0,nodupes:!0})}H.expandBraceExpansion=tf;function FE(t,e){let{parts:r}=Wo.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}H.getPatternParts=FE;function rf(t,e){return Wo.makeRe(t,e)}H.makeRe=rf;function ME(t,e){return t.map(r=>rf(r,e))}H.convertPatternsToRe=ME;function $E(t,e){return e.some(r=>r.test(t))}H.matchAny=$E});var of=A(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.merge=void 0;var BE=To();function HE(t){let e=BE(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>sf(t)),e.once("end",()=>sf(t)),e}Oi.merge=HE;function sf(t){t.forEach(e=>e.emit("close"))}});var af=A(Cr=>{"use strict";Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isEmpty=Cr.isString=void 0;function qE(t){return typeof t=="string"}Cr.isString=qE;function jE(t){return t===""}Cr.isEmpty=jE});var rt=A(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.string=fe.stream=fe.pattern=fe.path=fe.fs=fe.errno=fe.array=void 0;var UE=xu();fe.array=UE;var GE=ku();fe.errno=GE;var zE=Nu();fe.fs=zE;var WE=Du();fe.path=WE;var YE=nf();fe.pattern=YE;var VE=of();fe.stream=VE;var KE=af();fe.string=KE});var uf=A(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.convertPatternGroupToTask=de.convertPatternGroupsToTasks=de.groupPatternsByBaseDirectory=de.getNegativePatternsAsPositive=de.getPositivePatterns=de.convertPatternsToTasks=de.generate=void 0;var nt=rt();function ZE(t,e){let r=cf(t),n=lf(t,e.ignore),i=r.filter(c=>nt.pattern.isStaticPattern(c,e)),s=r.filter(c=>nt.pattern.isDynamicPattern(c,e)),o=Vo(i,n,!1),a=Vo(s,n,!0);return o.concat(a)}de.generate=ZE;function Vo(t,e,r){let n=[],i=nt.pattern.getPatternsOutsideCurrentDirectory(t),s=nt.pattern.getPatternsInsideCurrentDirectory(t),o=Ko(i),a=Ko(s);return n.push(...Zo(o,e,r)),"."in a?n.push(Xo(".",s,e,r)):n.push(...Zo(a,e,r)),n}de.convertPatternsToTasks=Vo;function cf(t){return nt.pattern.getPositivePatterns(t)}de.getPositivePatterns=cf;function lf(t,e){return nt.pattern.getNegativePatterns(t).concat(e).map(nt.pattern.convertToPositivePattern)}de.getNegativePatternsAsPositive=lf;function Ko(t){let e={};return t.reduce((r,n)=>{let i=nt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},e)}de.groupPatternsByBaseDirectory=Ko;function Zo(t,e,r){return Object.keys(t).map(n=>Xo(n,t[n],e,r))}de.convertPatternGroupsToTasks=Zo;function Xo(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(nt.pattern.convertToNegativePattern))}}de.convertPatternGroupToTask=Xo});var ff=A(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});Tr.removeDuplicateSlashes=Tr.transform=void 0;var XE=/(?!^)\/{2,}/g;function QE(t){return t.map(e=>hf(e))}Tr.transform=QE;function hf(t){return t.replace(XE,"/")}Tr.removeDuplicateSlashes=hf});var pf=A(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.read=void 0;function JE(t,e,r){e.fs.lstat(t,(n,i)=>{if(n!==null){df(r,n);return}if(!i.isSymbolicLink()||!e.followSymbolicLink){Qo(r,i);return}e.fs.stat(t,(s,o)=>{if(s!==null){if(e.throwErrorOnBrokenSymbolicLink){df(r,s);return}Qo(r,i);return}e.markSymbolicLink&&(o.isSymbolicLink=()=>!0),Qo(r,o)})})}Ci.read=JE;function df(t,e){t(e)}function Qo(t,e){t(null,e)}});var mf=A(Ti=>{"use strict";Object.defineProperty(Ti,"__esModule",{value:!0});Ti.read=void 0;function eS(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}Ti.read=eS});var gf=A(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.createFileSystemAdapter=Et.FILE_SYSTEM_ADAPTER=void 0;var Pi=require("fs");Et.FILE_SYSTEM_ADAPTER={lstat:Pi.lstat,stat:Pi.stat,lstatSync:Pi.lstatSync,statSync:Pi.statSync};function tS(t){return t===void 0?Et.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Et.FILE_SYSTEM_ADAPTER),t)}Et.createFileSystemAdapter=tS});var _f=A(Jo=>{"use strict";Object.defineProperty(Jo,"__esModule",{value:!0});var rS=gf(),yf=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=rS.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e??r}};Jo.default=yf});var Wt=A(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.statSync=St.stat=St.Settings=void 0;var vf=pf(),nS=mf(),ea=_f();St.Settings=ea.default;function iS(t,e,r){if(typeof e=="function"){vf.read(t,ta(),e);return}vf.read(t,ta(e),r)}St.stat=iS;function sS(t,e){let r=ta(e);return nS.read(t,r)}St.statSync=sS;function ta(t={}){return t instanceof ea.default?t:new ea.default(t)}});var bf=A((fw,Sf)=>{var Ef;Sf.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(Ef||(Ef=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var Rf=A((dw,wf)=>{wf.exports=aS;var oS=bf();function aS(t,e){let r,n,i,s=!0;Array.isArray(t)?(r=[],n=t.length):(i=Object.keys(t),r={},n=i.length);function o(c){function h(){e&&e(c,r),e=null}s?oS(h):h()}function a(c,h,l){r[c]=l,(--n===0||h)&&o(h)}n?i?i.forEach(function(c){t[c](function(h,l){a(c,h,l)})}):t.forEach(function(c,h){c(function(l,u){a(h,l,u)})}):o(null),s=!1}});var ra=A(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var xi=process.versions.node.split(".");if(xi[0]===void 0||xi[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var Af=Number.parseInt(xi[0],10),cS=Number.parseInt(xi[1],10),Of=10,lS=10,uS=Af>Of,hS=Af===Of&&cS>=lS;ki.IS_SUPPORT_READDIR_WITH_FILE_TYPES=uS||hS});var Tf=A(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.createDirentFromStats=void 0;var Cf=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function fS(t,e){return new Cf(t,e)}Li.createDirentFromStats=fS});var na=A(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.fs=void 0;var dS=Tf();Ni.fs=dS});var ia=A(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.joinPathSegments=void 0;function pS(t,e,r){return t.endsWith(r)?t+e:t+r+e}Di.joinPathSegments=pS});var Df=A(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.readdir=bt.readdirWithFileTypes=bt.read=void 0;var mS=Wt(),Pf=Rf(),gS=ra(),xf=na(),kf=ia();function yS(t,e,r){if(!e.stats&&gS.IS_SUPPORT_READDIR_WITH_FILE_TYPES){Lf(t,e,r);return}Nf(t,e,r)}bt.read=yS;function Lf(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,i)=>{if(n!==null){Ii(r,n);return}let s=i.map(a=>({dirent:a,name:a.name,path:kf.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){sa(r,s);return}let o=s.map(a=>_S(a,e));Pf(o,(a,c)=>{if(a!==null){Ii(r,a);return}sa(r,c)})})}bt.readdirWithFileTypes=Lf;function _S(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,i)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=xf.fs.createDirentFromStats(t.name,i),r(null,t)})}}function Nf(t,e,r){e.fs.readdir(t,(n,i)=>{if(n!==null){Ii(r,n);return}let s=i.map(o=>{let a=kf.joinPathSegments(t,o,e.pathSegmentSeparator);return c=>{mS.stat(a,e.fsStatSettings,(h,l)=>{if(h!==null){c(h);return}let u={name:o,path:a,dirent:xf.fs.createDirentFromStats(o,l)};e.stats&&(u.stats=l),c(null,u)})}});Pf(s,(o,a)=>{if(o!==null){Ii(r,o);return}sa(r,a)})})}bt.readdir=Nf;function Ii(t,e){t(e)}function sa(t,e){t(null,e)}});var Bf=A(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.readdir=wt.readdirWithFileTypes=wt.read=void 0;var vS=Wt(),ES=ra(),If=na(),Ff=ia();function SS(t,e){return!e.stats&&ES.IS_SUPPORT_READDIR_WITH_FILE_TYPES?Mf(t,e):$f(t,e)}wt.read=SS;function Mf(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:Ff.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let s=e.fs.statSync(i.path);i.dirent=If.fs.createDirentFromStats(i.name,s)}catch(s){if(e.throwErrorOnBrokenSymbolicLink)throw s}return i})}wt.readdirWithFileTypes=Mf;function $f(t,e){return e.fs.readdirSync(t).map(n=>{let i=Ff.joinPathSegments(t,n,e.pathSegmentSeparator),s=vS.statSync(i,e.fsStatSettings),o={name:n,path:i,dirent:If.fs.createDirentFromStats(n,s)};return e.stats&&(o.stats=s),o})}wt.readdir=$f});var Hf=A(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.createFileSystemAdapter=Rt.FILE_SYSTEM_ADAPTER=void 0;var Pr=require("fs");Rt.FILE_SYSTEM_ADAPTER={lstat:Pr.lstat,stat:Pr.stat,lstatSync:Pr.lstatSync,statSync:Pr.statSync,readdir:Pr.readdir,readdirSync:Pr.readdirSync};function bS(t){return t===void 0?Rt.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Rt.FILE_SYSTEM_ADAPTER),t)}Rt.createFileSystemAdapter=bS});var jf=A(oa=>{"use strict";Object.defineProperty(oa,"__esModule",{value:!0});var wS=require("path"),RS=Wt(),AS=Hf(),qf=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=AS.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,wS.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new RS.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};oa.default=qf});var Fi=A(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.Settings=At.scandirSync=At.scandir=void 0;var Uf=Df(),OS=Bf(),aa=jf();At.Settings=aa.default;function CS(t,e,r){if(typeof e=="function"){Uf.read(t,ca(),e);return}Uf.read(t,ca(e),r)}At.scandir=CS;function TS(t,e){let r=ca(e);return OS.read(t,r)}At.scandirSync=TS;function ca(t={}){return t instanceof aa.default?t:new aa.default(t)}});var zf=A((ww,Gf)=>{"use strict";function PS(t){var e=new t,r=e;function n(){var s=e;return s.next?e=s.next:(e=new t,r=e),s.next=null,s}function i(s){r.next=s,r=s}return{get:n,release:i}}Gf.exports=PS});var Yf=A((Rw,la)=>{"use strict";var xS=zf();function Wf(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=xS(kS),i=null,s=null,o=0,a=null,c={push:y,drain:De,saturated:De,pause:l,paused:!1,concurrency:r,running:h,resume:p,idle:m,length:u,getQueue:f,unshift:v,empty:De,kill:w,killAndDrain:I,error:F};return c;function h(){return o}function l(){c.paused=!0}function u(){for(var k=i,$=0;k;)k=k.next,$++;return $}function f(){for(var k=i,$=[];k;)$.push(k.value),k=k.next;return $}function p(){if(!!c.paused){c.paused=!1;for(var k=0;k<c.concurrency;k++)o++,S()}}function m(){return o===0&&c.length()===0}function y(k,$){var N=n.get();N.context=t,N.release=S,N.value=k,N.callback=$||De,N.errorHandler=a,o===c.concurrency||c.paused?s?(s.next=N,s=N):(i=N,s=N,c.saturated()):(o++,e.call(t,N.value,N.worked))}function v(k,$){var N=n.get();N.context=t,N.release=S,N.value=k,N.callback=$||De,o===c.concurrency||c.paused?i?(N.next=i,i=N):(i=N,s=N,c.saturated()):(o++,e.call(t,N.value,N.worked))}function S(k){k&&n.release(k);var $=i;$?c.paused?o--:(s===i&&(s=null),i=$.next,$.next=null,e.call(t,$.value,$.worked),s===null&&c.empty()):--o===0&&c.drain()}function w(){i=null,s=null,c.drain=De}function I(){i=null,s=null,c.drain(),c.drain=De}function F(k){a=k}}function De(){}function kS(){this.value=null,this.callback=De,this.next=null,this.release=De,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var i=t.callback,s=t.errorHandler,o=t.value;t.value=null,t.callback=De,t.errorHandler&&s(r,o),i.call(t.context,r,n),t.release(t)}}function LS(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(l,u){e.call(this,l).then(function(f){u(null,f)},u)}var i=Wf(t,n,r),s=i.push,o=i.unshift;return i.push=a,i.unshift=c,i.drained=h,i;function a(l){var u=new Promise(function(f,p){s(l,function(m,y){if(m){p(m);return}f(y)})});return u.catch(De),u}function c(l){var u=new Promise(function(f,p){o(l,function(m,y){if(m){p(m);return}f(y)})});return u.catch(De),u}function h(){var l=i.drain,u=new Promise(function(f){i.drain=function(){l(),f()}});return u}}la.exports=Wf;la.exports.promise=LS});var Mi=A(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.joinPathSegments=ze.replacePathSegmentSeparator=ze.isAppliedFilter=ze.isFatalError=void 0;function NS(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}ze.isFatalError=NS;function DS(t,e){return t===null||t(e)}ze.isAppliedFilter=DS;function IS(t,e){return t.split(/[/\\]/).join(e)}ze.replacePathSegmentSeparator=IS;function FS(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}ze.joinPathSegments=FS});var ha=A(ua=>{"use strict";Object.defineProperty(ua,"__esModule",{value:!0});var MS=Mi(),Vf=class{constructor(e,r){this._root=e,this._settings=r,this._root=MS.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};ua.default=Vf});var da=A(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});var $S=require("events"),BS=Fi(),HS=Yf(),$i=Mi(),qS=ha(),Kf=class extends qS.default{constructor(e,r){super(e,r);this._settings=r,this._scandir=BS.scandir,this._emitter=new $S.EventEmitter,this._queue=HS(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let s of i)this._handleEntry(s,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!$i.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=$i.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),$i.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&$i.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};fa.default=Kf});var Xf=A(pa=>{"use strict";Object.defineProperty(pa,"__esModule",{value:!0});var jS=da(),Zf=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new jS.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{US(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{GS(e,this._storage)}),this._reader.read()}};pa.default=Zf;function US(t,e){t(e)}function GS(t,e){t(null,e)}});var Jf=A(ma=>{"use strict";Object.defineProperty(ma,"__esModule",{value:!0});var zS=require("stream"),WS=da(),Qf=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new WS.default(this._root,this._settings),this._stream=new zS.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};ma.default=Qf});var td=A(ga=>{"use strict";Object.defineProperty(ga,"__esModule",{value:!0});var YS=Fi(),Bi=Mi(),VS=ha(),ed=class extends VS.default{constructor(){super(...arguments);this._scandir=YS.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(e){if(!!Bi.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=Bi.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Bi.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Bi.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};ga.default=ed});var nd=A(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});var KS=td(),rd=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new KS.default(this._root,this._settings)}read(){return this._reader.read()}};ya.default=rd});var sd=A(_a=>{"use strict";Object.defineProperty(_a,"__esModule",{value:!0});var ZS=require("path"),XS=Fi(),id=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,ZS.sep),this.fsScandirSettings=new XS.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};_a.default=id});var Ea=A(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.Settings=We.walkStream=We.walkSync=We.walk=void 0;var od=Xf(),QS=Jf(),JS=nd(),va=sd();We.Settings=va.default;function eb(t,e,r){if(typeof e=="function"){new od.default(t,Hi()).read(e);return}new od.default(t,Hi(e)).read(r)}We.walk=eb;function tb(t,e){let r=Hi(e);return new JS.default(t,r).read()}We.walkSync=tb;function rb(t,e){let r=Hi(e);return new QS.default(t,r).read()}We.walkStream=rb;function Hi(t={}){return t instanceof va.default?t:new va.default(t)}});var ba=A(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var nb=require("path"),ib=Wt(),ad=rt(),cd=class{constructor(e){this._settings=e,this._fsStatSettings=new ib.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return nb.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:ad.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!ad.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};Sa.default=cd});var Ra=A(wa=>{"use strict";Object.defineProperty(wa,"__esModule",{value:!0});var sb=require("stream"),ob=Wt(),ab=Ea(),cb=ba(),ld=class extends cb.default{constructor(){super(...arguments);this._walkStream=ab.walkStream,this._stat=ob.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),i=new sb.PassThrough({objectMode:!0});i._write=(s,o,a)=>this._getEntry(n[s],e[s],r).then(c=>{c!==null&&r.entryFilter(c)&&i.push(c),s===n.length-1&&i.end(),a()}).catch(a);for(let s=0;s<n.length;s++)i.write(s);return i}_getEntry(e,r,n){return this._getStat(e).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(i,s)=>i===null?r(s):n(i))})}};wa.default=ld});var hd=A(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});var xr=rt(),ud=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=xr.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(e){return xr.pattern.getPatternParts(e,this._micromatchOptions).map(n=>xr.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:xr.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return xr.array.splitWhen(e,r=>r.dynamic&&xr.pattern.hasGlobStar(r.pattern))}};Aa.default=ud});var dd=A(Oa=>{"use strict";Object.defineProperty(Oa,"__esModule",{value:!0});var lb=hd(),fd=class extends lb.default{match(e){let r=e.split("/"),n=r.length,i=this._storage.filter(s=>!s.complete||s.segments.length>n);for(let s of i){let o=s.sections[0];if(!s.complete&&n>o.length||r.every((c,h)=>{let l=s.segments[h];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Oa.default=fd});var md=A(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var qi=rt(),ub=dd(),pd=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let i=this._getMatcher(r),s=this._getNegativePatternsRe(n);return o=>this._filter(e,o,i,s)}_getMatcher(e){return new ub.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter(qi.pattern.isAffectDepthOfReadingPattern);return qi.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,i){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let s=qi.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(s,n)?!1:this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(e,r){return this._settings.deep===1/0?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let i=e.split("/").length;return n-i}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!qi.pattern.matchAny(e,r)}};Ca.default=pd});var yd=A(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});var Yt=rt(),gd=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=Yt.pattern.convertPatternsToRe(e,this._micromatchOptions),i=Yt.pattern.convertPatternsToRe(r,this._micromatchOptions);return s=>this._filter(s,n,i)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let i=this._settings.baseNameMatch?e.name:e.path,s=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(e.path,n);return this._settings.unique&&s&&this._createIndexRecord(e),s}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=Yt.path.makeAbsolute(this._settings.cwd,e);return Yt.pattern.matchAny(n,r)}_isMatchToPatterns(e,r){let n=Yt.path.removeLeadingDotSegment(e);return Yt.pattern.matchAny(n,r)||Yt.pattern.matchAny(n+"/",r)}};Ta.default=gd});var vd=A(Pa=>{"use strict";Object.defineProperty(Pa,"__esModule",{value:!0});var hb=rt(),_d=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return hb.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};Pa.default=_d});var bd=A(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});var Ed=rt(),Sd=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=Ed.path.makeAbsolute(this._settings.cwd,r),r=Ed.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};xa.default=Sd});var ji=A(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});var fb=require("path"),db=md(),pb=yd(),mb=vd(),gb=bd(),wd=class{constructor(e){this._settings=e,this.errorFilter=new mb.default(this._settings),this.entryFilter=new pb.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new db.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new gb.default(this._settings)}_getRootDirectory(e){return fb.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};ka.default=wd});var Ad=A(La=>{"use strict";Object.defineProperty(La,"__esModule",{value:!0});var yb=Ra(),_b=ji(),Rd=class extends _b.default{constructor(){super(...arguments);this._reader=new yb.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),i=[];return new Promise((s,o)=>{let a=this.api(r,e,n);a.once("error",o),a.on("data",c=>i.push(n.transform(c))),a.once("end",()=>s(i))})}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};La.default=Rd});var Cd=A(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});var vb=require("stream"),Eb=Ra(),Sb=ji(),Od=class extends Sb.default{constructor(){super(...arguments);this._reader=new Eb.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),i=this.api(r,e,n),s=new vb.Readable({objectMode:!0,read:()=>{}});return i.once("error",o=>s.emit("error",o)).on("data",o=>s.emit("data",n.transform(o))).once("end",()=>s.emit("end")),s.once("close",()=>i.destroy()),s}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Na.default=Od});var Pd=A(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});var bb=Wt(),wb=Ea(),Rb=ba(),Td=class extends Rb.default{constructor(){super(...arguments);this._walkSync=wb.walkSync,this._statSync=bb.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let i of e){let s=this._getFullEntryPath(i),o=this._getEntry(s,i,r);o===null||!r.entryFilter(o)||n.push(o)}return n}_getEntry(e,r,n){try{let i=this._getStat(e);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};Da.default=Td});var kd=A(Ia=>{"use strict";Object.defineProperty(Ia,"__esModule",{value:!0});var Ab=Pd(),Ob=ji(),xd=class extends Ob.default{constructor(){super(...arguments);this._reader=new Ab.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Ia.default=xd});var Nd=A(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var kr=require("fs"),Cb=require("os"),Tb=Math.max(Cb.cpus().length,1);Lr.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:kr.lstat,lstatSync:kr.lstatSync,stat:kr.stat,statSync:kr.statSync,readdir:kr.readdir,readdirSync:kr.readdirSync};var Ld=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,Tb),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Lr.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Lr.default=Ld});var Ba=A((Vw,Fd)=>{"use strict";var Dd=uf(),Id=ff(),Pb=Ad(),xb=Cd(),kb=kd(),Fa=Nd(),Vt=rt();async function Ma(t,e){Nr(t);let r=$a(t,Pb.default,e),n=await Promise.all(r);return Vt.array.flatten(n)}(function(t){function e(o,a){Nr(o);let c=$a(o,kb.default,a);return Vt.array.flatten(c)}t.sync=e;function r(o,a){Nr(o);let c=$a(o,xb.default,a);return Vt.stream.merge(c)}t.stream=r;function n(o,a){Nr(o);let c=Id.transform([].concat(o)),h=new Fa.default(a);return Dd.generate(c,h)}t.generateTasks=n;function i(o,a){Nr(o);let c=new Fa.default(a);return Vt.pattern.isDynamicPattern(o,c)}t.isDynamicPattern=i;function s(o){return Nr(o),Vt.path.escape(o)}t.escapePath=s})(Ma||(Ma={}));function $a(t,e,r){let n=Id.transform([].concat(t)),i=new Fa.default(r),s=Dd.generate(n,i),o=new e(i);return s.map(o.read,o)}function Nr(t){if(![].concat(t).every(n=>Vt.string.isString(n)&&!Vt.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}Fd.exports=Ma});var $d=A(Kt=>{"use strict";var{promisify:Lb}=require("util"),Md=require("fs");async function Ha(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await Lb(Md[t])(r))[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function qa(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return Md[t](r)[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Kt.isFile=Ha.bind(null,"stat","isFile");Kt.isDirectory=Ha.bind(null,"stat","isDirectory");Kt.isSymlink=Ha.bind(null,"lstat","isSymbolicLink");Kt.isFileSync=qa.bind(null,"statSync","isFile");Kt.isDirectorySync=qa.bind(null,"statSync","isDirectory");Kt.isSymlinkSync=qa.bind(null,"lstatSync","isSymbolicLink")});var Ud=A((Zw,ja)=>{"use strict";var Zt=require("path"),Bd=$d(),Hd=t=>t.length>1?`{${t.join(",")}}`:t[0],qd=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return Zt.isAbsolute(r)?r:Zt.join(e,r)},Nb=(t,e)=>Zt.extname(t)?`**/${t}`:`**/${t}.${Hd(e)}`,jd=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>Zt.posix.join(t,Nb(r,e.extensions))):e.files?e.files.map(r=>Zt.posix.join(t,`**/${r}`)):e.extensions?[Zt.posix.join(t,`**/*.${Hd(e.extensions)}`)]:[Zt.posix.join(t,"**")]};ja.exports=async(t,e)=>{if(e=z({cwd:process.cwd()},e),typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async n=>await Bd.isDirectory(qd(n,e.cwd))?jd(n,e):n));return[].concat.apply([],r)};ja.exports.sync=(t,e)=>{if(e=z({cwd:process.cwd()},e),typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(n=>Bd.isDirectorySync(qd(n,e.cwd))?jd(n,e):n);return[].concat.apply([],r)}});var tp=A((Qw,ep)=>{function zd(t){return Array.isArray(t)?t:[t]}var Kd="",Wd=" ",Ua="\\",Ib=/^\s+$/,Fb=/^\\!/,Mb=/^\\#/,$b=/\r?\n/g,Bb=/^\.*\/|^\.+$/,Ga="/",Yd=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",Hb=(t,e,r)=>Object.defineProperty(t,e,{value:r}),qb=/([0-z])-([0-z])/g,Zd=()=>!1,jb=t=>t.replace(qb,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:Kd),Ub=t=>{let{length:e}=t;return t.slice(0,e-e%2)},Gb=[[/\\?\s+$/,t=>t.indexOf("\\")===0?Wd:Kd],[/\\\s/g,()=>Wd],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(t,e)=>`${e}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Ua],[/\\\\/g,()=>Ua],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,i)=>e===Ua?`\\[${r}${Ub(n)}${i}`:i==="]"&&n.length%2===0?`[${jb(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],Vd=Object.create(null),zb=(t,e)=>{let r=Vd[t];return r||(r=Gb.reduce((n,i)=>n.replace(i[0],i[1].bind(t)),t),Vd[t]=r),e?new RegExp(r,"i"):new RegExp(r)},za=t=>typeof t=="string",Wb=t=>t&&za(t)&&!Ib.test(t)&&t.indexOf("#")!==0,Yb=t=>t.split($b),Xd=class{constructor(e,r,n,i){this.origin=e,this.pattern=r,this.negative=n,this.regex=i}},Vb=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(Fb,"!").replace(Mb,"#");let i=zb(t,e);return new Xd(r,t,n,i)},Kb=(t,e)=>{throw new e(t)},it=(t,e,r)=>za(t)?t?it.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),Qd=t=>Bb.test(t);it.isNotRelative=Qd;it.convert=t=>t;var Jd=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){Hb(this,Yd,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[Yd]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Wb(e)){let r=Vb(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,zd(za(e)?Yb(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,i=!1;return this._rules.forEach(s=>{let{negative:o}=s;if(i===o&&n!==i||o&&!n&&!i&&!r)return;s.regex.test(e)&&(n=!o,i=o)}),{ignored:n,unignored:i}}_test(e,r,n,i){let s=e&&it.convert(e);return it(s,e,this._allowRelativePaths?Zd:Kb),this._t(s,r,n,i)}_t(e,r,n,i){if(e in r)return r[e];if(i||(i=e.split(Ga)),i.pop(),!i.length)return r[e]=this._testOne(e,n);let s=this._t(i.join(Ga)+Ga,r,n,i);return r[e]=s.ignored?s:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return zd(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},Ui=t=>new Jd(t),Zb=t=>it(t&&it.convert(t),t,Zd);Ui.isPathValid=Zb;Ui.default=Ui;ep.exports=Ui;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");it.convert=t;let e=/^[a-z]:\//i;it.isNotRelative=r=>e.test(r)||Qd(r)}});var E1={};Sp(E1,{default:()=>hp});var W=require("@raycast/api"),lp=Ie(Ou()),Dr=Ie(require("fs")),up=require("fs/promises");var Ya=Ie(require("node:fs"),1);var L0=(...t)=>[...new Set(t.flat())],gi=L0;var o1=Ie(To(),1),ap=Ie(Ba(),1),Va=Ie(Ud(),1);var Gd=require("node:url"),Db=t=>t&&(t instanceof URL&&(t=t.href),t.startsWith("file://")?(0,Gd.fileURLToPath)(t):t),dn=Db;var rp=Ie(require("node:process"),1),np=Ie(require("node:fs"),1),st=Ie(require("node:path"),1),ip=Ie(Ba(),1),sp=Ie(tp(),1);function Xt(t){let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}var Xb=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],Qb=t=>e=>e.startsWith("!")?"!"+st.default.posix.join(t,e.slice(1)):st.default.posix.join(t,e),Jb=(t,e)=>{let r=Xt(st.default.relative(e.cwd,st.default.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(Qb(r))},e1=t=>{let e=(0,sp.default)();for(let r of t)e.add(Jb(r.content,{cwd:r.cwd,fileName:r.filePath}));return e},t1=(t,e)=>{if(t=Xt(t),st.default.isAbsolute(e)){if(Xt(e).startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return st.default.join(t,e)},r1=(t,e)=>r=>t.ignores(Xt(st.default.relative(e,t1(e,dn(r.path||r))))),n1=async(t,e)=>{let r=st.default.join(e,t),n=await np.default.promises.readFile(r,"utf8");return{cwd:e,filePath:r,content:n}};var i1=({ignore:t=[],cwd:e=Xt(rp.default.cwd())}={})=>({ignore:[...Xb,...t],cwd:dn(e)}),Wa=async t=>{t=i1(t);let e=await(0,ip.default)("**/.gitignore",t),r=await Promise.all(e.map(i=>n1(i,t.cwd))),n=e1(r);return r1(n,t.cwd)};var a1=()=>!1,op=t=>t[0]==="!",c1=t=>{if(!t.every(e=>typeof e=="string"))throw new TypeError("Patterns must be a string or an array of strings")},l1=t=>{if(!t.cwd)return;let e;try{e=Ya.default.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},u1=t=>t.stats instanceof Ya.default.Stats?t.path:t,h1=(t,e={})=>{t=gi([t].flat()),c1(t);let r=[];e=ne(z({ignore:[],expandDirectories:!0},e),{cwd:dn(e.cwd)}),l1(e);for(let[n,i]of t.entries()){if(op(i))continue;let s=t.slice(n).filter(a=>op(a)).map(a=>a.slice(1)),o=ne(z({},e),{ignore:[...e.ignore,...s]});r.push({pattern:i,options:o})}return r},f1=(t,e)=>{let r={};return t.options.cwd&&(r.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?r=ne(z({},r),{files:t.options.expandDirectories}):typeof t.options.expandDirectories=="object"&&(r=z(z({},r),t.options.expandDirectories)),e(t.pattern,r)},d1=(t,e)=>t.options.expandDirectories?f1(t,e):[t.pattern];var p1=t=>async e=>{let{options:r}=t;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=await(0,Va.default)(r.ignore)),{pattern:e,options:r}};var cp=async(t,e)=>{let r=h1(t,e),n=async()=>e&&e.gitignore?Wa({cwd:e.cwd,ignore:e.ignore}):a1,i=async()=>{let c=await Promise.all(r.map(async h=>{let l=await d1(h,Va.default);return Promise.all(l.map(p1(h)))}));return gi(...c)},[s,o]=await Promise.all([n(),i()]),a=await Promise.all(o.map(c=>(0,ap.default)(c.pattern,c.options)));return gi(...a).filter(c=>!s(u1(c)))};var gn=require("path"),pn=require("react"),mn=(0,gn.resolve)(W.environment.supportPath,"pages");async function m1(){await(0,up.rm)((0,gn.resolve)(mn),{recursive:!0,force:!0}),await(0,W.showToast)(W.Toast.Style.Animated,"Fetching TLDR Pages...");try{await(0,lp.default)("tldr-pages/tldr/pages").clone(mn),await(0,W.showToast)(W.Toast.Style.Success,"TLDR pages fetched!")}catch{await(0,W.showToast)(W.Toast.Style.Failure,"Download Failed!","Please check your internet connexion.")}}async function g1(){let t=["osx","common","linux","windows","sunos","android"];return await Promise.all(t.map(async e=>{let r=await cp(`${mn}/${e}/*`),n=await Promise.all(r.map(i=>_1(i)));return{name:e,pages:n}}))}function hp(){let[t,e]=(0,pn.useState)(),[r,n]=(0,pn.useState)("osx"),i=t?[t[r],t.common]:void 0;async function s(o){(!(0,Dr.existsSync)(mn)||(0,Dr.readdirSync)(mn).length===0||o?.forceRefresh)&&await m1();let a=await g1();e(Object.fromEntries(a.map(c=>[c.name,c])))}return(0,pn.useEffect)(()=>{s()},[]),_jsx(W.List,{isShowingDetail:!0,searchBarAccessory:_jsx(W.List.Dropdown,{tooltip:"Platform",storeValue:!0,onChange:n},_jsx(W.List.Dropdown.Section,null,["osx","linux","windows","sunos","android"].map(o=>_jsx(W.List.Dropdown.Item,{title:o,value:o,key:o})))),isLoading:!t},i?.map(o=>_jsx(W.List.Section,{title:o.name,key:o.name},o.pages.sort((a,c)=>a.command.localeCompare(c.command)).map(a=>_jsx(W.List.Item,{title:a.command,detail:_jsx(W.List.Item.Detail,{markdown:a.markdown}),key:a.filename,actions:_jsx(W.ActionPanel,null,_jsx(W.Action.Push,{title:"Browse Examples",icon:W.Icon.ArrowRight,target:_jsx(y1,{page:a})}),_jsx(fp,{page:a}),_jsx(W.Action,{title:"Refresh Pages",icon:W.Icon.ArrowClockwise,shortcut:{modifiers:["cmd"],key:"r"},onAction:async()=>{await s({forceRefresh:!0})}}))})))))}function fp(t){let e=t.page;return e.url?_jsx(W.Action.OpenInBrowser,{title:"Open Command Website",url:e.url}):null}function y1(t){let e=t.page;return _jsx(W.List,{navigationTitle:e.command},e.items?.map(r=>_jsx(W.List.Section,{key:r.description,title:r.description},_jsx(W.List.Item,{title:r.command,key:r.command,actions:_jsx(W.ActionPanel,null,_jsx(W.Action.CopyToClipboard,{content:r.command,onCopy:async()=>{await(0,W.closeMainWindow)(),await(0,W.popToRoot)()}}),_jsx(fp,{page:e}))}))))}async function _1(t){let e=await Dr.default.promises.readFile(t).then(c=>c.toString()),r=[],n=[],i=[],s=e.split(`
`);for(let c of s)c.startsWith(">")?r.push(c.slice(2)):c.startsWith("`")?n.push(c.slice(1,-1)):c.startsWith("-")&&i.push(c.slice(2));let o=e.match(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)/),a=o?o[0]:void 0;return{command:s[0].slice(2),filename:(0,gn.parse)(t).name,subtitle:r[0],markdown:e,url:a,items:v1(n,i).map(([c,h])=>({command:c,description:h}))}}function v1(t,e){return t.map((r,n)=>[r,e[n]])}module.exports=bp(E1);0&&(module.exports={});
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
